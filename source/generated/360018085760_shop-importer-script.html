<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>360018085760 Shop Importer Script - Xentral Dokumentation</title>
    
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #fafafa;
            color: #333;
        }
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .breadcrumbs {
            background: white;
            padding: 10px 15px;
            border-radius: 5px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            font-size: 14px;
        }
        .breadcrumbs a {
            color: #667eea;
            text-decoration: none;
        }
        .breadcrumbs a:hover {
            text-decoration: underline;
        }
        .content {
            background: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        .content h1, .content h2, .content h3, .content h4 {
            color: #2d3748;
            margin-top: 2em;
            margin-bottom: 1em;
        }
        .content h1 { font-size: 2em; border-bottom: 3px solid #667eea; padding-bottom: 10px; }
        .content h2 { font-size: 1.5em; border-bottom: 2px solid #e2e8f0; padding-bottom: 5px; }
        .content h3 { font-size: 1.25em; color: #4a5568; }
        .content img {
            max-width: 800px;
            width: auto;
            height: auto;
            border-radius: 5px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.15);
            margin: 15px 0;
            display: block;
        }
        
        /* Responsive images on smaller screens */
        @media (max-width: 900px) {
            .content img {
                max-width: 100%;
            }
        }
        .content pre {
            background: #f7fafc;
            border: 1px solid #e2e8f0;
            border-radius: 5px;
            padding: 15px;
            overflow-x: auto;
            font-family: 'Monaco', 'Consolas', monospace;
        }
        .content code {
            background: #f7fafc;
            padding: 2px 4px;
            border-radius: 3px;
            font-family: 'Monaco', 'Consolas', monospace;
            font-size: 0.9em;
        }
        .content blockquote {
            border-left: 4px solid #667eea;
            margin: 20px 0;
            padding: 10px 20px;
            background: #f8f9ff;
            border-radius: 0 5px 5px 0;
        }
        .content table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        .content th, .content td {
            border: 1px solid #e2e8f0;
            padding: 12px;
            text-align: left;
        }
        .content th {
            background: #f7fafc;
            font-weight: 600;
        }
        .content ul, .content ol {
            padding-left: 25px;
            margin: 15px 0;
        }
        .content li {
            margin: 5px 0;
        }
        .footer {
            text-align: center;
            padding: 20px;
            color: #666;
            font-size: 14px;
        }
        .back-to-index {
            display: inline-block;
            background: #667eea;
            color: white;
            padding: 10px 20px;
            border-radius: 5px;
            text-decoration: none;
            margin-bottom: 20px;
            transition: background-color 0.3s;
        }
        .back-to-index:hover {
            background: #5a67d8;
            color: white;
        }
        
        /* Xentral bunte Info-Boxen (wie im Original) */
        .content .note, .content .tip, .content .important, .content .warning {
            margin: 20px 0;
            padding: 16px 20px;
            border-radius: 8px;
            border-left: 5px solid;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            position: relative;
        }
        
        /* Anmerkung - Blaue Box */
        .content .note {
            background: linear-gradient(135deg, #e6f3ff 0%, #f0f8ff 100%);
            border-left-color: #4a90e2;
            color: #1a365d;
        }
        .content .note .title {
            color: #2b6cb0;
            font-weight: 600;
            margin: 0 0 10px 0;
            font-size: 1em;
            display: flex;
            align-items: center;
        }
        .content .note .title::before {
            content: "üí¨";
            margin-right: 8px;
            font-size: 1.1em;
        }
        
        /* Tipp - Gr√ºne Box */
        .content .tip {
            background: linear-gradient(135deg, #e6ffee 0%, #f0fff4 100%);
            border-left-color: #38a169;
            color: #1a202c;
        }
        .content .tip .title {
            color: #2f855a;
            font-weight: 600;
            margin: 0 0 10px 0;
            font-size: 1em;
            display: flex;
            align-items: center;
        }
        .content .tip .title::before {
            content: "üí°";
            margin-right: 8px;
            font-size: 1.1em;
        }
        
        /* Wichtig - Orange Box */
        .content .important {
            background: linear-gradient(135deg, #fff7e6 0%, #fffaf0 100%);
            border-left-color: #ed8936;
            color: #1a202c;
        }
        .content .important .title {
            color: #c05621;
            font-weight: 600;
            margin: 0 0 10px 0;
            font-size: 1em;
            display: flex;
            align-items: center;
        }
        .content .important .title::before {
            content: "‚ö†Ô∏è";
            margin-right: 8px;
            font-size: 1.1em;
        }
        
        /* Warnung - Rote Box */
        .content .warning {
            background: linear-gradient(135deg, #ffe6e6 0%, #fff0f0 100%);
            border-left-color: #e53e3e;
            color: #1a202c;
        }
        .content .warning .title {
            color: #c53030;
            font-weight: 600;
            margin: 0 0 10px 0;
            font-size: 1em;
            display: flex;
            align-items: center;
        }
        .content .warning .title::before {
            content: "üö®";
            margin-right: 8px;
            font-size: 1.1em;
        }
        
        /* Box-Inhalte */
        .content .note p, .content .tip p, .content .important p, .content .warning p {
            margin: 8px 0;
            line-height: 1.5;
        }
        
        .content .note p:last-child, .content .tip p:last-child,
        .content .important p:last-child, .content .warning p:last-child {
            margin-bottom: 0;
        }
        
        /* Listen in Boxen */
        .content .note ul, .content .tip ul, .content .important ul, .content .warning ul,
        .content .note ol, .content .tip ol, .content .important ol, .content .warning ol {
            margin: 10px 0;
            padding-left: 20px;
        }
        
        .content .note li, .content .tip li, .content .important li, .content .warning li {
            margin: 4px 0;
        }
    </style>
    
</head>
<body>
    <div class="header">
        <h1>360018085760 Shop Importer Script</h1>
        <p>Generiert aus Markdown | Kategorie: Demo</p>
    </div>
    
    <div class="breadcrumbs">
        <a href="../index.html">üè† Startseite</a> 
        &raquo; 
        <a href="../index.html#demo">Demo</a>
        &raquo; 
        <strong>360018085760 Shop Importer Script</strong>
    </div>
    
    <a href="../index.html" class="back-to-index">‚Üê Zur√ºck zur √úbersicht</a>
    
    <div class="content">
        <p>Shop-Schnittstellen (sog. &ldquo;Importer&rdquo;) k√∂nnen kundenspezifisch erstellt oder √ºberladen werden. Dabei k√∂nnen bereits im Import-Prozess Daten ver√§ndert oder angereichert werden, auch die komplexere Umwandlung von Datenstrukturen ist m√∂glich.</p>
<h2 id="einleitung">Einleitung<a class="headerlink" href="#einleitung" title="Permanent link">&para;</a></h2>
<p>Ein gro√ües Thema bei xentral ist die Anbindung und automatische Verarbeitung von Bestellungen in Online-Shops. Obwohl viele Online-Shops bereits einen hohen Automatisierungsgrad besitzen, stellen neue Shopsysteme und deren Anbindung uns immer wieder vor Herausforderungen. Zwar besitzt fast jeder Shop eine Schnittstelle, h√§ufig stellt sich dann aber doch heraus, dass die anzubindenden Schnittstellen nicht kompatibel sind.</p>
<p>Der Importer tritt dabei als sogenannte Middleware auf und √ºbersetzt die Daten der Bestellungen aus dem Shop in ein Format, aus dem xentral dann wiederum Auftr√§ge erstellen kann. Umgekehrt ist der Importer auch daf√ºr zust√§ndig den Bestellstatus, also die Information, ob der Auftrag abgearbeitet und versendet wurde, sowie Artikeldaten und Lagerzahlen an den Shop zu √ºbertragen ‚Äì ein kompaktes Multitalent sozusagen.</p>
<h2 id="der-ablauf-innerhalb-des-shop-importers">Der Ablauf innerhalb des Shop-Importers<a class="headerlink" href="#der-ablauf-innerhalb-des-shop-importers" title="Permanent link">&para;</a></h2>
<p>Der Ablauf innerhalb des Importers folgt immer einem festen Schema. Wenn beispielsweise Auftr√§ge aus dem Shop abgeholt werden sollen, wird zun√§chst gepr√ºft ob eine Verbindung zur Shop-Schnittstelle besteht. Anschlie√üend wird ermittelt ob, beziehungsweise wie viele, Auftr√§ge im Shop abgeholt werden sollen. Wenn es Auftr√§ge abzuholen gibt, werden diese importiert und anschlie√üend im Shop als ‚ÄûIn Bearbeitung‚Äú markiert. Wenn Artikel aus dem Shop importiert oder in den Shop exportiert werden sieht das Schema √§hnlich aus. Zun√§chst erfolgt eine Pr√ºfung, ob eine Verbindung zwischen xentral und dem Shop besteht. Anschlie√üend werden die Daten √ºbertragen.</p>
<p><img alt="ShopImporterScript-1.png" src="https://help.xentral.com/hc/article_attachments/4996450950428" /></p>
<h2 id="grundlagen">Grundlagen<a class="headerlink" href="#grundlagen" title="Permanent link">&para;</a></h2>
<p>Um einen eigenen Importer zu schreiben ben√∂tigt man keine Expertenkenntnisse. Grundlegende PHP-Kenntnisse reichen aus, wenn man sich an die vorgegebene Struktur h√§lt. Im Vorfeld sind jedoch einige Dinge zu kl√§ren:</p>
<ol>
<li>Name Der Name des Importers spielt eigentlich keine gro√üe Rolle. Per Konvention ist es aber so, dass der Klassenname aus ‚ÄûShopimporter_XXX‚Äú zusammengesetzt wird. In diesem Beispiel werden wir einen speziellen Importer f√ºr Shopware entwickeln, weswegen die Klasse auch den Namen Shopimporter_Shopwarespecial tr√§gt. Die Datei selbst hei√üt wie der Klassenname in Kleinbuchstaben und wird im www/pages/ Verzeichnis der Xentral-Installation abgelegt, also beispielsweise</li>
<li>Datenbankeintrag Wird ein neuer Importer √ºber die Oberfl√§che zum System hinzugef√ºgt wird in der Datenbank in der Tabelle ‚ÄûShopexport‚Äú ein neuer Eintrag angelegt. Da dieser Importer jedoch eine Spezialanfertigung ist, muss in diesem Fall der Namen des Importer kurzerhand selbst in diese Tabelle eingetragen werden. Wichtig ist dabei, dass der Modulname dem Namen der PHP-Datei entspricht.</li>
<li>ShopimporterBase Allen internen Importern liegt die Klasse ‚ÄûShopimporterBase‚Äú zugrunde. Die Klasse beinhaltet systemrelevante Funktionen, welche die Ausf√ºhrung des Importers gew√§hrleisten. Prinzipiell sollte jeder Importer von der Basisklasse ShopimporterBase abgeleitet sein, damit sichergestellt werden kann, dass diese Funktionen auch wirklich vorhanden sind:</li>
<li>Boilerplate Zwei Variablen sind f√ºr die Verwendung der Importer relevant. $app beinhaltet die Applikation xentrals selbst und wird im Konstruktor √ºbergeben. Dadurch kann der Importer die Kernfunktionalit√§t von xentral nutzen, ohne dass daf√ºr zus√§tzlich noch etwas getan werden muss. Die Variable $intern gibt nicht an, ob es sich um einen internen Importer handelt, sondern ob die Actionhandler f√ºr das Objekt initialisiert werden m√ºssen. Dadurch ist es m√∂glich, das Objekt anderweitig zu instanziieren und zu verwenden, ohne dass es zu einem Konflikt kommt.</li>
<li>Konstruktor Im Konstruktor werden zwei Parameter √ºbergeben, $app und $intern werden direkt im Objekt hinterlegt, um sp√§ter bei Bedarf angesprochen zu werden. Dann findet die erste Logik im Modul statt: Es wird gepr√ºft ob f√ºr das Modul Actionhandler registriert werden sollen. Es gibt einige Actionhandler, die registiert werden k√∂nnen ‚Äì f√ºr dieses Beispiel orientieren wir uns aber an den grundlegenden Funktionen die eigentlich jeder Shopimporter mitbringen sollte. Es ist empfiehlt sich die Funktionsnamen wie vorgegeben zu √ºbernehmen um die Kompatibilit√§t zu gew√§hrleisten. Eine Auflistung der Funktionen sowie die Rolle, die im Importer √ºbernommen wird, folgt weiter unten im Detail.</li>
<li>EinstellungenStruktur Da eigentlich jede Shop-Schnittstelle ihre ganz eigenen Einstellungsm√∂glichkeiten hat, ist es notwendig dem Importer genau diese Einstellungsm√∂glichkeiten mit auf den Weg zu geben. Das passiert in der Funktion EinstellungenStruktur(). Hier √ºbergebene Felder werden im Oberfl√§chen-Formular des Importers angezeigt. Bei Bedarf k√∂nnen nat√ºrlich auch weitere Felder angelegt werden - f√ºr dieses Beispiel sollen aber die f√ºr die Anmeldung ben√∂tigten Daten ausreichen.</li>
<li>getKonfig Die letzte Funktion bevor es richtig los geht ist getKonfig(). In dieser Funktion werden die Daten aus den Einstellungen sowie die ID des Shopimporters an das Objekt √ºbergeben. Der Parameter $data ist ein √úberbleibsel aus der Zeit der externen Importer. In diesem Parameter werden Anweisungen f√ºr die einzelnen Funktionen parat gehalten. Diese Funktion wird vom System bei der Initialisierung des Objekts aufgerufen.</li>
</ol>
<p>Nachdem die Grundlagen f√ºr den Importer erledigt sind, kommt es jetzt zur eigentlichen Verbindung zu Shopware. Nat√ºrlich ist es m√∂glich, die komplette Kommunikation in eine eigene Klasse auszulagern oder, im Falle von Shopware, die Klasse aus der Dokumentation zu kopieren. Der Einfachheit halber reicht f√ºr dieses Beispiel aber eine kurze Funktion welche die Antwort der API zur√ºckgibt:</p>
<pre><code>protected function call($endpoint, $method, $data=array(),$params=array()){ $queryString = ''; if (!empty($params)) { $queryString = '?'.http_build_query($params);} $url = $this-&gt;apiUrl.$endpoint.$queryString; $dataString = json_encode($data);

$curl = curl_init(); curl_setopt($curl, CURLOPT_RETURNTRANSFER, true); curl_setopt($curl, CURLOPT_FOLLOWLOCATION, false); curl_setopt($curl, CURLOPT_HTTPAUTH, CURLAUTH_BASIC); curl_setopt($curl, CURLOPT_USERPWD, $this-&gt;apiUser. ':'. $this-&gt;apiKey); curl_setopt($curl, CURLOPT_HTTPHEADER, ['Content-Type: application/json; charset=utf-8']); curl_setopt($curl, CURLOPT_URL, $url); curl_setopt($curl, CURLOPT_CUSTOMREQUEST, $method); curl_setopt($curl, CURLOPT_POSTFIELDS, $dataString); return curl_exec($curl);}
</code></pre>
<h2 id="funktion-importauth">Funktion ImportAuth<a class="headerlink" href="#funktion-importauth" title="Permanent link">&para;</a></h2>
<p>Nachdem alle Voraussetzungen f√ºr die Funktion des Importers erf√ºllt sind, kann er mit Leben gef√ºllt werden. Die erste Schritt in diese Richtung ist die Funktion ImportAuth(). In externen Importer ist diese Funktion f√ºr die Authentifizierung von xentral zum Importer notwendig, in internen Importern pr√ºft die Funktion den Verbindungsaufruf zur API. Da diese Funktion jedes Mal aufgerufen wird wenn der Importer in Aktion treten soll, steckt hier f√ºr gew√∂hnlich eine Anfrage oder ein Mechanismus zum Erstellen eines Tokens. Wichtig ist dabei die R√ºckgabe von success, um mitzuteilen, dass der Importer bereit ist, um Anweisungen entgegenzunehmen und an die Shop API weiterzuleiten.</p>
<pre><code>public function ImportAuth() { $params = ['limit' =&gt; 1]; $responseJson =$this-&gt;call('articles','GET',null, $params); $response = json_decode($responseJson,true);

if($response['success']){ return 'success';}

return '';}
</code></pre>
<h2 id="funktion-importsendlistlager">Funktion ImportSendListLager<a class="headerlink" href="#funktion-importsendlistlager" title="Permanent link">&para;</a></h2>
<p>Als n√§chstes wird die Funktion ImportSendListLager() hinzugef√ºgt. Wenn die Option f√ºr das √úbertragen von Lagerzahlen in den Importeinstellungen aktiviert ist sorgt die Funktion daf√ºr, dass die Best√§nde im Shop mit dem Best√§nden in xentral synchronisiert werden. In diesem Beispiel geschieht das √ºber die Artikelnummer. Zu beachten ist, dass f√ºr diese Funktion im data-Parameter des Importer-Objekts die Daten f√ºr den zu aktualisierenden Artikel vorhanden sind.</p>
<p><code>public function ImportSendListLager() { $updatedArticles = 0; $tmp = $this-&gt;CatchRemoteCommand('data'); foreach ($tmp as $article){ $nummer = $article['nummer']; $lageranzahl = $article['anzahl_lager'];</code></p>
<pre><code>$updateInStock = [
  'mainDetail' =&gt; [
  'inStock' =&gt; $lageranzahl
]
];

$params = [
  'useNumberAsId'=&gt;true
];

$result = $this-&gt;call('articles/'.$nummer, 'PUT',$updateInStock, $params);
if($result['success']){
  $updatedArticles++;
}

</code></pre>
<p><code>} return $updatedArticles;}</code></p>
<h2 id="funktion-importsendllist">Funktion ImportSendlList<a class="headerlink" href="#funktion-importsendllist" title="Permanent link">&para;</a></h2>
<p>Die Funktion ImportSendList() ist im Grunde genommen eine aufgebohrte Version von ImportSendListLager(). Die Funktion √ºbertr√§gt Artikel an den Shop - beziehungsweise aktualisiert deren Daten. Welche Daten und vor allem wie diese √ºbertragen werden k√∂nnen, h√§ngt von der jeweiligen Shop-Schnittstelle ab. So k√∂nnen Artikeleigenschaften oder auch Bilder an den Shop √ºbertragen werden. Dabei sollte man auf die Trennung der beiden Funktionen achten, da ImportSendList nur in zwei F√§llen aufgerufen wird:</p>
<ol>
<li>Manueller Export des Artikels</li>
<li>Export des Artikels √ºber die Artikel-√úbertragung im Importer</li>
</ol>
<p><code>$articleData = [ 'name' =&gt; $name, 'lastStock' =&gt; $laststock, 'tax' =&gt; $tax, // alternativ 'taxId' =&gt; 1, 'supplier' =&gt; $supplier, // alternativ 'supplierId' =&gt; 2, 'description' =&gt; $description, 'descriptionLong' =&gt; $description_long, 'keywords' =&gt; $keywords, 'metaTitle' =&gt; $metatitle, 'highlight' =&gt; $topseller, 'mainDetail' =&gt; [ 'number' =&gt; $articleNumber, 'active' =&gt; $active, 'ean' =&gt; $ean, 'weight' =&gt; $weight, 'width' =&gt; $width, 'len' =&gt; $length, 'height' =&gt; $height, 'supplierNumber' =&gt; $supplierNumber, 'inStock' =&gt; $lageranzahl, 'prices' =&gt; $prices]];</code></p>
<h2 id="funktion-importgetauftraegeanzahl">Funktion ImportGetAuftraegeAnzahl<a class="headerlink" href="#funktion-importgetauftraegeanzahl" title="Permanent link">&para;</a></h2>
<p>In dieser Funktion wird ermittelt, wie viele offene Bestellungen im Shop vorhanden sind und abgeholt werden m√ºssen. Denkbar ist das Abholen √ºber den Status, ab einer bestimmten Bestellnummer oder aber auch √ºber das Bestelldatum. Abh√§ngig von der Shopschnittstelle sind nicht alle Optionen realisierbar.</p>
<pre><code>public function ImportGetAuftraegeAnzahl() { $result = $this-&gt;getOrders($this-&gt;data);

return count($result['data']);}
</code></pre>
<h2 id="funktion-importgetauftrag">Funktion ImportGetAuftrag<a class="headerlink" href="#funktion-importgetauftrag" title="Permanent link">&para;</a></h2>
<p>Die wichtigste Grundfunktion aller Importer ist das Abholen und √úbersetzen der Bestellungen aus dem Shop in das Warenkorbformat von xentral. Nachdem die n√§chste Bestellung von der Shop API abgeholt wurde, werden im ersten Schritt die Adressdaten des Kunden an den Warenkorb √ºbergeben:</p>
<p><code>$cart['anrede'] = 'herr'; $cart['strasse'] = $order['data']['billing']['street']; $cart['plz'] = $order['data']['billing']['zipCode']; $cart['ort'] = $order['data']['billing']['city']; $cart['land'] = $order['data']['billing']['country']['iso']; $cart['email'] = $order['data']['customer']['email']; $cart['name'] = $order['data']['billing']['firstName']. ' '. $order['data']['billing']['lastName'];</code>Falls eine abweichende Lieferadresse vorliegt, muss diese logischerweise enebfalls √ºbergeben werden. Ausserdem muss dann das Feld abweichendeliferadresse mit true bef√ºllt werden damit der Auftrag dann auch beim richtigen Empf√§nger ankommt. Anschlie√üend gibt es eine ganze Reihe wichtiger Daten, die f√ºr die weitere Verarbeitung von Bedeutung sind.<code>$cart['auftrag'] = $orderFromCollection['id']; $cart['gesamtsumme'] = $orderFromCollection['invoiceAmount']; $cart['transaktionsnummer'] = $orderFromCollection['transactionId']; $cart['onlinebestellnummer'] = $orderFromCollection['number'];... $cart['zahlungsweise'] = $order['data']['payment']['name']; $cart['lieferung'] = $order['data']['dispatch']['name']; $cart['bestelldatum'] = substr($order['data']['orderTime'],0,10); $cart['versandkostennetto'] = $order['data']['invoiceShippingNet'];</code></p>
<ul>
<li><strong>Gesamtsumme:</strong> Die Gesamtsumme des Auftrags dient als Absicherung gegen einen falsch zusammengesetzten Warenkorb. Falls Artikeldaten nicht richtig √ºbergeben wurden oder es ein Problem mit der Besteuerung gibt weicht die Gesamtsumme des Auftrags von der Gesamtsumme des Warenkorbs ab und f√ºr die Bestellung wird die Auto-Versandoption deaktiviert. Dadurch wird sichergestellt, dass keine Lieferung das Lager verl√§sst, die nicht mit der Bestellung √ºbereinstimmt.
-<strong>Transaktionsnummer:</strong> Die Transaktionsnummer ist f√ºr die Automatisierung des Rechnungswesens relevant und hilft dabei bezahlte Bestellungen zuzuordnen.
-<strong>Auftrag:</strong> In diesem Feld wird die eindeutige Kennzeichnung des Auftrags f√ºr den Shop √ºbergeben. Nicht jede Shop-Schnittstelle erlaubt es den Versandstatus einer Bestellung √ºber die Bestellnummer zu √§ndern. Gelegentlich wird eine interne ID ben√∂tigt, die an dieser Stelle √ºbergeben werden kann. Auf den hier √ºbergebenen Wert wird sp√§ter Bezug genommen, wenn eine √Ñnderung des Bestellstatus aus dem Shop √ºbermittelt wird.
-<strong>Onlinebestellnummer:</strong> In diesem Feld steht die Bestellnummer, die auch der Kunde sieht. Das erleichtert die Zuordnung und im Falle einer R√ºckfrage kann dadurch eine Bestellung aus dem Shop direkt einem Auftrag in xentral zugeordnet werden.
-<strong>Zahlungsweise:</strong> Das √úbertragen der Zahlungsweise erlaubt es, Einstellungen wie Autoversand, Fast-Lane oder das Anlegen von Rechnungen spezifisch f√ºr bestimmte Zahlungsweisen in xentral zu aktivieren oder zu deaktivieren.
-<strong>Lieferung:</strong> √Ñhnlich wie bei der Zahlungsweise kann bei √ºbergebener Lieferweise ein Matching in xentral vorgenommen werden.
-<strong>Versandkostenbrutto:</strong> Prinzipiell k√∂nnen bei einer Bestellung die Versandkosten wie ein Artikel im Warenkorb mit √ºbergeben werden. Durch die Verwendung dieses Spezialfelds werden die Versandkosten allerdings gleich auf den im Importer eingestellten Portoartikel gebucht und in den Auftrag √ºbernommen.
-<strong>Bestelldatum:</strong> Das Bestelldatum zeigt das Datum an, an dem die Bestellung eingegangen ist.</li>
</ul>
<pre><code>foreach ($order['data']['details'] as $article) { $articlearray[] = [ 'articleid' =&gt; $article['articleNumber'], 'name' =&gt; $article['articleName'], 'price' =&gt; $article['price'], 'quantity' =&gt; $article['quantity']];}

...

$orderData =[ 'id' =&gt; $cart['auftrag'], 'warenkorb' =&gt; base64_encode(serialize($cart)), 'warenkorbjson' =&gt; base64_encode(json_encode($cart))];
```Wenn die ben√∂tigten Grunddaten der Bestellung an den Warenkorb √ºbergeben wurden, ist es an der Zeit die einzelnen Positionen zum Warenkorb hinzuzuf√ºgen. Im Feld articleid wird die Artikelnummer √ºbergeben. In den anderen Feldern steht ihr jeweiliges √Ñquivalent aus der Bestellposition. Nachdem der Warenkorb mit allen Daten bef√ºllt wurde die aus der Bestellung √ºbergeben werden sollen, gibt die Funktion die Daten zur√ºck. Funktionen ImportDeleteAuftrag / ImportUpdateAuftrag Die aus historischen Gr√ºnden ung√ºnstig benannte Funktion ImportDeleteAuftrag wird nicht etwa dazu verwendet um Auftr√§ge aus dem Shop zu l√∂schen. Sie ist stattdessen daf√ºr zust√§ndig eine offene Bestellung als ‚ÄûIn Bearbeitung‚Äú zu kennzeichnen. Die Partnerfunktion ImportUpdateAuftrag kennzeichnet die Bestellung als ‚ÄûVersendet‚Äú.```
public function ImportDeleteAuftrag() { $orderId = $this-&gt;data['auftrag']; $update = [ 'orderStatusId' =&gt; 1];

$this-&gt;call('orders/'.$orderId, 'PUT',$update);

return true;}
</code></pre>
    </div>
    
    <div class="footer">
        <p>Generiert am: 16.11.2025 19:17 | 
        Quelle: Markdown zu HTML Konvertierung</p>
    </div>
</body>
</html>