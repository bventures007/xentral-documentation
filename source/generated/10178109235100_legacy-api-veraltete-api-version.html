<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>10178109235100 Legacy Api Veraltete Api Version - Xentral Dokumentation</title>
    
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #fafafa;
            color: #333;
        }
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .breadcrumbs {
            background: white;
            padding: 10px 15px;
            border-radius: 5px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            font-size: 14px;
        }
        .breadcrumbs a {
            color: #667eea;
            text-decoration: none;
        }
        .breadcrumbs a:hover {
            text-decoration: underline;
        }
        .content {
            background: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        .content h1, .content h2, .content h3, .content h4 {
            color: #2d3748;
            margin-top: 2em;
            margin-bottom: 1em;
        }
        .content h1 { font-size: 2em; border-bottom: 3px solid #667eea; padding-bottom: 10px; }
        .content h2 { font-size: 1.5em; border-bottom: 2px solid #e2e8f0; padding-bottom: 5px; }
        .content h3 { font-size: 1.25em; color: #4a5568; }
        .content img {
            max-width: 800px;
            width: auto;
            height: auto;
            border-radius: 5px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.15);
            margin: 15px 0;
            display: block;
        }
        
        /* Responsive images on smaller screens */
        @media (max-width: 900px) {
            .content img {
                max-width: 100%;
            }
        }
        .content pre {
            background: #f7fafc;
            border: 1px solid #e2e8f0;
            border-radius: 5px;
            padding: 15px;
            overflow-x: auto;
            font-family: 'Monaco', 'Consolas', monospace;
        }
        .content code {
            background: #f7fafc;
            padding: 2px 4px;
            border-radius: 3px;
            font-family: 'Monaco', 'Consolas', monospace;
            font-size: 0.9em;
        }
        .content blockquote {
            border-left: 4px solid #667eea;
            margin: 20px 0;
            padding: 10px 20px;
            background: #f8f9ff;
            border-radius: 0 5px 5px 0;
        }
        .content table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        .content th, .content td {
            border: 1px solid #e2e8f0;
            padding: 12px;
            text-align: left;
        }
        .content th {
            background: #f7fafc;
            font-weight: 600;
        }
        .content ul, .content ol {
            padding-left: 25px;
            margin: 15px 0;
        }
        .content li {
            margin: 5px 0;
        }
        .footer {
            text-align: center;
            padding: 20px;
            color: #666;
            font-size: 14px;
        }
        .back-to-index {
            display: inline-block;
            background: #667eea;
            color: white;
            padding: 10px 20px;
            border-radius: 5px;
            text-decoration: none;
            margin-bottom: 20px;
            transition: background-color 0.3s;
        }
        .back-to-index:hover {
            background: #5a67d8;
            color: white;
        }
        
        /* Xentral bunte Info-Boxen (wie im Original) */
        .content .note, .content .tip, .content .important, .content .warning {
            margin: 20px 0;
            padding: 16px 20px;
            border-radius: 8px;
            border-left: 5px solid;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            position: relative;
        }
        
        /* Anmerkung - Blaue Box */
        .content .note {
            background: linear-gradient(135deg, #e6f3ff 0%, #f0f8ff 100%);
            border-left-color: #4a90e2;
            color: #1a365d;
        }
        .content .note .title {
            color: #2b6cb0;
            font-weight: 600;
            margin: 0 0 10px 0;
            font-size: 1em;
            display: flex;
            align-items: center;
        }
        .content .note .title::before {
            content: "üí¨";
            margin-right: 8px;
            font-size: 1.1em;
        }
        
        /* Tipp - Gr√ºne Box */
        .content .tip {
            background: linear-gradient(135deg, #e6ffee 0%, #f0fff4 100%);
            border-left-color: #38a169;
            color: #1a202c;
        }
        .content .tip .title {
            color: #2f855a;
            font-weight: 600;
            margin: 0 0 10px 0;
            font-size: 1em;
            display: flex;
            align-items: center;
        }
        .content .tip .title::before {
            content: "üí°";
            margin-right: 8px;
            font-size: 1.1em;
        }
        
        /* Wichtig - Orange Box */
        .content .important {
            background: linear-gradient(135deg, #fff7e6 0%, #fffaf0 100%);
            border-left-color: #ed8936;
            color: #1a202c;
        }
        .content .important .title {
            color: #c05621;
            font-weight: 600;
            margin: 0 0 10px 0;
            font-size: 1em;
            display: flex;
            align-items: center;
        }
        .content .important .title::before {
            content: "‚ö†Ô∏è";
            margin-right: 8px;
            font-size: 1.1em;
        }
        
        /* Warnung - Rote Box */
        .content .warning {
            background: linear-gradient(135deg, #ffe6e6 0%, #fff0f0 100%);
            border-left-color: #e53e3e;
            color: #1a202c;
        }
        .content .warning .title {
            color: #c53030;
            font-weight: 600;
            margin: 0 0 10px 0;
            font-size: 1em;
            display: flex;
            align-items: center;
        }
        .content .warning .title::before {
            content: "üö®";
            margin-right: 8px;
            font-size: 1.1em;
        }
        
        /* Box-Inhalte */
        .content .note p, .content .tip p, .content .important p, .content .warning p {
            margin: 8px 0;
            line-height: 1.5;
        }
        
        .content .note p:last-child, .content .tip p:last-child,
        .content .important p:last-child, .content .warning p:last-child {
            margin-bottom: 0;
        }
        
        /* Listen in Boxen */
        .content .note ul, .content .tip ul, .content .important ul, .content .warning ul,
        .content .note ol, .content .tip ol, .content .important ol, .content .warning ol {
            margin: 10px 0;
            padding-left: 20px;
        }
        
        .content .note li, .content .tip li, .content .important li, .content .warning li {
            margin: 4px 0;
        }
    </style>
    
</head>
<body>
    <div class="header">
        <h1>10178109235100 Legacy Api Veraltete Api Version</h1>
        <p>Generiert aus Markdown | Kategorie: Demo</p>
    </div>
    
    <div class="breadcrumbs">
        <a href="../index.html">üè† Startseite</a> 
        &raquo; 
        <a href="../index.html#demo">Demo</a>
        &raquo; 
        <strong>10178109235100 Legacy Api Veraltete Api Version</strong>
    </div>
    
    <a href="../index.html" class="back-to-index">‚Üê Zur√ºck zur √úbersicht</a>
    
    <div class="content">
        <h3 id="achtung-wichtige-mitteilung-nutzung-der-neuesten-api-empfohlenletzte-aktualisierung-dieser-information-012025-bitte-beachte-dass-die-beiden-alteren-api-versionen-rest-api-und-die-zuvor-eingefuhrte-api-abgekundigt-sind-und-sich-im-wartungsmodus-befindenwir-empfehlen-ihnen-dringend-die-neueste-api-generation-zu-verwenden-da-diese-aktiv-weiterentwickelt-wird-neue-funktionen-bietet-und-sicherheitsstandards-erfullt-vorteile-der-neuesten-api">Achtung <strong>Wichtige Mitteilung: Nutzung der neuesten API empfohlen</strong><em>(letzte Aktualisierung dieser Information: 01/2025)</em> Bitte beachte, dass die beiden √§lteren API-Versionen (REST-API und die zuvor eingef√ºhrte API) abgek√ºndigt sind und sich im Wartungsmodus befinden.Wir empfehlen Ihnen dringend, die <strong>neueste API-Generation <strong>zu verwenden, da diese aktiv weiterentwickelt wird, neue Funktionen bietet und Sicherheitsstandards erf√ºllt. </strong> Vorteile der neuesten API:</strong><a class="headerlink" href="#achtung-wichtige-mitteilung-nutzung-der-neuesten-api-empfohlenletzte-aktualisierung-dieser-information-012025-bitte-beachte-dass-die-beiden-alteren-api-versionen-rest-api-und-die-zuvor-eingefuhrte-api-abgekundigt-sind-und-sich-im-wartungsmodus-befindenwir-empfehlen-ihnen-dringend-die-neueste-api-generation-zu-verwenden-da-diese-aktiv-weiterentwickelt-wird-neue-funktionen-bietet-und-sicherheitsstandards-erfullt-vorteile-der-neuesten-api" title="Permanent link">&para;</a></h3>
<ul>
<li>Erweiterte Funktionalit√§ten</li>
<li>Verbesserte Leistung und Stabilit√§t</li>
<li>Zukunftssichere Entwicklung</li>
</ul>
<p>Weitere Informationen zur neuen API und zur Migration findest du in der<a href="https://developer.xentral.com/reference/intro">API-Dokumentation</a>, allgemeine Informationen im Helpcenter-Artikel<a href="https://help.xentral.com/hc/de/articles/6618896113820#UUID-03a6d5d2-0c6b-65c8-6753-4bc5ad5bb509">API Dokumentation und Ressourcen (Neue Xentral API)</a>. F√ºr Fragen oder Unterst√ºtzung bei der Migration steht unser Support-Team gerne zur Verf√ºgung.</p>
<p>Dieser Artikel behandelt die Legacy-API von Xentral. Wir empfehlen jedoch die Nutzung der neuesten Generation der XentralAPI, da diese kontinuierlich weiterentwickelt wird und modernste Funktionalit√§ten bietet.</p>
<p>In Xentral stehen derzeit zwei Legacy-APIs zur Verf√ºgung:</p>
<p>-<strong>REST-API (Legacy)</strong>: Die REST-API-Dokumentation f√ºr die abgek√ºndigte Version ist weiterhin verf√ºgbar und enth√§lt alle relevanten Informationen zur Nutzung dieser API, einschlie√ülich der Erstellung eines API-Accounts, der Gestaltung von Anfragen sowie der Liste der verf√ºgbaren Endpunkte. Die Dokumentation kann unter www/api/docs.html oder online abgerufen werden: <a href="https://update.xentral.biz/apidoc/docs211.html">REST-API-Dokumentation (Legacy)</a>. Bitte beachte, dass diese API-Version sich im Wartungsmodus befindet und keine neuen Funktionen oder Updates erh√§lt.
-<strong>Standard-API (Legacy)</strong>: Die folgende Dokumentation beschreibt eine √§ltere, vor der REST-API eingef√ºhrte API-Version, die f√ºr die Anbindung externer Systeme genutzt werden kann. Sie unterst√ºtzt grundlegende Funktionen wie das Anlegen und Bearbeiten von Adressen, Auftr√§gen und Benutzern, Single Sign-On sowie Event-Handler f√ºr R√ºckmeldungen an Fremdsysteme. Diese API wird nicht weiterentwickelt und ist ausschlie√ülich f√ºr bestehende Integrationen vorgesehen.</p>
<h2 id="rest-api-legacy">REST API (Legacy)<a class="headerlink" href="#rest-api-legacy" title="Permanent link">&para;</a></h2>
<blockquote>
<p><strong>Wichtig</strong></p>
<p>Wir empfehlen nicht mehr die Anbindung der Standard-API √ºber die Hash-Authentifizierung vorzunehmen. Stattdessen ist unsere Empfehlung die REST-API, mit der auch die Funktionsaufrufe der Standard-API (dieser API) vorgenommen werden k√∂nnen.</p>
</blockquote>
<p>Ab Version 18.3 gibt es in der xentral ERP-Software zus√§tzlich eine REST-API, die k√ºnftig weiter ausgebaut wird und sp√§ter die alten API-Aufrufe abl√∂sen soll. Spezifische Infos zur xentral-API findest du hier.</p>
<p>Die Dokumentation zur REST-API befinden sich in der Installation unter www/api/docs.html. Dort wird erkl√§rt, wie ein API-Account angelegt werden kann, wie Anfragen an API-Ressourcen aussehen m√ºssen, welche API-Endpunkte existieren, usw.</p>
<p>Die API-Dokumentation wird mit xentral ausgeliefert und kann in jeder xentral-Instanz unter instanzname/www/api/docs.html im Browser aufgerufen werden. Oft wird das /www/ jedoch nicht ben√∂tigt.</p>
<p>Alternativ ist die API-Dokumentation, nach Versionen gegliedert, auch online zu finden:<a href="https://update.xentral.biz/apidoc/docs224.html">https://update.xentral.biz/apidoc/docs224.html</a></p>
<p>Prinzipiell kann die Version im Pfadname angegeben werden, Die Version 22.4 findet sich beispielsweise im Pfad docs224.html.</p>
<h3 id="weitere-informationen-zu-rest-apis">Weitere Informationen zu Rest-APIs<a class="headerlink" href="#weitere-informationen-zu-rest-apis" title="Permanent link">&para;</a></h3>
<p>Bei der Bereitstellung von Tracking-Nummern √ºber die API ist keine weitere √úbertragung vorgesehen, um diese Informationen an die Shops zu √ºbermitteln.</p>
<p>Diese Aufgabe kann durch den Cronjob (shop_rueckmeldung) erledigt werden. Dies funktioniert jedoch nur f√ºr die folgenden logistischen Modi:</p>
<p><img alt="API-Documentation.png" src="https://help.xentral.com/hc/article_attachments/10178120500124" /></p>
<blockquote>
<p><strong>Anmerkung</strong></p>
<p>Mit der neuen Versionen (ab 22.1.x) ist die Authentifizierung per Hash nicht mehr notwendig/m√∂glich. Wir setzen auf DIGEST in Zusammenhang mit unseren REST-API.</p>
</blockquote>
<h2 id="standard-api-legacy">Standard-API (Legacy)<a class="headerlink" href="#standard-api-legacy" title="Permanent link">&para;</a></h2>
<p>Die folgende API Dokumentation bezieht sich NICHT auf die REST-API (siehe oben). F√ºr die Anbindung externer Systeme bietet xentral eine API an, die im Folgenden beschrieben wird.</p>
<h3 id="achtung">Achtung<a class="headerlink" href="#achtung" title="Permanent link">&para;</a></h3>
<p>Ab Version 22.1.x wird die Hash-Authentifizierung nicht mehr unterst√ºtzt, daher musst du √ºber die REST-API auf DIGEST Auth umstellen.</p>
<h3 id="funktionsumfang">Funktionsumfang<a class="headerlink" href="#funktionsumfang" title="Permanent link">&para;</a></h3>
<p>Funktionen der API:</p>
<ul>
<li>Anlegen und Bearbeitung von Adressen</li>
<li>Anlegen und Bearbeitung von Auftr√§gen</li>
<li>Anlegen und Bearbeitung von Benutzern</li>
<li>Single Sign On / Externes starten und beenden der Session aus einem zentralen Login</li>
<li>R√ºckmeldung bei √Ñnderungen in xentral in das Fremdsystem (Event-Handler)</li>
</ul>
<h3 id="abkurzungsverzeichnis">Abk√ºrzungsverzeichnis<a class="headerlink" href="#abkurzungsverzeichnis" title="Permanent link">&para;</a></h3>
<ul>
<li>Fremdsystem (z.B. das eigene Webbackend aus einem eigenen Portal)</li>
<li>xentral (Zentrale Installation von xentral)</li>
<li>Hash (Authentifizierungs-Token f√ºr API)</li>
<li>Methode (Aufruf der Methode / Ist in URL der Parameter action=&rsquo;Name der Methode bzw. Request&rsquo;)</li>
</ul>
<h3 id="zugriff">Zugriff<a class="headerlink" href="#zugriff" title="Permanent link">&para;</a></h3>
<p>Um mit der API kommunizieren zu k√∂nnen, wird ein Hash ben√∂tigt. Um einen Hash zu erstellen, ist unter Administration ‚Üí Einstellungen ‚Üí Grundeinstellungen ‚Üí API&rsquo;s zu gehen. Der Haken &ldquo;API aktiviert&rdquo; muss gesetzt sein. Unter &ldquo;Initkey&rdquo; muss eine beliebig lange und aus beliebigen Buchstaben und Zahlen zusammengesetzte Zeichenkette stehen, die keine Satz-, Sonderzeichen oder Umlaute beinhaltet. Unter &ldquo;Remote Domain&rdquo; ebenfalls eine beliebige Kennung z.B: die Domain, von der aus die API genutzt wird (www.meinedomain.de). Wichtig ist, dass diese auch auf der anderen Seite im Client Quelltext angegeben ist. Am Ende darf kein / stehen. Au√üerdem muss der &ldquo;UTF8 Clean&rdquo; Haken gesetzt bleiben. Zum Abschluss ist auf die &ldquo;Speichern&rdquo;-Schaltfl√§che zu klicken.</p>
<p>Nach dem Speichern wird bei &ldquo;Aktueller Key&rdquo; der Hash erstellt.</p>
<p>Prinzipiell gibt es zwei M√∂glichkeiten f√ºr die Kommunikation</p>
<ul>
<li>Standard Request (Standard POST Request vom Fremdsystem) um z.B. Aufruf einer Methode um einen neuen Auftrag, Adresse oder Benutzer √ºber die API anzulegen bzw. zu bearbeiten</li>
<li>Event Handler (Standard POST Request von xentral): xentral ruft eine hinterlegte URL auf, wenn ein Auftrag, Adresse, Benutzer o.√§. erstellt oder ge√§ndert wird</li>
</ul>
<p>Der POST Request wird an die URL</p>
<p>index.php?module=api&amp;action=&rsquo;Request&rsquo;&amp;hash=XXXXXXXXXXXXXXXX gesendet.</p>
<p>Als POST Variablen m√ºssen immer dabei sein:</p>
<ul>
<li>xml (optional wenn Datenstrukturen notwendig sind)</li>
</ul>
<p>In der Variable xml muss das Format wie folgt aussehen:</p>
<pre><code>  &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;request&gt;
  &lt;status&gt;
  &lt;function&gt;ArtikelCreate&lt;/function&gt;
  &lt;/status&gt;
  &lt;xml&gt;
  &lt;name_de&gt;Saft Bene&lt;/name_de&gt;
  &lt;nummer&gt;1616161&lt;/nummer&gt;
  &lt;einkaufspreise&gt;
  &lt;staffelpreis&gt;
  &lt;ab_menge&gt;1&lt;/ab_menge&gt;
  &lt;preis&gt;728.22&lt;/preis&gt;
  &lt;lieferantennummer&gt;70000&lt;/lieferantennummer&gt;
  &lt;/staffelpreis&gt;
  &lt;/einkaufspreise&gt;
  &lt;verkaufspreise&gt;
  &lt;staffelpreis&gt;
  &lt;ab_menge&gt;1&lt;/ab_menge&gt;
  &lt;preis&gt;718,22&lt;/preis&gt;
  &lt;/staffelpreis&gt;
  &lt;staffelpreis&gt;
  &lt;ab_menge&gt;1&lt;/ab_menge&gt;
  &lt;preis&gt;618,22&lt;/preis&gt;
  &lt;kundennummer&gt;10006&lt;/kundennummer&gt;
  &lt;projekt&gt;VM001&lt;/projekt&gt;
  &lt;/staffelpreis&gt;
  &lt;/verkaufspreise&gt;
  &lt;/xml&gt;
&lt;/request&gt;
&lt;/nowiki&gt;


```Sendet die Methode Request eine Antwort, erfolgt diese als XML Struktur:```
  &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;response&gt;
  &lt;status&gt;
  &lt;action&gt;Aufgerufene Methode&lt;/action&gt;
  &lt;message&gt;Statusnachricht&lt;/message&gt;
  &lt;messageCode&gt;Statuscode (Bei Erfolg: 1, siehe unten)&lt;/messageCode&gt;
  &lt;/status&gt;
  &lt;md5sum&gt;&lt;/md5sum&gt;
  &lt;xml&gt;&lt;/xml&gt;
&lt;/response&gt;


</code></pre>
<h3 id="statuscodes">Statuscodes<a class="headerlink" href="#statuscodes" title="Permanent link">&para;</a></h3>
<p>Folgende Statuscodes sind m√∂glich:</p>
<ul>
<li>1: Erfolg, alles OK (OK)</li>
<li>2: Hash falsch (Wrong Hash)</li>
<li>3: Zu wenige GET Parameter (Wrong number of GET parameters)</li>
<li>4: Falsche XML Daten (Wrong XML data structure for method)</li>
<li>5: Falscher Schl√ºssel (id) (Invalid key (id))</li>
<li>6: Falsche MD5-Summe (Wrong md5sum)</li>
<li>7: Username existiert bereits (Username exists already)</li>
<li>8: Daten nicht gefunden (Data not found)</li>
<li>Sonst: (Unkown message code)</li>
</ul>
<h3 id="api-hash-fur-authentifizierung">API Hash f√ºr Authentifizierung<a class="headerlink" href="#api-hash-fur-authentifizierung" title="Permanent link">&para;</a></h3>
<p>F√ºr den Zugriff auf die API wird ein Token ben√∂tigt. Es wird empfohlen, per https auf die API zuzugreifen.</p>
<pre><code>  function generateHash()
{

  $initKey = 'EXsl4ywgDR5mR3sTGwws9Ikl2ocSKZlvhxoFTv8Au3MaV5UqrEIJORVF5PmFNy';
  $appName = 'NameDerApp';
  $date = gmdate('dmY');
  $hash = &quot;&quot;;

  for($i = 0; $i &lt;= 200; $i++) 
  $hash = sha1($hash. $initKey. $appName. $date);

  return $hash;
}


</code></pre>
<h3 id="standard-request-an-xentral-senden">Standard Request an xentral senden<a class="headerlink" href="#standard-request-an-xentral-senden" title="Permanent link">&para;</a></h3>
<p>Ist das API Modul vorhanden, kann wie folgt darauf zugegriffen werden:</p>
<p>index.php?module=api&amp;action=&rsquo;Request&rsquo;&amp;hash=&rsquo;Hash&rsquo;</p>
<p>Per URL wird die Methode bzw. der Request definiert. Optionale Daten werden als POST an die API √ºbertragen.</p>
<p>Zur einfachen Kommunikation k√∂nnen diese Funktionen verwendet werden:</p>
<pre><code>  function SendRequest($methodname,$xml,$hash)
{
  $url = 'http://server.com/index.php?module=api&amp;action='.$methodname.'&amp;hash='.$hash;
  $data = array('xml' =&gt; $xml, 'md5sum' =&gt; md5($xml));

  // use key 'http' even if you send the request to https://...
  $options = array(
  'http' =&gt; array(
  'header' =&gt; &quot;Content-type: application/x-www-form-urlencoded\r\n&quot;,
  'method' =&gt; 'POST',
  'content' =&gt; http_build_query($data),
),
);
  $context = stream_context_create($options);
  $result = file_get_contents($url, false, $context);
  return $result;
}


```Als Antwort f√ºr den Request folgt eine XML Nachricht:```
  &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;response&gt;
  &lt;status&gt;
  &lt;action&gt;Aufgerufene Methode&lt;/action&gt;
  &lt;message&gt;Statusnachricht&lt;/message&gt;
  &lt;messageCode&gt;Statuscode&lt;/messageCode&gt;
  &lt;/status&gt;
  &lt;md5sum&gt;&lt;/md5sum&gt;
  &lt;xml&gt;&lt;/xml&gt;
&lt;/response&gt;


</code></pre>
<h3 id="event-handler-aufruf-entgegennehmen">Event Handler Aufruf entgegennehmen<a class="headerlink" href="#event-handler-aufruf-entgegennehmen" title="Permanent link">&para;</a></h3>
<p>Zum Empfang und Auswerten von Events von xentral an das Fremdsystem werden folgende Variablen per POST √ºbertragen.</p>
<p>per URL:?action=YYYYY&amp;hash=XXXXXXXXX</p>
<pre><code>  &lt;?php

$action = $_GET['action'];
$hash = $_GET['hash'];
$xml = $_POST['xml'];
$md5sum = $_POST['md5sum'];

?&gt;


</code></pre>
<h3 id="liste-mit-standard-requests">Liste mit Standard Requests<a class="headerlink" href="#liste-mit-standard-requests" title="Permanent link">&para;</a></h3>
<p>Im Folgenden werden die Standard Requests tabellarisch aufgezeigt:</p>
<table>
<thead>
<tr>
<th>Request (Parameter action)</th>
<th>Beschreibung</th>
<th>GET Parameter</th>
<th>XML Daten</th>
<th>XML R√ºckgabe im Erfolg</th>
<th>Beschreibung R√ºckgabe im Erfolg</th>
</tr>
</thead>
<tbody>
<tr>
<td>AdresseCreate</td>
<td>Anlegen einer neuen Adresse</td>
<td>-</td>
<td>XML Adresse per POST in Feld xml (kundennummer=<code>new</code> wenn eine vergeben werden soll)</td>
<td><id>34</id><kundennummer></kundennummer></td>
<td>Neue ID der Adresse bzw. Kundennummer</td>
</tr>
<tr>
<td>AdresseEdit</td>
<td>√Ñnderung einer bestehenden Adresse</td>
<td><code>id</code> oder<code>kundennummer</code> und optional<code>projekt</code></td>
<td>XML Adresse per POST in Feld xml</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>AdresseGet</td>
<td>Abfragen einer bestehenden Adresse</td>
<td><code>id</code> oder<code>kundennummer</code> und optional<code>projekt</code>.</td>
<td>-</td>
<td>XML Adresse</td>
<td>Datenstruktur der angefragten Adresse</td>
</tr>
<tr>
<td>AuftragCreate</td>
<td>Anlegen eines neuen Auftrags</td>
<td>-</td>
<td>XML Auftrag per POST in Feld xml (belegnr=<code>new</code> wenn eine vergeben werden soll) (<strong>Hinweis:</strong> Feld kundennummer ist ein Pflichtfeld bzw. kann mit dem Wert<code>new</code> ein neuer Datensatz angelegt werden) Daten wie Zahlungsweisen, Versandarten usw. werden aus den Zusatzdaten des Kundenstamm gezogen, sofern diese nicht explizit √ºbergeben werden</td>
<td><id>34</id><belegnr></belegnr></td>
<td>Neue ID des Auftrags bzw. Belegnummer</td>
</tr>
<tr>
<td>AuftragEdit</td>
<td>√Ñnderung eines bestehenden Auftrags</td>
<td><code>id</code> oder<code>belegnr</code> und optional<code>projekt</code></td>
<td>-</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>AuftragGet</td>
<td>Abfragen eines bestehenden Auftrags</td>
<td><code>id</code> oder<code>belegnr</code> und optional<code>projekt</code></td>
<td>-</td>
<td>XML Auftrag</td>
<td>Datensatz des Auftrags</td>
</tr>
<tr>
<td>AuftragAbschliessen</td>
<td>Abschluss eines Auftrags</td>
<td>-</td>
<td>XML per POST, enth√§lt ID des Auftrags</td>
<td>XML Antwort Code</td>
<td>1-OK, 5-falsche ID oder Auftrag bereits abgeschlossen</td>
</tr>
<tr>
<td>WeiterfuehrenAuftragZuRechnung</td>
<td>Weiterf√ºhrung eines Auftrag zur Rechnung</td>
<td>-</td>
<td>XML per POST, enth√§lt ID des Auftrags</td>
<td>XML ID</td>
<td>Gibt die ID der erzeugten Rechnung zur√ºck</td>
</tr>
<tr>
<td>WeiterfuehrenRechnungZuGutschrift</td>
<td>Weiterf√ºhren einer Rechnung zur Gutschrift</td>
<td>-</td>
<td>XML per POST, enth√§lt ID der Rechnung</td>
<td>XML ID</td>
<td>Gibt die ID der erzeugten Gutschrift zur√ºck</td>
</tr>
<tr>
<td>ArtikelCreate</td>
<td>Anlegen eines neuen Artikels</td>
<td>-</td>
<td>XML Artikel</td>
<td>-</td>
<td>Neue ID des Artikels bzw. Artikelnummer</td>
</tr>
<tr>
<td>ArtikelEdit</td>
<td>√Ñnderung eines bestehenden Artikels</td>
<td><code>id</code> oder<code>nummer</code> und optional<code>projekt</code></td>
<td>XML Artikel</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>ArtikelGet</td>
<td>Abfragen eines bestehenden Artikels</td>
<td><code>id</code> oder<code>kundennummer</code> und optional<code>projekt</code></td>
<td>-</td>
<td>XML Artikel</td>
<td>Datenstruktur des Artikels</td>
</tr>
<tr>
<td>BenutzerCreate</td>
<td>Anlegen eines neuen Benutzers</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>Neue ID des Benutzers</td>
</tr>
<tr>
<td>BenutzerEdit</td>
<td>√Ñnderung eines bestehenden Benutzers</td>
<td><code>id</code> des Benutzers</td>
<td>-</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>BenutzerList</td>
<td>Abfragen der Liste von Benutzern</td>
<td>-</td>
<td>-</td>
<td>XML Benutzerliste</td>
<td>Vereinfachte Liste von Benutzern</td>
</tr>
<tr>
<td>BenutzerGet</td>
<td>Abfragen eines bestehenden Benutzers</td>
<td><code>id</code> des Benutzers</td>
<td>-</td>
<td>-</td>
<td>Datenstruktur des Benutzers</td>
</tr>
<tr>
<td>BenutzerGetRFID</td>
<td>Abfragen eines bestehenden Benutzers anhand der RFID</td>
<td>-</td>
<td>XML <code>rfid</code> des Benutzers</td>
<td>XML Benutzer</td>
<td>Datenstruktur des Benutzers</td>
</tr>
<tr>
<td>AdresseKontaktCreate</td>
<td>Anlegen einer weiteren Kontaktm√∂glichkeit</td>
<td>-</td>
<td>XML Adresse Kontakt</td>
<td>-</td>
<td>Neue ID der Kontaktinformation</td>
</tr>
<tr>
<td>AdresseKontaktEdit</td>
<td>√Ñnderung einer Kontaktm√∂glichkeit</td>
<td><code>id</code> oder<code>kundennummer</code> und optional<code>projekt</code></td>
<td>XML Adresse Kontakt</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>AdresseKontaktGet</td>
<td>Abfragen einer Kontaktm√∂glichkeit</td>
<td><code>id</code></td>
<td>-</td>
<td>XML Adresse Kontakt</td>
<td>-</td>
</tr>
<tr>
<td>GruppeCreate</td>
<td>Anlegen einer weiteren Gruppe</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>Neue ID der Gruppe</td>
</tr>
<tr>
<td>GruppeEdit</td>
<td>√Ñnderung einer bestehenden Gruppe</td>
<td><code>id</code> der Gruppe</td>
<td>-</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>GruppeGet</td>
<td>Abfragen einer bestehenden Gruppe</td>
<td><code>id</code> der Gruppe</td>
<td>-</td>
<td>-</td>
<td>Datenstruktur der Gruppe</td>
</tr>
<tr>
<td>BelegeList</td>
<td>Abfragen bestehender Belege</td>
<td>-</td>
<td>-</td>
<td>XML Belege</td>
<td>Datenstruktur von Belegen</td>
</tr>
<tr>
<td>PreiseEdit</td>
<td>√Ñnderung vieler Preise</td>
<td>-</td>
<td>-</td>
<td>XML Preise</td>
<td>-</td>
</tr>
<tr>
<td>DateiList</td>
<td>Abfragen vorhandener Dateien</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>Datenstruktur von Dateien</td>
</tr>
<tr>
<td>ExportVorlageGet</td>
<td>Abfragen verschiedener Daten</td>
<td><code>id</code> und optional<code>von</code>, <code>bis</code>, <code>projekt</code></td>
<td>-</td>
<td>XML Daten</td>
<td>Datenstruktur der gew√§hlten Exportvorlage</td>
</tr>
<tr>
<td>BerichteGet</td>
<td>Abfragen von Berichtsdaten</td>
<td><code>id</code></td>
<td>-</td>
<td>XML Bericht</td>
<td>Datenstruktur von Berichten</td>
</tr>
<tr>
<td>ArtikelList</td>
<td>Abfragen von Artikeldaten</td>
<td>-</td>
<td>XML Daten, mit deren Inhalt gefiltert werden soll</td>
<td>XML Artikel</td>
<td>Datenstruktur der Artikel</td>
</tr>
<tr>
<td>AccountCreate</td>
<td>Anlegen eines Accounts innerhalb einer Adresse</td>
<td>-</td>
<td>XML Daten per POST die f√ºr den Account verwendet werden sollen</td>
<td>Account ID</td>
<td>Gibt bei Erfolg die ID des Accounts innerhalb der Adresse zur√ºck</td>
</tr>
<tr>
<td>AccountEdit</td>
<td>Bearbeiten eines Accounts innerhalb einer Adresse</td>
<td><code>id</code> des Accounts</td>
<td>XML Daten per POST die f√ºr den Account verwendet werden sollen</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>RechnungAlsBezahltMarkieren</td>
<td>Markiert eine Rechnung als bezahlt</td>
<td><code>id</code> der Rechnung</td>
<td>(Optional) XML/JSON Daten, die die ID der Rechnung enthalten</td>
<td>Rechnung ID</td>
<td>Gibt die ID der Rechnung zur√ºck, die ge√§ndert wurde</td>
</tr>
<tr>
<td>AngebotFreigabe</td>
<td>Freigabe eines Angebots</td>
<td>-</td>
<td>XML Daten, die die ID des Anbebotsentwurfs enthalten</td>
<td>XML id und belegnr</td>
<td>Gibt die ID und die erzeugte Belegnummer zur√ºck.</td>
</tr>
<tr>
<td>AuftragFreigabe</td>
<td>Freigabe eines Auftrags</td>
<td>-</td>
<td>XML Daten, die die ID des Auftragsentwurfs enthalten</td>
<td>XML id und belegnr</td>
<td>Gibt die ID und die erzeugte Belegnummer zur√ºck.</td>
</tr>
<tr>
<td>RechnungFreigabe</td>
<td>Freigabe einer Rechnung</td>
<td>-</td>
<td>XML Daten, die die ID des Rechnungsentwurfs enthalten</td>
<td>XML id und belegnr</td>
<td>Gibt die ID und die erzeugte Belegnummer zur√ºck.</td>
</tr>
<tr>
<td>LieferscheinFreigabe</td>
<td>Freigabe eines Lieferscheins</td>
<td>-</td>
<td>XML Daten, die die ID des Lieferscheinentwurfs enthalten</td>
<td>XML id und belegnr</td>
<td>Gibt die ID und die erzeugte Belegnummer zur√ºck.</td>
</tr>
<tr>
<td>BestellungFreigabe</td>
<td>Freigabe einer Bestellung</td>
<td>-</td>
<td>XML Daten, die die ID des Bestellungsentwurfs enthalten</td>
<td>XML id und belegnr</td>
<td>Gibt die ID und die erzeugte Belegnummer zur√ºck.</td>
</tr>
<tr>
<td>GutschriftFreigabe</td>
<td>Freigabe einer Gutschrift</td>
<td>-</td>
<td>XML Daten, die die ID des Gutschriftentwurfs enthalten</td>
<td>XML id und belegnr</td>
<td>Gibt die ID und die erzeugte Belegnummer zur√ºck.</td>
</tr>
<tr>
<td>AngebotVersenden</td>
<td>Versendet ein Angebot</td>
<td>-</td>
<td>XML Daten: ID = id des Angebots, versandart = &lsquo;email&rsquo; oder &lsquo;brief&rsquo;, optional: drucker = id des Druckers der verwendet werden soll</td>
<td>XML id</td>
<td>Gibt die ID des versendeten Angebots zur√ºck</td>
</tr>
<tr>
<td>AuftragVersenden</td>
<td>Versendet eine Auftragsbest√§tigung</td>
<td>-</td>
<td>XML Daten: ID = id des Auftrags, versandart = &lsquo;email&rsquo; oder &lsquo;brief&rsquo;, optional: drucker = id des Druckers der verwendet werden soll</td>
<td>XML id</td>
<td>Gibt die ID des versendeten Auftrags zur√ºck</td>
</tr>
<tr>
<td>RechnungVersenden</td>
<td>Versendet eine Rechnung</td>
<td>-</td>
<td>XML Daten: ID = id der Rechnung, versandart = &lsquo;email&rsquo; oder &lsquo;brief&rsquo;, optional: drucker = id des Druckers der verwendet werden soll</td>
<td>XML id</td>
<td>Gibt die ID der versendeten Rechnung zur√ºck</td>
</tr>
<tr>
<td>LieferscheinVersenden</td>
<td>Versendet einen Lieferschein</td>
<td>-</td>
<td>XML Daten: ID = id des Lieferscheins, versandart = &lsquo;email&rsquo; oder &lsquo;brief&rsquo;, optional: drucker = id des Druckers der verwendet werden soll</td>
<td>XML id</td>
<td>Gibt die ID des versendeten Lieferscheins zur√ºck</td>
</tr>
<tr>
<td>GutschriftVersenden</td>
<td>Versendet eine Gutschrift</td>
<td>-</td>
<td>XML Daten: ID = id der Gutschrift, versandart = &lsquo;email&rsquo; oder &lsquo;brief&rsquo;, optional: drucker = id des Druckers der verwendet werden soll</td>
<td>XML id</td>
<td>Gibt die ID der versendeten Gutschrift zur√ºck</td>
</tr>
<tr>
<td>AngebotArchivieren</td>
<td>Archiviert ein Angebot</td>
<td>-</td>
<td>XML Daten: ID = id des Angebots</td>
<td>XML id</td>
<td>Gibt die ID des archivierten Angebots zur√ºck</td>
</tr>
<tr>
<td>AuftragArchivieren</td>
<td>Archiviert einen Auftrag</td>
<td>-</td>
<td>XML Daten: ID = id des Auftrags</td>
<td>XML id</td>
<td>Gibt die ID des archivierten Auftrags zur√ºck</td>
</tr>
<tr>
<td>RechnungArchivieren</td>
<td>Archiviert eine Rechnung</td>
<td>-</td>
<td>XML Daten: ID = id der Rechnung</td>
<td>XML id</td>
<td>Gibt die ID der archivierten Rechnung zur√ºck</td>
</tr>
<tr>
<td>LieferscheinArchivieren</td>
<td>Archiviert einen Lieferschein</td>
<td>-</td>
<td>XML Daten: ID = id des Lieferscheins</td>
<td>XML id</td>
<td>Gibt die ID des archivierten Lieferscheins zur√ºck</td>
</tr>
<tr>
<td>GutschriftArchivieren</td>
<td>Archiviert eine Gutschrift</td>
<td>-</td>
<td>XML Daten: ID = id der Gutschrift</td>
<td>XML id</td>
<td>Gibt die ID der archivierten Gutschrift zur√ºck</td>
</tr>
<tr>
<td>ServerTimeGet</td>
<td>Holt die aktuelle Serverzeit ab</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>Serverzeit als Timestamp</td>
</tr>
<tr>
<td>StechuhrStatusGet</td>
<td>Abfrage Stechuhrstatus eines Mitarbeiters</td>
<td>-</td>
<td><code>id</code> ID der Stechuhr, <code>adresse</code> ID des Mitarbeiters</td>
<td>XML Stechuhrstatus</td>
<td>Aktueller Status und Dauer</td>
</tr>
<tr>
<td>StechuhrStatusSet</td>
<td>√Ñndert den Stechuhrstaus eines Mitarbeiters</td>
<td>-</td>
<td><code>cmd</code> neuer Status (m√∂gliche Werte: &lsquo;kommen&rsquo;, &lsquo;gehen&rsquo;, &lsquo;pausestart&rsquo;, &lsquo;pausestop&rsquo;), <code>adresse</code> ID des Mitarbeiters oder<code>user</code> ID des Benutzers</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>StechuhrSummary</td>
<td>Abfrage einer Zusammenfassung der Zeiterfassung eines Mitarbeiters</td>
<td>-</td>
<td><code>adresse</code> ID des Mitarbeiters oder<code>user</code> ID des Benutzers</td>
<td>XML Stempelzeiten</td>
<td>Zusammenfassung der Stempelzeiten des Mitarbeiters</td>
</tr>
</tbody>
</table>
<h3 id="liste-mit-event-handler">Liste mit Event Handler<a class="headerlink" href="#liste-mit-event-handler" title="Permanent link">&para;</a></h3>
<p>Bei √Ñnderungen in xentral wird ein Event (Aufruf einer einstellbaren URL) geworfen. Der Event erh√§lt direkt die Informationen f√ºr die √Ñnderungen. Z.B. die Daten eines Auftrags, einer Adresse oder eines Benutzers.</p>
<table>
<thead>
<tr>
<th>Request (Parameter action)</th>
<th>Beschreibung</th>
<th>GET Parameter</th>
<th>XML-Daten</th>
</tr>
</thead>
<tbody>
<tr>
<td>EventAdresseCreate</td>
<td>Eine neue Adresse wurde angelegt</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>EventAdresseEdit</td>
<td>Es gab eine √Ñnderung an einer bestehenden Adresse</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>EventAuftragCreate</td>
<td>Ein neuer Auftrag wurde angelegt</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>EventAuftragEdit</td>
<td>Es gab eine √Ñnderung eines bestehenden Auftrags</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>EventArtikelCreate</td>
<td>Ein neuer Artikel wurde angelegt</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>EventArtikelEdit</td>
<td>Es gab eine √Ñnderung an einem bestehenden Artikel</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>EventBenutzerCreate</td>
<td>Ein neuer Benutzer wurde angelegt</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>EventBenutzerEdit</td>
<td>Es gab eine √Ñnderung an einem bestehenden Benutzer</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>EventSessionClose</td>
<td>Wenn Benutzer abmelden geklickt hat (siehe Session Management)</td>
<td>-</td>
<td>-</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Request (Parameter Action)</th>
<th>Beschreibung</th>
<th>GET Parameter</th>
<th>XML-Daten</th>
</tr>
</thead>
<tbody>
<tr>
<td>SessionStart</td>
<td>Session eines Benutzers starten</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>SessionClose</td>
<td>Session eines Benutzers beenden</td>
<td>-</td>
<td>-</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Request (Parameter Action)</th>
<th>Beschreibung</th>
<th>GET Parameter</th>
<th>XML-Daten</th>
</tr>
</thead>
<tbody>
<tr>
<td>EventSessionClose</td>
<td>Wenn Benutzer abmelden geklickt hat</td>
<td>-</td>
<td>-</td>
</tr>
</tbody>
</table>
<h3 id="beschreibung-der-api-funktionen">Beschreibung der API Funktionen<a class="headerlink" href="#beschreibung-der-api-funktionen" title="Permanent link">&para;</a></h3>
<h4 id="verwalten-von-adressen-adressecreate-adresseedit-adresseget">Verwalten von Adressen: AdresseCreate, AdresseEdit, AdresseGet<a class="headerlink" href="#verwalten-von-adressen-adressecreate-adresseedit-adresseget" title="Permanent link">&para;</a></h4>
<p>Im Prinzip kann jede Spalte der Datenbank aus der Tabelle &ldquo;adresse&rdquo; bearbeitet oder abgefragt werden. Hierf√ºr ist die Spaltenbezeichnung der Tabelle anzugeben, wie z.B.. Selbiges gilt beim Anlegen einer Adresse.</p>
<p>Um eine neue Adresse anzulegen, kann die Funktion AdresseCreate verwendet werden. Grundlegende Parameter, die beim Anlegen einer Adresse nicht fehlen sollten, um eine sinnvolle Adresse zu erhalten, sind:</p>
<ul>
<li><name> Name der Adresse (Falls Adresse eine Firma ist, hier den Namen des Ansprechpartners eintragen)</li>
<li><strasse> Die Stra√üe kann auch in Kombination mit der Hausnummer im Tag verwendet werden</li>
<li><hausnummer> Die Hausnummer kann auch in Kombination mit der Stra√üe im Tag <strasse_hausnummer> verwendet werden</li>
<li><plz> Postleitzahl der Adresse</li>
<li><ort> Ort der Adresse</li>
<li><email> E-Mail Adresse der Adresse</li>
<li><anrede> Anrede, bei einer Firma ist die Anrede &ldquo;firma&rdquo;</li>
<li><firma> Firmenname. Wenn bef√ºllt ist, wird automatisch auf &ldquo;firma&rdquo; gesetzt</li>
<li><vorname> Wenn <firma>, <vorname> und <name> und bef√ºllt sind, wird der Ansprechpartner zusammengesetzt aus <vorname> und <name>. Ist <vorname> leer, wird nur <name> als Ansprechpartner verwendet. Ist <firma> nicht bef√ºllt, wird <name> zusammengesetzt aus <vorname> und <name></li>
<li><projekt> Abk√ºrzung des Projektes. Ist <projekt> leer, wird das Standardprojekt gew√§hlt</li>
<li><kundennummer> Kundennummer der Adresse. Falls eine neue Kundennummer vergeben werden soll, muss NEW eingetragen werden.</li>
<li><lieferantennummer> Lieferantennummer der Adresse. Falls eine neue Lieferantennummer vergeben werden soll, muss NEW eingetragen werden.</li>
</ul>
<p>Bei einer abweichenden Lieferadresse k√∂nnen folgende Parameter angegeben werden:</p>
<ul>
<li><liefername> Name der Adresse, zu der geliefert wird. Falls es sich um eine Firma handelt, hier den Namen der Firma</li>
<li><liefervorname> Vorname der Adresse, zu der geliefert wird</li>
<li><lieferstrasse> Stra√üe, zu der geliefert wird</li>
<li><lieferhausnummer> Hausnummer, zu der geliefert wird</li>
<li><lieferplz> Postleitzahl der Adresse, zu der geliefert wird</li>
<li><lieferort> Ort der Adresse, zu der geliefert wird</li>
<li><lieferfirma> Firmenname der zu beliefernden Adresse. Ist dieses Feld bef√ºllt, wird der Adresszusatz zusammengesetzt aus <liefervorname> und <liefername></li>
<li><lieferabteilung> Abteilung der Adresse, zu der geliefert wird</li>
<li><lieferland> Land der Adresse, zu der geliefert wird</li>
</ul>
<p>Des Weiteren kann man beim Anlegen und Bearbeiten einer Adresse, dieser eine Gruppe zuweisen. Hierf√ºr kann das Tag <verband> mit der id der Gruppe verwendet werden (z.B. <verband>34</verband>).</p>
<p>Soll eine Adresse bearbeitet (AdresseEdit) oder nur Daten der Adresse abgefragt werden (AdresseGet), muss die ID oder die Kundennummer angegeben werden. Optional kann das Projekt √ºber die URL √ºbergeben werden.</p>
<h5 id="beispiel-anfrage-adressecreate-mit-funktionen">Beispiel Anfrage AdresseCreate mit Funktionen<a class="headerlink" href="#beispiel-anfrage-adressecreate-mit-funktionen" title="Permanent link">&para;</a></h5>
<pre><code>  &lt;?php
$hash = generateHash();

$xml = &quot;&lt;name&gt;Emilia Gruber&lt;/name&gt;
  &lt;strasse&gt;Musterstrasse&lt;/strasse&gt;
  &lt;hausnummer&gt;21&lt;/hausnummer&gt;
  &lt;plz&gt;11111&lt;/plz&gt;
  &lt;ort&gt;Musterort&lt;/ort&gt;
  &lt;email&gt;emiliagruber@musterort.de&lt;/email&gt;
  &lt;kundennummer&gt;NEW&lt;/kundennummer&gt;&quot;;

$output_xml = SendRequest(&quot;AdresseCreate&quot;,$xml,$hash); 

function generateHash()
{

  $initKey = 'neijfj38734hujfie';
  $remoteDomain = 'http://192.168.0.28';
  $date = gmdate('dmY');
  $hash = &quot;&quot;;

  for($i = 0; $i &lt;= 200; $i++) 
  $hash = sha1($hash. $initKey. $remoteDomain. $date);

  return $hash;
}

function SendRequest($methodname,$xml,$hash)
{

  $url = 'http://192.168.0.28/wawision/16.3/www/index.php?module=api&amp;action='.$methodname.'&amp;hash='.$hash;

  $xml = '&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
  &lt;request&gt;
  &lt;status&gt;
  &lt;function&gt;'.$methodname.'&lt;/function&gt;
  &lt;/status&gt;
  &lt;xml&gt;'.$xml.'&lt;/xml&gt;
  &lt;/request&gt;';

  $data = array('xml' =&gt; $xml, 'md5sum' =&gt; md5($xml));

  // use key 'http' even if you send the request to https://...
  $options = array(
  'http' =&gt; array(
  'header' =&gt; &quot;Content-type: application/x-www-form-urlencoded\r\n&quot;,
  'method' =&gt; 'POST',
  'content' =&gt; http_build_query($data),
),
);

  $context = stream_context_create($options);
  $result = file_get_contents($url, false, $context);
  return $result;
}

$obj = simplexml_load_string($output_xml);
echo &quot;&lt;pre&gt;&quot;;
print_r($obj);
echo &quot;&lt;/pre&gt;&quot;;

?&gt;


```##### Beispiel Antwort AdresseCreate```
  &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;response&gt;
  &lt;status&gt;
  &lt;action&gt;AdresseCreate&lt;/action&gt;
  &lt;message&gt;OK&lt;/message&gt;
  &lt;messageCode&gt;1&lt;/messageCode&gt;
  &lt;/status&gt;
  &lt;xml&gt;
  &lt;id&gt;13&lt;/id&gt;
  &lt;kundennummer&gt;23243&lt;/kundennummer&gt;
  &lt;/xml&gt;
&lt;/response&gt;


```##### Beispiel Anfrage AdresseEdit mit Funktionen```
  &lt;?php
$hash = generateHash();

$xml = &quot;&lt;name&gt;Emilia Gruber&lt;/name&gt;
  &lt;strasse&gt;Musterweg&lt;/strasse&gt;
  &lt;hausnummer&gt;67&lt;/hausnummer&gt;
  &lt;plz&gt;22222&lt;/plz&gt;
  &lt;ort&gt;Musterhausen&lt;/ort&gt;
  &lt;email&gt;emiliagruber@musterhausen.de&lt;/email&gt;&quot;;

$id = &quot;13&quot;;

$output_xml = SendRequest(&quot;AdresseEdit&quot;,$xml,$hash,$id); 

function generateHash()
{

  $initKey = 'neijfj38734hujfie';
  $remoteDomain = 'http://192.168.0.28';
  $date = gmdate('dmY');
  $hash = &quot;&quot;;

  for($i = 0; $i &lt;= 200; $i++) 
  $hash = sha1($hash. $initKey. $remoteDomain. $date);

  return $hash;
}

function SendRequest($methodname,$xml,$hash,$id)
{

  $url = 'http://192.168.0.28/wawision/16.3/www/index.php?module=api&amp;action='.$methodname.'&amp;hash='.$hash.'&amp;id='.$id;

  $xml = '&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
  &lt;request&gt;
  &lt;status&gt;
  &lt;function&gt;'.$methodname.'&lt;/function&gt;
  &lt;/status&gt;
  &lt;xml&gt;'.$xml.'&lt;/xml&gt;
  &lt;/request&gt;';

  $data = array('xml' =&gt; $xml, 'md5sum' =&gt; md5($xml));

  // use key 'http' even if you send the request to https://...
  $options = array(
  'http' =&gt; array(
  'header' =&gt; &quot;Content-type: application/x-www-form-urlencoded\r\n&quot;,
  'method' =&gt; 'POST',
  'content' =&gt; http_build_query($data),
),
);

  $context = stream_context_create($options);
  $result = file_get_contents($url, false, $context);
  return $result;
}

$obj = simplexml_load_string($output_xml);
echo &quot;&lt;pre&gt;&quot;;
print_r($obj);
echo &quot;&lt;/pre&gt;&quot;;

?&gt;


```##### Beispiel Antwort AdresseEdit```
  &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;response&gt;
  &lt;status&gt;
  &lt;action&gt;AdresseEdit&lt;/action&gt;
  &lt;message&gt;OK&lt;/message&gt;
  &lt;messageCode&gt;1&lt;/messageCode&gt;
  &lt;/status&gt; 
&lt;/response&gt;


```##### Beispiel Anfrage AdresseGet mit Funktionen```
  &lt;?php
$hash = generateHash();

$xml = &quot;&quot;;

$id = &quot;12&quot;;

$output_xml = SendRequest(&quot;AdresseGet&quot;,$xml,$hash,$id); 

function generateHash()
{

  $initKey = 'neijfj38734hujfie';
  $remoteDomain = 'http://192.168.0.28';
  $date = gmdate('dmY');
  $hash = &quot;&quot;;

  for($i = 0; $i &lt;= 200; $i++) 
  $hash = sha1($hash. $initKey. $remoteDomain. $date);

  return $hash;
}

function SendRequest($methodname,$xml,$hash,$id)
{

  $url = 'http://192.168.0.28/wawision/16.3/www/index.php?module=api&amp;action='.$methodname.'&amp;hash='.$hash.'&amp;id='.$id;

  $xml = '&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
  &lt;request&gt;
  &lt;status&gt;
  &lt;function&gt;'.$methodname.'&lt;/function&gt;
  &lt;/status&gt;
  &lt;xml&gt;'.$xml.'&lt;/xml&gt;
  &lt;/request&gt;';

  $data = array('xml' =&gt; $xml, 'md5sum' =&gt; md5($xml));

  // use key 'http' even if you send the request to https://...
  $options = array(
  'http' =&gt; array(
  'header' =&gt; &quot;Content-type: application/x-www-form-urlencoded\r\n&quot;,
  'method' =&gt; 'POST',
  'content' =&gt; http_build_query($data),
),
);

  $context = stream_context_create($options);
  $result = file_get_contents($url, false, $context);
  return $result;
}

$obj = simplexml_load_string($output_xml);
echo &quot;&lt;pre&gt;&quot;;
print_r($obj);
echo &quot;&lt;/pre&gt;&quot;;

?&gt;


```##### Beispielr√ºckgabe einer Adressabfrage```
  &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;response&gt;
  &lt;status&gt;
  &lt;action&gt;AdresseGet&lt;/action&gt;
  &lt;message&gt;OK&lt;/message&gt;
  &lt;messageCode&gt;1&lt;/messageCode&gt;
  &lt;/status&gt;
  &lt;xml&gt;
  &lt;id&gt;37&lt;/id&gt;
  &lt;typ&gt;herr,frau,firma&lt;/typ&gt;
  &lt;marketingsperre /&gt;
  &lt;trackingsperre&gt;1=keine Mail senden, 0=Mail senden&lt;/trackingsperre&gt;
  &lt;rechnungsadresse&gt;0=keine gesonderte, 1 = gesonderte Rechnungsadresse&lt;/rechnungsadresse&gt;
  &lt;sprache&gt;deutsch,englisch&lt;/sprache&gt;
  &lt;name&gt;Max Muster 2&lt;/name&gt;
  &lt;abteilung /&gt;
  &lt;unterabteilung /&gt;
  &lt;ansprechpartner /&gt;
  &lt;land /&gt;
  &lt;strasse&gt;Muster strasse 888&lt;/strasse&gt;
  &lt;ort /&gt;
  &lt;plz /&gt;
  &lt;telefon /&gt;
  &lt;telefax /&gt;
  &lt;mobil /&gt;
  &lt;email /&gt;
  &lt;ustid /&gt;
  &lt;ust_befreit&gt;0&lt;/ust_befreit&gt;
  &lt;passwort_gesendet&gt;0&lt;/passwort_gesendet&gt;
  &lt;sonstiges /&gt;
  &lt;adresszusatz /&gt;
  &lt;kundenfreigabe&gt;0&lt;/kundenfreigabe&gt;
  &lt;steuer /&gt;
  &lt;logdatei&gt;2014-06-01 16:01:08&lt;/logdatei&gt;
  &lt;kundennummer /&gt;
  &lt;lieferantennummer&gt;70002&lt;/lieferantennummer&gt;
  &lt;mitarbeiternummer /&gt;
  &lt;konto /&gt;
  &lt;blz /&gt;
  &lt;bank /&gt;
  &lt;inhaber /&gt;
  &lt;swift /&gt;
  &lt;iban /&gt;
  &lt;waehrung /&gt;
  &lt;paypal /&gt;
  &lt;paypalinhaber /&gt;
  &lt;paypalwaehrung /&gt;
  &lt;projekt&gt;1&lt;/projekt&gt;
  &lt;partner&gt;0&lt;/partner&gt;
  &lt;zahlungsweise /&gt;
  &lt;zahlungszieltage /&gt;
  &lt;zahlungszieltageskonto /&gt;
  &lt;zahlungszielskonto /&gt;
  &lt;versandart /&gt;
  &lt;kundennummerlieferant /&gt;
  &lt;zahlungsweiselieferant /&gt;
  &lt;zahlungszieltagelieferant /&gt;
  &lt;zahlungszieltageskontolieferant /&gt;
  &lt;zahlungszielskontolieferant /&gt;
  &lt;versandartlieferant /&gt;
  &lt;geloescht&gt;0&lt;/geloescht&gt;
  &lt;firma&gt;1&lt;/firma&gt;
  &lt;webid /&gt;
  &lt;internetseite /&gt;
  &lt;vorname /&gt;
  &lt;kalender_aufgaben /&gt;
  &lt;titel /&gt;
  &lt;anschreiben /&gt;
  &lt;logfile /&gt;
  &lt;mlmaktiv /&gt;
  &lt;mlmvertragsbeginn /&gt;
  &lt;geburtstag /&gt;
  &lt;liefersperre /&gt;
  &lt;mlmpositionierung /&gt;
  &lt;steuernummer /&gt;
  &lt;steuerbefreit /&gt;
  &lt;mlmmitmwst /&gt;
  &lt;mlmabrechnung /&gt;
  &lt;sponsor /&gt;
  &lt;geworbenvon /&gt;
  &lt;liefersperregrund /&gt;
  &lt;verrechnungskontoreisekosten&gt;0&lt;/verrechnungskontoreisekosten&gt;
  &lt;rolledatum /&gt;
  &lt;mlmwaehrungauszahlung /&gt;
  &lt;mlmfestsetzen&gt;0&lt;/mlmfestsetzen&gt;
  &lt;mlmmindestpunkte&gt;0&lt;/mlmmindestpunkte&gt;
  &lt;mlmwartekonto&gt;0.00&lt;/mlmwartekonto&gt;
  &lt;abweichende_rechnungsadresse&gt;0&lt;/abweichende_rechnungsadresse&gt;
  &lt;rechnung_vorname /&gt;
  &lt;rechnung_name /&gt;
  &lt;rechnung_titel /&gt;
  &lt;rechnung_typ /&gt;
  &lt;rechnung_strasse /&gt;
  &lt;rechnung_ort /&gt;
  &lt;rechnung_land /&gt;
  &lt;rechnung_abteilung /&gt;
  &lt;rechnung_unterabteilung /&gt;
  &lt;rechnung_adresszusatz /&gt;
  &lt;rechnung_telefon /&gt;
  &lt;rechnung_telefax /&gt;
  &lt;rechnung_anschreiben /&gt;
  &lt;rechnung_email /&gt;
  &lt;rechnung_plz /&gt;
  &lt;rechnung_ansprechpartner /&gt;
  &lt;kennung /&gt;
  &lt;zahlungskonditionen_festschreiben /&gt;
  &lt;rabatte_festschreiben /&gt;
  &lt;rabattinformation /&gt;
  &lt;portofreiab /&gt;
  &lt;portofrei_aktiv /&gt;
  &lt;provision /&gt;
  &lt;porto_preis /&gt;
  &lt;porto_artikelid /&gt;
  &lt;freifeld1 /&gt;
  &lt;freifeld2 /&gt;
  &lt;freifeld3 /&gt;
  &lt;rechnung_periode /&gt;
  &lt;rechnung_anzahlpapier /&gt;
  &lt;rechnung_permail /&gt;
  &lt;rechnung_email /&gt;

  &lt;/xml&gt;
&lt;/response&gt;


</code></pre>
<h3 id="verwalten-von-auftragen-auftragcreate-auftragedit-auftragget">Verwalten von Auftr√§gen: AuftragCreate, AuftragEdit, AuftragGet<a class="headerlink" href="#verwalten-von-auftragen-auftragcreate-auftragedit-auftragget" title="Permanent link">&para;</a></h3>
<p>Hier k√∂nnen Auftr√§ge komplett verwaltet werden, d.h. neue anlegen (AuftragCreate), bestehende bearbeiten (AuftragEdit) oder bestehende abholen (AuftragGet) um diese in einem anderen System √ºbertragen.</p>
<p>Bei AuftragCreate k√∂nnen folgende Parameter angegeben werden:</p>
<ul>
<li><kundennummer> Hier kann NEW f√ºr einen neuen Kunden oder die bisherige Kundennummer eines Kunden verwendet werden.</li>
</ul>
<p>Daten wie Zahlungsart, Versandart m√ºssen nicht √ºbergeben werden. Diese werden grunds√§tzlich aus den Kundenstammdaten geholt, au√üer diese werden an die API √ºbergeben.</p>
<p>Bei AuftragEdit und AuftragGet muss die id oder orderid (Belegnr) und optional das Projekt als URL √ºbergeben werden. M√∂chtest du mit AuftragEdit einen Auftrag √§ndern, in dem schon Positionen enthalten sind, musst du weiterhin alle Positionen des Auftrags komplett mit angeben.</p>
<h4 id="beispiel-anfrage-auftragcreate-mit-funktionen">Beispiel Anfrage AuftragCreate mit Funktionen<a class="headerlink" href="#beispiel-anfrage-auftragcreate-mit-funktionen" title="Permanent link">&para;</a></h4>
<pre><code>  &lt;?php
$hash = generateHash();

$xml = &quot;&lt;kundennummer&gt;23243&lt;/kundennummer&gt;
&lt;artikelliste&gt;
  &lt;position&gt;
  &lt;nummer&gt;700001&lt;/nummer&gt;
  &lt;preis&gt;9.99&lt;/preis&gt;
  &lt;menge&gt;2&lt;/menge&gt;
  &lt;waehrung&gt;EUR&lt;/waehrung&gt;
  &lt;/position&gt;
  &lt;position&gt;
  &lt;nummer&gt;700002&lt;/nummer&gt;
  &lt;preis&gt;3.99&lt;/preis&gt;
  &lt;menge&gt;1&lt;/menge&gt;
  &lt;waehrung&gt;EUR&lt;/waehrung&gt;
  &lt;/position&gt;
&lt;/artikelliste&gt;&quot;;

$output_xml = SendRequest(&quot;AuftragCreate&quot;,$xml,$hash); 

function generateHash()
{

  $initKey = 'neijfj38734hujfie';
  $remoteDomain = 'http://192.168.0.28';
  $date = gmdate('dmY');
  $hash = &quot;&quot;;

  for($i = 0; $i &lt;= 200; $i++) 
  $hash = sha1($hash. $initKey. $remoteDomain. $date);

  return $hash;
}

function SendRequest($methodname,$xml,$hash)
{

  $url = 'http://192.168.0.28/wawision/16.3/www/index.php?module=api&amp;action='.$methodname.'&amp;hash='.$hash;

  $xml = '&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
  &lt;request&gt;
  &lt;status&gt;
  &lt;function&gt;'.$methodname.'&lt;/function&gt;
  &lt;/status&gt;
  &lt;xml&gt;'.$xml.'&lt;/xml&gt;
  &lt;/request&gt;';

  $data = array('xml' =&gt; $xml, 'md5sum' =&gt; md5($xml));

  // use key 'http' even if you send the request to https://...
  $options = array(
  'http' =&gt; array(
  'header' =&gt; &quot;Content-type: application/x-www-form-urlencoded\r\n&quot;,
  'method' =&gt; 'POST',
  'content' =&gt; http_build_query($data),
),
);

  $context = stream_context_create($options);
  $result = file_get_contents($url, false, $context);
  return $result;
}

$obj = simplexml_load_string($output_xml);
echo &quot;&lt;pre&gt;&quot;;
print_r($obj);
echo &quot;&lt;/pre&gt;&quot;;

?&gt;


```#### Beispiel Antwort AuftragCreate```
  &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;response&gt;
  &lt;status&gt;
  &lt;action&gt;AuftragCreate&lt;/action&gt;
  &lt;message&gt;OK&lt;/message&gt;
  &lt;messageCode&gt;1&lt;/messageCode&gt;
  &lt;/status&gt;
  &lt;xml&gt;
  &lt;id&gt;16&lt;/id&gt;
  &lt;customernumber&gt;200003&lt;/customernumber&gt;
  &lt;/xml&gt;
&lt;/response&gt;


```#### Beispiel Anfrage AuftragGet mit Funktionen```
  &lt;?php

$hash = generateHash();

$xml = &quot;&quot;;

$id = &quot;14&quot;;

$output_xml = SendRequest(&quot;AuftragGet&quot;,$xml,$hash,$id); 

function generateHash()
{

  $initKey = 'neijfj38734hujfie';
  $remoteDomain = 'http://192.168.0.28';
  $date = gmdate('dmY');
  $hash = &quot;&quot;;

  for($i = 0; $i &lt;= 200; $i++) 
  $hash = sha1($hash. $initKey. $remoteDomain. $date);

  return $hash;
}

function SendRequest($methodname,$xml,$hash,$id)
{

  $url = 'http://192.168.0.28/wawision/16.3/www/index.php?module=api&amp;action='.$methodname.'&amp;hash='.$hash.'&amp;id='.$id;

$xml = '&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
  &lt;request&gt;
  &lt;status&gt;
  &lt;function&gt;'.$methodname.'&lt;/function&gt;
  &lt;/status&gt;
  &lt;xml&gt;'.$xml.'&lt;/xml&gt;
  &lt;/request&gt;';

  $data = array('xml' =&gt; $xml, 'md5sum' =&gt; md5($xml));

  // use key 'http' even if you send the request to https://...
  $options = array(
  'http' =&gt; array(
  'header' =&gt; &quot;Content-type: application/x-www-form-urlencoded\r\n&quot;,
  'method' =&gt; 'POST',
  'content' =&gt; http_build_query($data),
),
);
  $context = stream_context_create($options);
  $result = file_get_contents($url, false, $context);
  return $result;
}

$obj = simplexml_load_string($output_xml);
echo &quot;&lt;pre&gt;&quot;;
print_r($obj);
echo &quot;&lt;/pre&gt;&quot;;

?&gt;


```#### Beispiel Antwort AuftragGet```
  &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;response&gt;
  &lt;status&gt;
  &lt;action&gt;AuftragGet&lt;/action&gt;
  &lt;message&gt;OK&lt;/message&gt;
  &lt;messageCode&gt;1&lt;/messageCode&gt;
  &lt;/status&gt;
  &lt;xml&gt;
  &lt;id&gt;14&lt;/id&gt;
  &lt;datum&gt;2017-03-16&lt;/datum&gt;
  &lt;art/&gt;
  &lt;projekt&gt;0&lt;/projekt&gt;
  &lt;belegnr&gt;200002&lt;/belegnr&gt;
  &lt;internet/&gt;
  &lt;bearbeiter&gt;Mitarbeiter&lt;/bearbeiter&gt;
  &lt;angebot/&gt;
  &lt;freitext/&gt;
  &lt;internebemerkung/&gt;
  &lt;status&gt;freigegeben&lt;/status&gt;
  &lt;adresse&gt;11&lt;/adresse&gt;
  &lt;name&gt;Mustersupermarkt&lt;/name&gt;
  &lt;abteilung/&gt;
  &lt;unterabteilung/&gt;
  &lt;strasse&gt;Supermarktstra√üe 1&lt;/strasse&gt;
  &lt;adresszusatz/&gt;
  &lt;ansprechpartner&gt;Herr Supermarktleiter&lt;/ansprechpartner&gt;
  &lt;plz&gt;12345&lt;/plz&gt;
  &lt;ort&gt;Supermarktstadt&lt;/ort&gt;
  &lt;land&gt;DE&lt;/land&gt;
  &lt;ustid/&gt;
  &lt;ust_befreit&gt;0&lt;/ust_befreit&gt;
  &lt;ust_inner&gt;0&lt;/ust_inner&gt;
  &lt;email/&gt;
  &lt;telefon/&gt;
  &lt;telefax/&gt;
  &lt;betreff/&gt;
  &lt;kundennummer&gt;23241&lt;/kundennummer&gt;
  &lt;versandart&gt;versandunternehmen&lt;/versandart&gt;
  &lt;vertrieb&gt;Testfirma GmbH&lt;/vertrieb&gt;
  &lt;zahlungsweise&gt;rechnung&lt;/zahlungsweise&gt;
  &lt;zahlungszieltage&gt;14&lt;/zahlungszieltage&gt;
  &lt;zahlungszieltageskonto&gt;10&lt;/zahlungszieltageskonto&gt;
  &lt;zahlungszielskonto&gt;2.00&lt;/zahlungszielskonto&gt;
  &lt;bank_inhaber/&gt;
  &lt;bank_institut/&gt;
  &lt;bank_blz/&gt;
  &lt;bank_konto/&gt;
  &lt;kreditkarte_typ/&gt;
  &lt;kreditkarte_inhaber/&gt;
  &lt;kreditkarte_nummer/&gt;
  &lt;kreditkarte_pruefnummer/&gt;
  &lt;kreditkarte_monat/&gt;
  &lt;kreditkarte_jahr/&gt;
  &lt;firma&gt;1&lt;/firma&gt;
  &lt;versendet&gt;0&lt;/versendet&gt;
  &lt;versendet_am&gt;0000-00-00 00:00:00&lt;/versendet_am&gt;
  &lt;versendet_per/&gt;
  &lt;versendet_durch/&gt;
  &lt;autoversand&gt;1&lt;/autoversand&gt;
  &lt;keinporto&gt;0&lt;/keinporto&gt;
  &lt;keinestornomail&gt;0&lt;/keinestornomail&gt;
  &lt;abweichendelieferadresse&gt;0&lt;/abweichendelieferadresse&gt;
  &lt;liefername/&gt;
  &lt;lieferabteilung/&gt;
  &lt;lieferunterabteilung/&gt;
  &lt;lieferland/&gt;
  &lt;lieferstrasse/&gt;
  &lt;lieferort/&gt;
  &lt;lieferplz/&gt;
  &lt;lieferadresszusatz/&gt;
  &lt;lieferansprechpartner/&gt;
  &lt;packstation_inhaber/&gt;
  &lt;packstation_station/&gt;
  &lt;packstation_ident/&gt;
  &lt;packstation_plz/&gt;
  &lt;packstation_ort/&gt;
  &lt;autofreigabe&gt;0&lt;/autofreigabe&gt;
  &lt;freigabe&gt;0&lt;/freigabe&gt;
  &lt;nachbesserung&gt;0&lt;/nachbesserung&gt;
  &lt;gesamtsumme&gt;171.36&lt;/gesamtsumme&gt;
  &lt;inbearbeitung&gt;0&lt;/inbearbeitung&gt;
  &lt;abgeschlossen&gt;0&lt;/abgeschlossen&gt;
  &lt;nachlieferung&gt;0&lt;/nachlieferung&gt;
  &lt;lager_ok&gt;1&lt;/lager_ok&gt;
  &lt;porto_ok&gt;1&lt;/porto_ok&gt;
  &lt;ust_ok&gt;1&lt;/ust_ok&gt;
  &lt;check_ok&gt;1&lt;/check_ok&gt;
  &lt;vorkasse_ok&gt;1&lt;/vorkasse_ok&gt;
  &lt;nachnahme_ok&gt;1&lt;/nachnahme_ok&gt;
  &lt;reserviert_ok&gt;0&lt;/reserviert_ok&gt;
  &lt;partnerid&gt;0&lt;/partnerid&gt;
  &lt;folgebestaetigung&gt;0000-00-00&lt;/folgebestaetigung&gt;
  &lt;zahlungsmail&gt;0000-00-00&lt;/zahlungsmail&gt;
  &lt;stornogrund/&gt;
  &lt;stornosonstiges/&gt;
  &lt;stornorueckzahlung/&gt;
  &lt;stornobetrag&gt;0.00&lt;/stornobetrag&gt;
  &lt;stornobankinhaber/&gt;
  &lt;stornobankkonto/&gt;
  &lt;stornobankblz/&gt;
  &lt;stornobankbank/&gt;
  &lt;stornogutschrift&gt;0&lt;/stornogutschrift&gt;
  &lt;stornogutschriftbeleg/&gt;
  &lt;stornowareerhalten&gt;0&lt;/stornowareerhalten&gt;
  &lt;stornomanuellebearbeitung/&gt;
  &lt;stornokommentar/&gt;
  &lt;stornobezahlt/&gt;
  &lt;stornobezahltam&gt;0000-00-00&lt;/stornobezahltam&gt;
  &lt;stornobezahltvon/&gt;
  &lt;stornoabgeschlossen/&gt;0&lt;/stornoabgeschlossen&gt;
  &lt;stornorueckzahlungper/&gt;
  &lt;stornowareerhaltenretour&gt;0&lt;/stornowareerhaltenretour&gt;
  &lt;partnerausgezahlt&gt;0&lt;/partnerausgezahlt&gt;
  &lt;partnerausgezahltam&gt;0000-00-00&lt;/partnerausgezahltam&gt;
  &lt;kennen/&gt;
  &lt;logdatei&gt;2017-03-17 10:30:05&lt;/logdatei&gt;
  &lt;keinetrackingmail/&gt;
  &lt;zahlungsmailcounter/&gt;
  &lt;rma&gt;0&lt;/rma&gt;
  &lt;transaktionsnummer/&gt;
  &lt;vorabbezahltmarkieren&gt;0&lt;/vorabbezahltmarkieren&gt;
  &lt;deckungsbeitragcalc&gt;1&lt;/deckungsbeitragcalc&gt;
  &lt;deckungsbeitrag&gt;100.00&lt;/deckungsbeitrag&gt;
  &lt;erloes_netto&gt;144.00&lt;/erloes_netto&gt;
  &lt;umsatz_netto&gt;144.00&lt;/umsatz_netto&gt;
  &lt;lieferdatum/&gt;
  &lt;tatsaechlicheslieferdatum/&gt;
  &lt;liefertermin_ok&gt;1&lt;/liefertermin_ok&gt;
  &lt;teillieferung_moeglich&gt;0&lt;/teillieferung_moeglich&gt;
  &lt;kreditlimit_ok&gt;1&lt;/kreditlimit_ok&gt;
  &lt;kreditlimit_freigabe&gt;0&lt;/kreditlimit_freigabe&gt;
  &lt;liefersperre_ok&gt;1&lt;/liefersperre_ok&gt;
  &lt;teillieferungvon&gt;0&lt;/teillieferungvon&gt;
  &lt;teillieferungnummer&gt;0&lt;/teillieferungnummer&gt;
  &lt;vertriebid&gt;0&lt;/vertriebid&gt;
  &lt;aktion/&gt;
  &lt;provision&gt;0.00&lt;/provision&gt;
  &lt;provision_summe/&gt;
  &lt;anfrageid&gt;0&lt;/anfrageid&gt;
  &lt;gruppe&gt;0&lt;/gruppe&gt;
  &lt;shopextid/&gt;
  &lt;shopextstatus/&gt;
  &lt;ihrebestellnummer/&gt;
  &lt;anschreiben/&gt;
  &lt;usereditid&gt;1&lt;/usereditid&gt;
  &lt;useredittimestamp&gt;2017-03-17 10:30:05&lt;/useredittimestamp&gt;
  &lt;realrabatt&gt;0.00&lt;/realrabatt&gt;
  &lt;rabatt&gt;0.00&lt;/rabatt&gt;
  &lt;einzugsdatum/&gt;
  &lt;rabatt1&gt;0.00&lt;/rabatt1&gt;
  &lt;rabatt2&gt;0.00&lt;/rabatt2&gt;
  &lt;rabatt3&gt;0.00&lt;/rabatt3&gt;
  &lt;rabatt4&gt;0.00&lt;/rabatt4&gt;
  &lt;rabatt5&gt;0.00&lt;/rabatt5&gt;
  &lt;shop&gt;0&lt;/shop&gt;
  &lt;steuersatz_normal&gt;19.00&lt;/steuersatz_normal&gt;
  &lt;steuersatz_zwischen&gt;7.00&lt;/steuersatz_zwischen&gt;
  &lt;steuersatz_ermaessigt&gt;7.00&lt;/steuersatz_ermaessigt&gt;
  &lt;steuersatz_starkermaessigt&gt;7.00&lt;/steuersatz_starkermaessigt&gt;
  &lt;steuersatz_dienstleistung&gt;7.00&lt;/steuersatz_dienstleistung&gt;
  &lt;waehrung&gt;EUR&lt;/waehrung&gt;
  &lt;keinsteuersatz/&gt;
  &lt;angebotid/&gt;
  &lt;schreibschutz&gt;0&lt;/schreibschutz&gt;
  &lt;pdfarchiviert&gt;0&lt;/pdfarchiviert&gt;
  &lt;pdfarchiviertversion&gt;0&lt;/pdfarchiviertversion&gt;
  &lt;typ&gt;firma&lt;/typ&gt;
  &lt;ohne_briefpapier&gt;0&lt;/ohne_briefpapier&gt;
  &lt;auftragseingangper/&gt;
  &lt;lieferid&gt;0&lt;/lieferid&gt;
  &lt;ansprechpartnerid&gt;0&lt;/ansprechpartnerid&gt;
  &lt;systemfreitext/&gt;
  &lt;projektfiliale&gt;0&lt;/projektfiliale&gt;
  &lt;lieferungtrotzsperre&gt;0&lt;/lieferungtrotzsperre&gt;
  &lt;zuarchivieren&gt;0&lt;/zuarchivieren&gt;
  &lt;internebezeichnung/&gt;
  &lt;angelegtam/&gt;
  &lt;saldo&gt;-171.36&lt;/saldo&gt;
  &lt;saldogeprueft&gt;2017-03-17 10:29:59&lt;/saldogeprueft&gt;
  &lt;lieferantenauftrag&gt;0&lt;/lieferantenauftrag&gt;
  &lt;lieferant&gt;0&lt;/lieferant&gt;
  &lt;lieferdatumkw&gt;0&lt;/lieferdatumkw&gt;
  &lt;abweichendebezeichnung&gt;0&lt;/abweichendebezeichnung&gt;
  &lt;rabatteportofestschreiben&gt;0&lt;/rabatteportofestschreiben&gt;
  &lt;sprache&gt;deutsch&lt;/sprache&gt;
  &lt;bodyzusatz/&gt;
  &lt;bundesland/&gt;
  &lt;artikelliste&gt;
  &lt;position&gt;
  &lt;id&gt;51&lt;/id&gt;
  &lt;auftrag&gt;14&lt;/auftrag&gt;
  &lt;artikel&gt;385815&lt;/artikel&gt;
  &lt;projekt&gt;0&lt;/projekt&gt;
  &lt;bezeichnung&gt;Kirschjoghurt klein&lt;/bezeichnung&gt;
  &lt;beschreibung&gt;Ein leckerer kleiner Kirschjogurt.&lt;/beschreibung&gt;
  &lt;internerkommentar/&gt;
  &lt;nummer&gt;115491&lt;/nummer&gt;
  &lt;menge&gt;50&lt;/menge&gt;
  &lt;preis&gt;0.30000000&lt;/preis&gt;
  &lt;waehrung&gt;EUR&lt;/waehrung&gt;
  &lt;lieferdatum&gt;0000-00-00&lt;/lieferdatum&gt;
  &lt;vpe&gt;1&lt;/vpe&gt;
  &lt;sort&gt;1&lt;/sort&gt;
  &lt;status&gt;angelegt&lt;/status&gt;
  &lt;umsatzsteuer/&gt;
  &lt;bemerkung/&gt;
  &lt;geliefert&gt;0&lt;/geliefert&gt;
  &lt;geliefert_menge&gt;0&lt;/geliefert_menge&gt;
  &lt;explodiert&gt;0&lt;/explodiert&gt;
  &lt;explodiert_parent&gt;0&lt;/explodiert_parent&gt;
  &lt;logdatei&gt;2017-03-17 10:29:59&lt;/logdatei&gt;
  &lt;punkte&gt;0.00&lt;/punkte&gt;
  &lt;bonuspunkte&gt;0.00&lt;/bonuspunkte&gt;
  &lt;mlmdirektpraemie&gt;0.00&lt;/mlmdirektpraemie&gt;
  &lt;keinrabatterlaubt&gt;0&lt;/keinrabatterlaubt&gt;
  &lt;grundrabatt&gt;0.00&lt;/grundrabatt&gt;
  &lt;rabattsync&gt;1&lt;/rabattsync&gt;
  &lt;rabatt1&gt;0.00&lt;/rabatt1&gt;
  &lt;rabatt2&gt;0.00&lt;/rabatt2&gt;
  &lt;rabatt3&gt;0.00&lt;/rabatt3&gt;
  &lt;rabatt4&gt;0.00&lt;/rabatt4&gt;
  &lt;rabatt5&gt;0.00&lt;/rabatt5&gt;
  &lt;einheit/&gt;
  &lt;webid/&gt;
  &lt;rabatt&gt;0.00&lt;/rabatt&gt;
  &lt;nachbestelltexternereinkauf/&gt;
  &lt;zolltarifnummer/&gt;
  &lt;herkunftsland&gt;DE&lt;/herkunftsland&gt;
  &lt;artikelnummerkunde/&gt;
  &lt;freifeld1/&gt;
  &lt;freifeld2/&gt;
  &lt;freifeld3/&gt;
  &lt;freifeld4/&gt;
  &lt;freifeld5/&gt;
  &lt;freifeld6/&gt;
  &lt;freifeld7/&gt;
  &lt;freifeld8/&gt;
  &lt;freifeld9/&gt;
  &lt;freifeld10/&gt;
  &lt;lieferdatumkw&gt;0&lt;/lieferdatumkw&gt;
  &lt;teilprojekt&gt;0&lt;/teilprojekt&gt;
  &lt;/position&gt;
  &lt;/artikelliste&gt;
  &lt;/xml&gt;
&lt;/response&gt;


</code></pre>
<h3 id="verwalten-von-artikeln-artikelcreate-artikeledit-artikelget">Verwalten von Artikeln: ArtikelCreate, ArtikelEdit, ArtikelGet<a class="headerlink" href="#verwalten-von-artikeln-artikelcreate-artikeledit-artikelget" title="Permanent link">&para;</a></h3>
<p>Es k√∂nnen mit der API neue Artikel angelegt (ArtikelCreate), Artikel bearbeitet (ArtikelEdit) und Artikelinformationen abgerufen (ArtikelGet) werden. Bei ArtikelGet und ArtikelEdit ist zu beachten, dass die ID des Artikels in der URL √ºber GET mittels &amp;id= mitgegeben werden muss. Beim Anlegen und Bearbeiten der Artikel k√∂nnen alle Tags verwendet werden, die als Spalte in der Tabelle &ldquo;artikel&rdquo; vorliegen. Um jedoch sinnvolle Artikel zu erhalten, sollten beim Erstellen einige Tags mindestens gesetzt werden:</p>
<ul>
<li><name_de> Name des Artikels</li>
<li><anabregs_text> Beschreibungstext des Artikels</li>
<li><projekt> Abk√ºrzung des Projektes. Falls nicht gesetzt, wird das Standardprojekt gew√§hlt</li>
<li><nummer> Artikelnummer des Artikels. Soll eine neue Artikelnummer vergeben werden, muss NEW eingetragen werden</li>
<li><aktiv> 1 oder 0, f√ºr einen aktiven bzw. inaktiven Artikel</li>
<li><variante_von_nummer> Nummer des Artikels, von dem der neue Artikel eine Variante ist</li>
</ul>
<h4 id="beispiel-anfrage-artikelcreate-mit-funktionen">Beispiel Anfrage ArtikelCreate mit Funktionen<a class="headerlink" href="#beispiel-anfrage-artikelcreate-mit-funktionen" title="Permanent link">&para;</a></h4>
<pre><code>  &lt;?php

$hash = generateHash();

$xml = &quot;&lt;name_de&gt;Kirschjoghurt&lt;/name_de&gt;
  &lt;anabregs_text&gt;Ein leckerer Kirschjoghurt&lt;/anabregs_text&gt;
  &lt;nummer&gt;NEW&lt;/nummer&gt;
  &lt;aktiv&gt;1&lt;/aktiv&gt;&quot;;

$output_xml = SendRequest(&quot;ArtikelCreate&quot;,$xml,$hash); 

function generateHash()
{

  $initKey = 'neijfj38734hujfie';
  $remoteDomain = 'http://192.168.0.28';
  $date = gmdate('dmY');
  $hash = &quot;&quot;;

  for($i = 0; $i &lt;= 200; $i++) 
  $hash = sha1($hash. $initKey. $remoteDomain. $date);

  return $hash;
}

function SendRequest($methodname,$xml,$hash)
{

  $url = 'http://192.168.0.28/wawision/16.3/www/index.php?module=api&amp;action='.$methodname.'&amp;hash='.$hash;

  $xml = '&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
  &lt;request&gt;
  &lt;status&gt;
  &lt;function&gt;'.$methodname.'&lt;/function&gt;
  &lt;/status&gt;
  &lt;xml&gt;'.$xml.'&lt;/xml&gt;
  &lt;/request&gt;';

  $data = array('xml' =&gt; $xml, 'md5sum' =&gt; md5($xml));

  // use key 'http' even if you send the request to https://...
  $options = array(
  'http' =&gt; array(
  'header' =&gt; &quot;Content-type: application/x-www-form-urlencoded\r\n&quot;,
  'method' =&gt; 'POST',
  'content' =&gt; http_build_query($data),
),
);
  $context = stream_context_create($options);
  $result = file_get_contents($url, false, $context);
  return $result;
}

$obj = simplexml_load_string($output_xml);
echo &quot;&lt;pre&gt;&quot;;
print_r($obj);
echo &quot;&lt;/pre&gt;&quot;;

?&gt;


```#### Beispiel Antwort ArtikelCreate```
  &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;response&gt;
  &lt;status&gt;
  &lt;action&gt;ArtikelCreate&lt;/action&gt;
  &lt;message&gt;OK&lt;/message&gt;
  &lt;messageCode&gt;1&lt;/messageCode&gt;
  &lt;/status&gt;
  &lt;xml&gt;
  &lt;id&gt;149&lt;/id&gt;
  &lt;nummer&gt;115491&lt;/nummer&gt;
  &lt;/xml&gt;
  &lt;/response&gt;


```#### Beispiel Anfrage ArtikelEdit mit Funktionen```
  &lt;?php

$hash = generateHash();

$xml = &quot;&lt;nummer&gt;115491&lt;/nummer&gt;
  &lt;name_de&gt;Kirschjoghurt klein&lt;/name_de&gt;
  &lt;anabregs_text&gt;Ein leckerer kleiner Kirschjogurt.&lt;/anabregs_text&gt;
  &quot;;

$id = &quot;149&quot;;

$output_xml = SendRequest(&quot;ArtikelEdit&quot;,$xml,$hash,$id); 

function generateHash()
{

  $initKey = 'neijfj38734hujfie';
  $remoteDomain = 'http://192.168.0.28';
  $date = gmdate('dmY');
  $hash = &quot;&quot;;

  for($i = 0; $i &lt;= 200; $i++) 
  $hash = sha1($hash. $initKey. $remoteDomain. $date);

  return $hash;
}

function SendRequest($methodname,$xml,$hash,$id)
{

  $url = 'http://192.168.0.28/wawision/16.3/www/index.php?module=api&amp;action='.$methodname.'&amp;hash='.$hash.'&amp;id='.$id;

$xml = '&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
  &lt;request&gt;
  &lt;status&gt;
  &lt;function&gt;'.$methodname.'&lt;/function&gt;
  &lt;/status&gt;
  &lt;xml&gt;'.$xml.'&lt;/xml&gt;
  &lt;/request&gt;';

  $data = array('xml' =&gt; $xml, 'md5sum' =&gt; md5($xml));

  // use key 'http' even if you send the request to https://...
  $options = array(
  'http' =&gt; array(
  'header' =&gt; &quot;Content-type: application/x-www-form-urlencoded\r\n&quot;,
  'method' =&gt; 'POST',
  'content' =&gt; http_build_query($data),
),
);
  $context = stream_context_create($options);
  $result = file_get_contents($url, false, $context);
  return $result;
}

$obj = simplexml_load_string($output_xml);
echo &quot;&lt;pre&gt;&quot;;
print_r($obj);
echo &quot;&lt;/pre&gt;&quot;;

?&gt;


```#### Beispiel Antwort ArtikelEdit```
  &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;response&gt;
  &lt;status&gt;
  &lt;action&gt;ArtikelEdit&lt;/action&gt;
  &lt;message&gt;OK&lt;/message&gt;
  &lt;messageCode&gt;1&lt;/messageCode&gt;
  &lt;/status&gt;
&lt;/response&gt;

```#### Beispiel Lagerbestandsver√§nderung mit ArtikelEdit```
  &lt;xml&gt;
  &lt;nummer&gt;1000001&lt;/nummer&gt;
  &lt;lager_platz&gt;HL001B&lt;/lager_platz&gt;
  &lt;lager_menge&gt;5020&lt;/lager_menge&gt;
&lt;/xml&gt;

```#### Beispiel Anfrage ArtikelGet mit Funktionen```
  &lt;?php

$hash = generateHash();

$xml = &quot;&quot;;
$id = 149;

$output_xml = SendRequest(&quot;ArtikelGet&quot;,$xml,$hash,$id); 

function generateHash()
{

  $initKey = 'neijfj38734hujfie';
  $remoteDomain = 'http://192.168.0.28';
  $date = gmdate('dmY');
  $hash = &quot;&quot;;

  for($i = 0; $i &lt;= 200; $i++) 
  $hash = sha1($hash. $initKey. $remoteDomain. $date);

  return $hash;
}

function SendRequest($methodname,$xml,$hash,$id)
{

  $url = 'http://192.168.0.28/wawision/16.3/www/index.php?module=api&amp;action='.$methodname.'&amp;hash='.$hash.'&amp;id='.$id;

  $xml = '&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
  &lt;request&gt;
  &lt;status&gt;
  &lt;function&gt;'.$methodname.'&lt;/function&gt;
  &lt;/status&gt;
  &lt;xml&gt;'.$xml.'&lt;/xml&gt;
  &lt;/request&gt;';

  $data = array('xml' =&gt; $xml, 'md5sum' =&gt; md5($xml));

  // use key 'http' even if you send the request to https://...
  $options = array(
  'http' =&gt; array(
  'header' =&gt; &quot;Content-type: application/x-www-form-urlencoded\r\n&quot;,
  'method' =&gt; 'POST',
  'content' =&gt; http_build_query($data),
),
);
  $context = stream_context_create($options);
  $result = file_get_contents($url, false, $context);
  return $result;
}

$obj = simplexml_load_string($output_xml);
echo &quot;&lt;pre&gt;&quot;;
print_r($obj);

?&gt;


```#### Beispiel Antwort ArtikelGet```
  &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;response&gt;
  &lt;status&gt;
  &lt;action&gt;ArtikelGet&lt;/action&gt;
  &lt;message&gt;OK&lt;/message&gt;
  &lt;messageCode&gt;1&lt;/messageCode&gt;
  &lt;/status&gt;
  &lt;xml&gt;
  &lt;id&gt;385815&lt;/id&gt;
  &lt;typ/&gt;
  &lt;nummer&gt;115491&lt;/nummer&gt;
  &lt;checksum/&gt;
  &lt;projekt&gt;0&lt;/projekt&gt;
  &lt;inaktiv&gt;0&lt;/inaktiv&gt;
  &lt;ausverkauft&gt;0&lt;/ausverkauft&gt;
  &lt;warengruppe/&gt;
  &lt;name_de&gt;Kirschjoghurt klein&lt;/name_de&gt;
  &lt;name_en/&gt;
  &lt;kurztext_de/&gt;
  &lt;kurztext_en/&gt;
  &lt;beschreibung_de/&gt;
  &lt;beschreibung_en/&gt;
  &lt;uebersicht_de/&gt;
  &lt;uebersicht_en/&gt;
  &lt;links_de/&gt;
  &lt;links_en/&gt;
  &lt;startseite_de/&gt;
  &lt;startseite_en/&gt;
  &lt;standardbild/&gt;
  &lt;herstellerlink/&gt;
  &lt;hersteller/&gt;
  &lt;teilbar/&gt;
  &lt;nteile/&gt;
  &lt;seriennummern/&gt;
  &lt;lager_platz/&gt;
  &lt;lieferzeit/&gt;
  &lt;lieferzeitmanuell/&gt;
  &lt;sonstiges/&gt;
  &lt;gewicht/&gt;
  &lt;endmontage/&gt;
  &lt;funktionstest/&gt;
  &lt;artikelcheckliste/&gt;
  &lt;stueckliste/&gt;
  &lt;juststueckliste/&gt;
  &lt;barcode/&gt;
  &lt;hinzugefuegt/&gt;
  &lt;pcbdecal/&gt;
  &lt;lagerartikel&gt;0&lt;/lagerartikel&gt;
  &lt;porto&gt;0&lt;/porto&gt;
  &lt;chargenverwaltung&gt;0&lt;/chargenverwaltung&gt;
  &lt;provisionsartikel&gt;0&lt;/provisionsartikel&gt;
  &lt;gesperrt&gt;0&lt;/gesperrt&gt;
  &lt;sperrgrund/&gt;
  &lt;geloescht&gt;0&lt;/geloescht&gt;
  &lt;gueltigbis&gt;0000-00-00&lt;/gueltigbis&gt;
  &lt;umsatzsteuer/&gt;
  &lt;klasse/&gt;
  &lt;adresse&gt;0&lt;/artikel&gt;
  &lt;shopartikel&gt;0&lt;/shopartikel&gt;
  &lt;unishopartikel&gt;0&lt;/unishopartikel&gt;
  &lt;journalshopartikel&gt;0&lt;/journalshopartikel&gt;
  &lt;shop&gt;0&lt;/shop&gt;
  &lt;katalog&gt;0&lt;/katalog&gt;
  &lt;katalogtext_de/&gt;
  &lt;katalogtext_en/&gt;
  &lt;katalogbezeichnung_de/&gt;
  &lt;katalogbezeichnung_en/&gt;
  &lt;neu&gt;0&lt;/neu&gt;
  &lt;topseller&gt;0&lt;/topseller&gt;
  &lt;startseite&gt;0&lt;/startseite&gt;
  &lt;wichtig&gt;0&lt;/wichtig&gt;
  &lt;mindestlager&gt;0&lt;/mindestlager&gt;
  &lt;mindestbestellung&gt;0&lt;/mindestbestellung&gt;
  &lt;partnerprogramm_sperre&gt;0&lt;/partnerprogramm_sperre&gt;
  &lt;internerkommentar/&gt;
  &lt;intern_gesperrt&gt;0&lt;/intern_gesperrt&gt;
  &lt;intern_gesperrtuser&gt;0&lt;/intern_gesperrtuser&gt;
  &lt;intern_gesperrtgrund/&gt;
  &lt;inbearbeitung&gt;0&lt;/inbearbeitung&gt;
  &lt;inbearbeitunguser&gt;0&lt;/inbearbeitunguser&gt;
  &lt;cache_lagerplatzinhaltmenge&gt;-999&lt;/cache_lagerplatzinhaltmenge&gt;
  &lt;internkommentar/&gt;
  &lt;firma&gt;1&lt;/firma&gt;
  &lt;logdatei&gt;2017-03-24 06:53:10&lt;/logdatei&gt;
  &lt;anabregs_text&gt;Ein leckerer kleiner Kirschjogurt.&lt;/anabregs_text&gt;
  &lt;autobestellung&gt;0&lt;/autobestellung&gt;
  &lt;produktion/&gt;
  &lt;herstellernummer/&gt;
  &lt;restmenge/&gt;
  &lt;mlmdirektpraemie/&gt;
  &lt;keineeinzelartikelanzeigen&gt;0&lt;/keineeinzelartikelanzeigen&gt;
  &lt;mindesthaltbarkeitsdatum&gt;0&lt;/mindesthaltbarkeitsdatum&gt;
  &lt;letzteseriennummer/&gt;
  &lt;individualartikel&gt;0&lt;/individualartikel&gt;
  &lt;keinrabatterlaubt/&gt;
  &lt;rabatt&gt;0&lt;/rabatt&gt;
  &lt;rabatt_prozent/&gt;
  &lt;geraet&gt;0&lt;/geraet&gt;
  &lt;serviceartikel&gt;0&lt;/serviceartikel&gt;
  &lt;autoabgleicherlaubt&gt;0&lt;/autoabgleicherlaubt&gt;
  &lt;pseudopreis/&gt;
  &lt;freigabenotwendig&gt;0&lt;/freigabenotwendig&gt;
  &lt;freigaberegel/&gt;
  &lt;nachbestellt/&gt;
  &lt;ean/&gt;
  &lt;mlmpunkte&gt;0.00&lt;/mlmpunkte&gt;
  &lt;mlmbonuspunkte&gt;0.00&lt;/mlmbonuspunkte&gt;
  &lt;mlmkeinepunkteeigenkauf/&gt;
  &lt;shop2/&gt;
  &lt;shop3/&gt;
  &lt;usereditid&gt;1&lt;/usereditid&gt;
  &lt;useredittimestamp&gt;2017-03-24 06:53:10&lt;/useredittimestamp&gt;
  &lt;freifeld1/&gt;
  &lt;freifeld2/&gt;
  &lt;freifeld3/&gt;
  &lt;freifeld4/&gt;
  &lt;freifeld5/&gt;
  &lt;freifeld6/&gt;
  &lt;einheit/&gt;
  &lt;webid/&gt;
  &lt;lieferzeitmanuell_en/&gt;
  &lt;variante/&gt;
  &lt;variante_von/&gt;
  &lt;produktioninfo/&gt;
  &lt;sonderaktion/&gt;
  &lt;sonderaktion_en/&gt;
  &lt;autolagerlampe&gt;0&lt;/autolagerlampe&gt;
  &lt;leerfeld/&gt;
  &lt;zolltarifnummer/&gt;
  &lt;herkunftsland&gt;DE&lt;/herkunftsland&gt;
  &lt;laenge&gt;0.00&lt;/laenge&gt;
  &lt;breite&gt;0.00&lt;/breite&gt;
  &lt;hoehe&gt;0.00&lt;/hoehe&gt;
  &lt;gebuehr&gt;0&lt;/gebuehr&gt;
  &lt;pseudolager/&gt;
  &lt;matrixprodukt&gt;0&lt;/matrixprodukt&gt;
  &lt;anabregs_text_en&gt;
  &lt;externeproduktion&gt;0&lt;/externeproduktion&gt;
  &lt;bildvorschau/&gt;
  &lt;inventursperre&gt;0&lt;/inventursperre&gt;
  &lt;variante_kopie&gt;0&lt;/variante_kopie&gt;
  &lt;unikat&gt;0&lt;/unikat&gt;
  &lt;downloadartikel&gt;0&lt;/downloadartikel&gt;
  &lt;generierenummerbeioption&gt;0&lt;/generierenummerbeioption&gt;
  &lt;allelieferanten&gt;0&lt;/allelieferanten&gt;
  &lt;tagespreise&gt;0&lt;/tagespreise&gt;
  &lt;rohstoffe&gt;0&lt;/rohstoffe&gt;
  &lt;steuer_erloese_inland_normal/&gt;
  &lt;steuer_aufwendung_inland_normal/&gt;
  &lt;steuer_erloese_inland_ermaessigt/&gt;
  &lt;steuer_aufwendung_inland_ermaessigt/&gt;
  &lt;steuer_erloese_inland_steuerfrei/&gt;
  &lt;steuer_aufwendung_inland_steuerfrei/&gt;
  &lt;steuer_erloese_inland_innergemeinschaftlich/&gt;
  &lt;steuer_aufwendung_inland_innergemeinschaftlich/&gt;
  &lt;steuer_erloese_inland_eunormal/&gt;
  &lt;steuer_erloese_inland_nichtsteuerbar/&gt;
  &lt;steuer_erloese_inland_euermaessigt/&gt;
  &lt;steuer_aufwendung_inland_nichtsteuerbar/&gt;
  &lt;steuer_aufwendung_inland_eunormal/&gt;
  &lt;steuer_aufwendung_inland_euermaessigt/&gt;
  &lt;steuer_erloese_inland_export/&gt;
  &lt;steuer_aufwendung_inland_import/&gt;
  &lt;steuer_art_produkt&gt;1&lt;/steuer_art_produkt&gt;
  &lt;steuer_art_produkt_download&gt;1&lt;/steuer_art_produkt_download&gt;
  &lt;metadescription_de/&gt;
  &lt;metadescription_en/&gt;
  &lt;metakeywords_de/&gt;
  &lt;metakeywords_en/&gt;
  &lt;vkmeldungunterdruecken&gt;0&lt;/vkmeldungunterdruecken&gt;
  &lt;freifeld7/&gt;
  &lt;freifeld8/&gt;
  &lt;freifeld9/&gt;
  &lt;freifeld10/&gt;
  &lt;ursprungsregion/&gt;
  &lt;altersfreigabe/&gt;
  &lt;provisionssperre/&gt;
  &lt;inventurekaktiv&gt;0&lt;/inventureaktiv&gt;
  &lt;inventurek/&gt;
  &lt;verkaufspreise&gt;
  &lt;staffelpreis&gt;
  &lt;ab_menge&gt;1&lt;/ab_menge&gt;
  &lt;preis&gt;0.30000000&lt;/preis&gt;
  &lt;vpe/&gt;
  &lt;waehrung&gt;EUR&lt;/waehrung&gt;
  &lt;/staffelpreis&gt;
  &lt;/verkaufspreise&gt;
  &lt;/xml&gt;
&lt;/response&gt;


</code></pre>
<h3 id="verwalten-von-benutzer-benutzercreate-benutzeredit-benutzerget">Verwalten von Benutzer: BenutzerCreate, BenutzerEdit, BenutzerGet<a class="headerlink" href="#verwalten-von-benutzer-benutzercreate-benutzeredit-benutzerget" title="Permanent link">&para;</a></h3>
<p>Mit BenutzerCreate kann ein neuer Benutzer angelegt werden. Soll ein Benutzer bearbeitet werden, geschieht dies mit BenutzerEdit. BenutzerGet liefert Informationen eines Benutzers zur√ºck. Bei BenutzerEdit und BenutzerGet muss die ID des Benutzers als GET Parameter √ºbergeben werden.</p>
<p>Beim Anlegen bzw. Bearbeiten eines Benutzers sind einige Dinge zu beachten:</p>
<ul>
<li><active> Muss auf 1 gesetzt sein, da sich sonst der Benutzer nicht anmelden kann</li>
<li><startseite> Die URL der Startseite (z.B. index.php?module=welcome&amp;action=pinwand) muss base54 kodiert sein</li>
<li><passwordmd5> Das Passwort des Benutzers muss hier md5 kodiert angegeben werden, nicht <password>. <password> stammt aus √§lteren Versionen, wird nicht mehr verwendet und dient nur noch historischen Zwecken</li>
</ul>
<p>Tags, um einen Benutzer anzulegen oder zu bearbeiten:</p>
<ul>
<li><adresse> Beinhaltet die ID der Adresse</li>
<li><username> Darf nicht bereits existieren</li>
<li><type> Art des Benutzers, z.B. admin oder standard</li>
<li><aktiv> Auf 1 setzen</li>
<li><startseite> Muss base54 kodiert sein</li>
<li><passwordmd5> Muss md5 kodiert sein</li>
</ul>
<h4 id="beispiel-anfrage-benutzercreate-mit-funktionen">Beispiel Anfrage BenutzerCreate mit Funktionen<a class="headerlink" href="#beispiel-anfrage-benutzercreate-mit-funktionen" title="Permanent link">&para;</a></h4>
<pre><code>  &lt;?php
$hash = generateHash();

$xml = &quot;&lt;adresse&gt;12&lt;/adresse&gt;
  &lt;username&gt;Musterbenutzer&lt;/username&gt;
  &lt;type&gt;admin&lt;/type&gt;
  &lt;activ&gt;1&lt;/activ&gt;
  &lt;passwordmd5&gt;e22a63fb76874c99488435f26b117e37&lt;/passwordmd5&gt;
  &lt;externlogin&gt;1&lt;/externlogin&gt;&quot;;

$output_xml = SendRequest(&quot;BenutzerCreate&quot;,$xml,$hash); 

function generateHash()
{

  $initKey = 'neijfj38734hujfie';
  $remoteDomain = 'http://192.168.0.28';
  $date = gmdate('dmY');
  $hash = &quot;&quot;;

  for($i = 0; $i &lt;= 200; $i++) 
  $hash = sha1($hash. $initKey. $remoteDomain. $date);

  return $hash;
}

function SendRequest($methodname,$xml,$hash)
{

  $url = 'http://192.168.0.28/wawision/16.3/www/index.php?module=api&amp;action='.$methodname.'&amp;hash='.$hash;

  $xml = '&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
  &lt;request&gt;
  &lt;status&gt;
  &lt;function&gt;'.$methodname.'&lt;/function&gt;
  &lt;/status&gt;
  &lt;xml&gt;'.$xml.'&lt;/xml&gt;
  &lt;/request&gt;';

  $data = array('xml' =&gt; $xml, 'md5sum' =&gt; md5($xml));

  // use key 'http' even if you send the request to https://...
  $options = array(
  'http' =&gt; array(
  'header' =&gt; &quot;Content-type: application/x-www-form-urlencoded\r\n&quot;,
  'method' =&gt; 'POST',
  'content' =&gt; http_build_query($data),
),
);

  $context = stream_context_create($options);
  $result = file_get_contents($url, false, $context);
  return $result;
}

$obj = simplexml_load_string($output_xml);
echo &quot;&lt;pre&gt;&quot;;
print_r($obj);
echo &quot;&lt;/pre&gt;&quot;;

?&gt;
Beispiel Antwort BenutzerCreate
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;response&gt;
  &lt;status&gt;
  &lt;action&gt;BenutzerCreate&lt;/action&gt;
  &lt;message&gt;OK&lt;/message&gt;
  &lt;messageCode&gt;1&lt;/messageCode&gt;
  &lt;/status&gt;
  &lt;xml&gt;
  &lt;id&gt;10&lt;/id&gt;
  &lt;/xml&gt;
&lt;/response&gt;


```#### Beispiel Antwort BenutzerCreate```
  &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;response&gt;
  &lt;status&gt;
  &lt;action&gt;BenutzerCreate&lt;/action&gt;
  &lt;message&gt;OK&lt;/message&gt;
  &lt;messageCode&gt;1&lt;/messageCode&gt;
  &lt;/status&gt;
  &lt;xml&gt;
  &lt;id&gt;10&lt;/id&gt;
  &lt;/xml&gt;
&lt;/response&gt;

```Beispiel Anfrage BenutzerEdit mit Funktionen```
  &lt;?php
$hash = generateHash();

$xml = &quot;&lt;type&gt;standard&lt;/type&gt;
  &lt;activ&gt;1&lt;/activ&gt;
  &lt;passwordmd5&gt;dafe3d37f46376f08f8e92b15e308239&lt;/passwordmd5&gt;
  &lt;externlogin&gt;0&lt;/externlogin&gt;&quot;;

$id = 10;

$output_xml = SendRequest(&quot;BenutzerEdit&quot;,$xml,$hash,$id); 

function generateHash()
{

  $initKey = 'neijfj38734hujfie';
  $remoteDomain = 'http://192.168.0.28';
  $date = gmdate('dmY');
  $hash = &quot;&quot;;

  for($i = 0; $i &lt;= 200; $i++) 
  $hash = sha1($hash. $initKey. $remoteDomain. $date);

  return $hash;
}

function SendRequest($methodname,$xml,$hash,$id)
{

  $url = 'http://192.168.0.28/wawision/16.3/www/index.php?module=api&amp;action='.$methodname.'&amp;hash='.$hash.'&amp;id='.$id;

  $xml = '&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
  &lt;request&gt;
  &lt;status&gt;
  &lt;function&gt;'.$methodname.'&lt;/function&gt;
  &lt;/status&gt;
  &lt;xml&gt;'.$xml.'&lt;/xml&gt;
  &lt;/request&gt;';

  $data = array('xml' =&gt; $xml, 'md5sum' =&gt; md5($xml));

  // use key 'http' even if you send the request to https://...
  $options = array(
  'http' =&gt; array(
  'header' =&gt; &quot;Content-type: application/x-www-form-urlencoded\r\n&quot;,
  'method' =&gt; 'POST',
  'content' =&gt; http_build_query($data),
),
);

  $context = stream_context_create($options);
  $result = file_get_contents($url, false, $context);
  return $result;
}

$obj = simplexml_load_string($output_xml);
echo &quot;&lt;pre&gt;&quot;;
print_r($obj);
echo &quot;&lt;/pre&gt;&quot;;

?&gt;


```#### Beispiel Antwort BenutzerEdit```
  &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;response&gt;
  &lt;status&gt;
  &lt;action&gt;BenutzerEdit&lt;/action&gt;
  &lt;message&gt;OK&lt;/message&gt;
  &lt;messageCode&gt;1&lt;/messageCode&gt;
  &lt;/status&gt; 
&lt;/response&gt;


```#### Beispiel Anfrage BenutzerGet mit Funktionen```
  &lt;?php

$hash = generateHash();

$xml = &quot;&quot;;

$id = &quot;1&quot;;

$output_xml = SendRequest(&quot;BenutzerGet&quot;,$xml,$hash,$id); 

function generateHash()
{
  $initKey = 'neijfj38734hujfie';
  $remoteDomain = 'http://192.168.0.28';
  $date = gmdate('dmY');
  $hash = &quot;&quot;;

  for($i = 0; $i &lt;= 200; $i++) 
  $hash = sha1($hash. $initKey. $remoteDomain. $date);

  return $hash;
}

function SendRequest($methodname,$xml,$hash,$id)
{

  $url = 'http://192.168.0.28/wawision/16.3/www/index.php?module=api&amp;action='.$methodname.'&amp;hash='.$hash.'&amp;id='.$id;

  $xml = '&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
  &lt;request&gt;
  &lt;status&gt;
  &lt;function&gt;'.$methodname.'&lt;/function&gt;
  &lt;/status&gt;
  &lt;xml&gt;'.$xml.'&lt;/xml&gt;
  &lt;/request&gt;';

  $data = array('xml' =&gt; $xml, 'md5sum' =&gt; md5($xml));

  // use key 'http' even if you send the request to https://...
  $options = array(
  'http' =&gt; array(
  'header' =&gt; &quot;Content-type: application/x-www-form-urlencoded\r\n&quot;,
  'method' =&gt; 'POST',
  'content' =&gt; http_build_query($data),
),
);
  $context = stream_context_create($options);
  $result = file_get_contents($url, false, $context);
  return $result;
}

$obj = simplexml_load_string($output_xml);
echo &quot;&lt;pre&gt;&quot;;
print_r($obj);
echo &quot;&lt;/pre&gt;&quot;;

?&gt;


```#### Beispiel Antwort BenutzerGet```
  &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;response&gt;
  &lt;status&gt;
  &lt;action&gt;BenutzerGet&lt;/action&gt;
  &lt;message&gt;OK&lt;/message&gt;
  &lt;messageCode&gt;1&lt;/messageCode&gt;
  &lt;/status&gt;
  &lt;xml&gt;
  &lt;id&gt;1&lt;/id&gt;
  &lt;username&gt;admin&lt;/username&gt;
  &lt;password&gt;MAiwwHrOSf9kg&lt;/password&gt;
  &lt;repassword&gt;0&lt;/repassword&gt;
  &lt;description /&gt;
  &lt;settings&gt;a:2:{s:18:&quot;lohnabrechnung_von&quot;;s:0:&quot;&quot;;s:18:&quot;lohnabrechnung_bis&quot;;s:0:&quot;&quot;;}&lt;/settings&gt;
  &lt;parentuser /&gt;
  &lt;activ&gt;1&lt;/activ&gt;
  &lt;type&gt;admin&lt;/type&gt;
  &lt;adresse&gt;1&lt;/adresse&gt;
  &lt;fehllogins&gt;0&lt;/fehllogins&gt;
  &lt;standarddrucker&gt;0&lt;/standarddrucker&gt;
  &lt;firma&gt;1&lt;/firma&gt;
  &lt;logdatei&gt;2014-05-26 11:12:28&lt;/logdatei&gt;
  &lt;startseite&gt;aW5kZXgucGhwP21vZHVsZT13ZWxjb21lJmFjdGlvbj1waW53YW5k&lt;/startseite&gt;
  &lt;hwtoken&gt;0&lt;/hwtoken&gt;
  &lt;hwkey /&gt;
  &lt;hwcounter&gt;0&lt;/hwcounter&gt;
  &lt;motppin /&gt;
  &lt;motpsecret /&gt;
  &lt;externlogin&gt;1&lt;/externlogin&gt;
  &lt;hwdatablock /&gt;
  &lt;passwordmd5 /&gt;
  &lt;internebezeichnung /&gt;
  &lt;gpsstechuhr&gt;0&lt;/gpsstechuhr&gt;
  &lt;kalender_passwort /&gt;
  &lt;kalender_aktiv /&gt;
  &lt;/xml&gt;
&lt;/response&gt;


```#### Beispiel Anfrage BenutzerGetRFID```
  &lt;?php

$xml = '&lt;rfid&gt;1234&lt;/rfid&gt;';

$output_xml = SendRequest('BenutzerGetRFID', $xml);

echo &quot;&lt;pre&gt;&quot;;
var_dump($output_xml);
echo &quot;&lt;/pre&gt;&quot;;

function SendRequest($methodname,$xml)
{
  $url = 'http://localhost/xentral/20.1/www/api/'.$methodname;

  $ch = curl_init($url);
  curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
  curl_setopt($ch, CURLOPT_HTTPAUTH, CURLAUTH_DIGEST);
  curl_setopt($ch, CURLOPT_USERPWD, &quot;apitest:password1234&quot;);
  curl_setopt($ch, CURLOPT_POST, true);
  curl_setopt($ch, CURLOPT_POSTFIELDS, '&lt;xml&gt;'.$xml.'&lt;/xml&gt;');
  curl_setopt($ch, CURLOPT_HTTPHEADER, ['content-type: application/xml']);
  $response = curl_exec($ch);
  curl_close($ch);

  return $response;
}

?&gt;


```#### Beispiel Antwort BenutzerGetRFID```
  &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;response&gt;
  &lt;status&gt;
  &lt;action&gt;BenutzerGetRFID&lt;/action&gt;
  &lt;message&gt;OK&lt;/message&gt;
  &lt;messageCode&gt;1&lt;/messageCode&gt;
  &lt;/status&gt;
  &lt;xml&gt;
  &lt;id&gt;3&lt;/id&gt;
  &lt;username&gt;demomitarbeiter&lt;/username&gt;
  &lt;password&gt;pllIX0pw7JU9c&lt;/password&gt;
  &lt;repassword&gt;0&lt;/repassword&gt;
  &lt;description&gt;&lt;/description&gt;
  &lt;settings&gt;a:6: 
{s:16:&amp;quot;pos_list_projekt&amp;quot;;s:1:&amp;quot;0&amp;quot;;s:18:&amp;quot;pos_list_kassierer&amp;quot;;s:1:&amp;quot;0&amp;quot;;s:22:&amp;quot;pos_list_kassierername&amp;quot;;s:1:&amp;quot;0&amp;quot;;s:18:&amp;quot;pos_list_lkadresse&amp;quot;;s:1:&amp;quot;0&amp;quot;;s:18:&amp;quot;lohnabrechnung_von&amp;quot;;s:0:&amp;quot;&amp;quot;;s:18:&amp;quot;lohnabrechnung_bis&amp;quot;;s:0:&amp;quot;&amp;quot;;}
  &lt;/settings&gt;
  &lt;parentuser&gt;0&lt;/parentuser&gt;
  &lt;activ&gt;1&lt;/activ&gt;
  &lt;type&gt;standard&lt;/type&gt;
  &lt;adresse&gt;6&lt;/adresse&gt;
  &lt;fehllogins&gt;0&lt;/fehllogins&gt;
  &lt;standarddrucker&gt;0&lt;/standarddrucker&gt;
  &lt;firma&gt;1&lt;/firma&gt;
  &lt;logdatei&gt;2019-11-22 16:54:00&lt;/logdatei&gt;
  &lt;startseite&gt;&lt;/startseite&gt;
  &lt;hwtoken&gt;0&lt;/hwtoken&gt;
  &lt;hwkey&gt;&lt;/hwkey&gt;
  &lt;hwcounter&gt;0&lt;/hwcounter&gt;
  &lt;motppin&gt;&lt;/motppin&gt;
  &lt;motpsecret&gt;&lt;/motpsecret&gt;
  &lt;passwordmd5&gt;2ad71933e4b074c4671425c8e6b48021&lt;/passwordmd5&gt;
  &lt;externlogin&gt;0&lt;/externlogin&gt;
  &lt;projekt_bevorzugen&gt;0&lt;/projekt_bevorzugen&gt;
  &lt;email_bevorzugen&gt;1&lt;/email_bevorzugen&gt;
  &lt;projekt&gt;0&lt;/projekt&gt;
  &lt;rfidtag&gt;1234&lt;/rfidtag&gt;
  &lt;vorlage&gt;&lt;/vorlage&gt;
  &lt;kalender_passwort&gt;&lt;/kalender_passwort&gt;
  &lt;kalender_ausblenden&gt;0&lt;/kalender_ausblenden&gt;
  &lt;kalender_aktiv&gt;0&lt;/kalender_aktiv&gt;
  &lt;gpsstechuhr&gt;0&lt;/gpsstechuhr&gt;
  &lt;standardetikett&gt;0&lt;/standardetikett&gt;
  &lt;standardfax&gt;0&lt;/standardfax&gt;
  &lt;internebezeichnung&gt;&lt;/internebezeichnung&gt;
  &lt;hwdatablock&gt;&lt;/hwdatablock&gt;
  &lt;standardversanddrucker&gt;0&lt;/standardversanddrucker&gt;
  &lt;passwordsha512&gt;&lt;/passwordsha512&gt;
  &lt;salt&gt;&lt;/salt&gt;
  &lt;paketmarkendrucker&gt;0&lt;/paketmarkendrucker&gt;
  &lt;sprachebevorzugen&gt;deutsch&lt;/sprachebevorzugen&gt;
  &lt;vergessencode&gt;&lt;/vergessencode&gt;
  &lt;vergessenzeit&gt;&lt;/vergessenzeit&gt;
  &lt;chat_popup&gt;1&lt;/chat_popup&gt;
  &lt;defaultcolor&gt;false&lt;/defaultcolor&gt;
  &lt;passwordhash&gt;&lt;/passwordhash&gt;
  &lt;docscan_aktiv&gt;0&lt;/docscan_aktiv&gt;
  &lt;docscan_passwort&gt;&lt;/docscan_passwort&gt;
  &lt;callcenter_notification&gt;1&lt;/callcenter_notification&gt;
  &lt;stechuhrdevice&gt;&lt;/stechuhrdevice&gt;
  &lt;/xml&gt;
&lt;/response&gt;


</code></pre>
<h3 id="verwalten-von-gruppen-gruppecreate-gruppeedit-gruppeget">Verwalten von Gruppen: GruppeCreate, GruppeEdit, GruppeGet<a class="headerlink" href="#verwalten-von-gruppen-gruppecreate-gruppeedit-gruppeget" title="Permanent link">&para;</a></h3>
<p>Mit dem Befehl GruppeCreate kann eine neue Gruppe angelegt werden. Zum Bearbeiten einer Gruppe wird GruppeEdit verwendet. Sollen jedoch nur die Daten einer Gruppe abgefragt werden, geschieht dies mit GruppeGet. Bei GruppeEdit und GruppeCreate muss die ID der Gruppe als GET Parameter √ºbergeben werden.</p>
<p>Tags, um eine Gruppe anzulegen oder zu bearbeiten: Es k√∂nnen als Tag die Spaltenbezeichnungen der Tabelle gruppen aus der Datenbank gew√§hlt werden, z.B.:</p>
<ul>
<li><name> Beinhaltet den Namen der Gruppe</li>
<li><art> Hier sollte gruppe eingetragen werden</li>
<li><kennziffer> Beliebige Kennziffer zum Erkennen der Gruppe</li>
</ul>
<h4 id="beispiel-anfrage-gruppecreate-mit-funktionen">Beispiel Anfrage GruppeCreate mit Funktionen<a class="headerlink" href="#beispiel-anfrage-gruppecreate-mit-funktionen" title="Permanent link">&para;</a></h4>
<pre><code>  &lt;?php
$hash = generateHash();

$xml = &quot;&lt;name&gt;Messe 2017&lt;/name&gt;
  &lt;art&gt;Gruppe&lt;/art&gt;
  &lt;kennziffer&gt;2017&lt;/kennziffer&gt;&quot;;

$output_xml = SendRequest(&quot;GruppeCreate&quot;,$xml,$hash); 

function generateHash()
{

  $initKey = 'neijfj38734hujfie';
  $remoteDomain = 'http://192.168.0.28';
  $date = gmdate('dmY');
  $hash = &quot;&quot;;

  for($i = 0; $i &lt;= 200; $i++) 
  $hash = sha1($hash. $initKey. $remoteDomain. $date);

  return $hash;
}

function SendRequest($methodname,$xml,$hash)
{

  $url = 'http://192.168.0.28/wawision/16.3/www/index.php?module=api&amp;action='.$methodname.'&amp;hash='.$hash;

  $xml = '&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
  &lt;request&gt;
  &lt;status&gt;
  &lt;function&gt;'.$methodname.'&lt;/function&gt;
  &lt;/status&gt;
  &lt;xml&gt;'.$xml.'&lt;/xml&gt;
  &lt;/request&gt;';

  $data = array('xml' =&gt; $xml, 'md5sum' =&gt; md5($xml));

  // use key 'http' even if you send the request to https://...
  $options = array(
  'http' =&gt; array(
  'header' =&gt; &quot;Content-type: application/x-www-form-urlencoded\r\n&quot;,
  'method' =&gt; 'POST',
  'content' =&gt; http_build_query($data),
),
);

  $context = stream_context_create($options);
  $result = file_get_contents($url, false, $context);
  return $result;
}

$obj = simplexml_load_string($output_xml);
echo &quot;&lt;pre&gt;&quot;;
print_r($obj);
echo &quot;&lt;/pre&gt;&quot;;

?&gt;


```#### Beispiel Antwort GruppeCreate```
  &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;response&gt;
  &lt;status&gt;
  &lt;action&gt;GruppeCreate&lt;/action&gt;
  &lt;message&gt;OK&lt;/message&gt;
  &lt;messageCode&gt;1&lt;/messageCode&gt;
  &lt;/status&gt;
  &lt;xml&gt;
  &lt;id&gt;8&lt;/id&gt;
  &lt;/xml&gt;
&lt;/response&gt;


```#### Beispiel Anfrage GruppeEdit mit Funktionen```
  &lt;?php
$hash = generateHash();

$xml = &quot;&lt;name&gt;Messe 2016&lt;/name&gt;
  &lt;kennziffer&gt;2016&lt;/kennziffer&gt;&quot;;

$id = 8;

$output_xml = SendRequest(&quot;GruppeEdit&quot;,$xml,$hash,$id); 

function generateHash()
{

  $initKey = 'neijfj38734hujfie';
  $remoteDomain = 'http://192.168.0.28';
  $date = gmdate('dmY');
  $hash = &quot;&quot;;

  for($i = 0; $i &lt;= 200; $i++) 
  $hash = sha1($hash. $initKey. $remoteDomain. $date);

  return $hash;
}

function SendRequest($methodname,$xml,$hash,$id)
{

  $url = 'http://192.168.0.28/wawision/16.3/www/index.php?module=api&amp;action='.$methodname.'&amp;hash='.$hash.'&amp;id='.$id;

  $xml = '&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
  &lt;request&gt;
  &lt;status&gt;
  &lt;function&gt;'.$methodname.'&lt;/function&gt;
  &lt;/status&gt;
  &lt;xml&gt;'.$xml.'&lt;/xml&gt;
  &lt;/request&gt;';

  $data = array('xml' =&gt; $xml, 'md5sum' =&gt; md5($xml));

  // use key 'http' even if you send the request to https://...
  $options = array(
  'http' =&gt; array(
  'header' =&gt; &quot;Content-type: application/x-www-form-urlencoded\r\n&quot;,
  'method' =&gt; 'POST',
  'content' =&gt; http_build_query($data),
),
);

  $context = stream_context_create($options);
  $result = file_get_contents($url, false, $context);
  return $result;
}

$obj = simplexml_load_string($output_xml);
echo &quot;&lt;pre&gt;&quot;;
print_r($obj);
echo &quot;&lt;/pre&gt;&quot;;

?&gt;


```#### Beispiel Antwort GruppeEdit```
  &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;response&gt;
  &lt;status&gt;
  &lt;action&gt;GruppeEdit&lt;/action&gt;
  &lt;message&gt;OK&lt;/message&gt;
  &lt;messageCode&gt;1&lt;/messageCode&gt;
  &lt;/status&gt;
&lt;/response&gt;


```#### Beispiel Anfrage GruppeGet mit Funktionen```
  &lt;?php
$hash = generateHash();

$xml = &quot;&quot;;
$id = 2;

$output_xml = SendRequest(&quot;GruppeGet&quot;,$xml,$hash,$id); 

function generateHash()
{

  $initKey = 'neijfj38734hujfie';
  $remoteDomain = 'http://192.168.0.28';
  $date = gmdate('dmY');
  $hash = &quot;&quot;;

  for($i = 0; $i &lt;= 200; $i++) 
  $hash = sha1($hash. $initKey. $remoteDomain. $date);

  return $hash;
}

function SendRequest($methodname,$xml,$hash,$id)
{

  $url = 'http://192.168.0.28/wawision/16.3/www/index.php?module=api&amp;action='.$methodname.'&amp;hash='.$hash.'&amp;id='.$id;

  $xml = '&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
  &lt;request&gt;
  &lt;status&gt;
  &lt;function&gt;'.$methodname.'&lt;/function&gt;
  &lt;/status&gt;
  &lt;xml&gt;'.$xml.'&lt;/xml&gt;
  &lt;/request&gt;';

  $data = array('xml' =&gt; $xml, 'md5sum' =&gt; md5($xml));

  // use key 'http' even if you send the request to https://...
  $options = array(
  'http' =&gt; array(
  'header' =&gt; &quot;Content-type: application/x-www-form-urlencoded\r\n&quot;,
  'method' =&gt; 'POST',
  'content' =&gt; http_build_query($data),
),
);

  $context = stream_context_create($options);
  $result = file_get_contents($url, false, $context);
  return $result;
}

$obj = simplexml_load_string($output_xml);
echo &quot;&lt;pre&gt;&quot;;
print_r($obj);
echo &quot;&lt;/pre&gt;&quot;;

?&gt;


```#### Beispiel Antwort GruppeGet```
  &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;response&gt;
  &lt;status&gt;
  &lt;action&gt;GruppeGet&lt;/action&gt;
  &lt;message&gt;OK&lt;/message&gt;
  &lt;messageCode&gt;1&lt;/messageCode&gt;
  &lt;/status&gt;
  &lt;xml&gt;
  &lt;id&gt;2&lt;/id&gt;
  &lt;name&gt;H√§ndler&lt;/name&gt;
  &lt;art&gt;gruppe&lt;/art&gt;
  &lt;kennziffer&gt;1&lt;/kennziffer&gt;
  &lt;internebemerkung/&gt;
  &lt;grundrabatt&gt;0.00&lt;/grundrabatt&gt;
  &lt;rabatt1&gt;0.00&lt;/rabatt1&gt;
  &lt;rabatt2&gt;0.00&lt;/rabatt2&gt;
  &lt;rabatt3&gt;0.00&lt;/rabatt3&gt;
  &lt;rabatt4&gt;0.00&lt;/rabatt4&gt;
  &lt;rabatt5&gt;0.00&lt;/rabatt5&gt;
  &lt;sonderrabatt_skonto&gt;0.00&lt;/sonderrabatt_skonto&gt;
  &lt;provision&gt;0.00&lt;/provision&gt;
  &lt;kundennummer/&gt;
  &lt;partnerid/&gt;
  &lt;dta_aktiv&gt;0&lt;/dta_aktiv&gt;
  &lt;dta_periode&gt;1&lt;/dta_periode&gt;
  &lt;dta_dateiname/&gt;
  &lt;dta_mail/&gt;
  &lt;dta_mail_betreff/&gt;
  &lt;dta_mail_text/&gt;
  &lt;dtavariablen/&gt;
  &lt;dta_variante&gt;1&lt;/dta_variante&gt;
  &lt;bonus1&gt;0.00&lt;/bonus1&gt;
  &lt;bonus1_ab&gt;0.00&lt;/bonus1_ab&gt;
  &lt;bonus2&gt;0.00&lt;/bonus2&gt;
  &lt;bonus2_ab&gt;0.00&lt;/bonus2_ab&gt;
  &lt;bonus3&gt;0.00&lt;/bonus3&gt;
  &lt;bonus3_ab&gt;0.00&lt;/bonus3_ab&gt;
  &lt;bonus4&gt;0.00&lt;/bonus4&gt;
  &lt;bonus4_ab&gt;0.00&lt;/bonus4_ab&gt;
  &lt;bonus5&gt;0.00&lt;/bonus5&gt;
  &lt;bonus5_a&gt;0.00&lt;/bonus5_ab&gt;
  &lt;bonus6&gt;0.00&lt;/bonus6&gt;
  &lt;bonus6_ab&gt;0.00&lt;/bonus6_ab&gt;
  &lt;bonus7&gt;0.00&lt;/bonus7&gt;
  &lt;bonus7_ab&gt;0.00&lt;/bonus7_ab&gt;
  &lt;bonus8&gt;0.00&lt;/bonus8&gt;
  &lt;bonus8_ab&gt;0.00&lt;/bonus8_ab&gt;
  &lt;bonus9&gt;0.00&lt;/bonus9&gt;
  &lt;bonus9_ab&gt;0.00&lt;/bonus9_ab&gt;
  &lt;bonus10&gt;0.00&lt;/bonus10&gt;
  &lt;bonus10_ab&gt;0.00&lt;/bonus10_ab&gt;
  &lt;zahlungszieltage&gt;0&lt;/zahlungszieltage&gt;
  &lt;zahlungszielskonto&gt;0.00&lt;/zahlungszielskonto&gt;
  &lt;zahlungszieltageskonto&gt;0&lt;/zahlungszieltageskonto&gt;
  &lt;portoartikel&gt;0&lt;/portoartikel&gt;
  &lt;portofreiab&gt;0.00&lt;/portofreiab&gt;
  &lt;erweiterteoptionen&gt;0&lt;/erweiterteoptionen&gt;
  &lt;zentralerechnung&gt;0&lt;/zentralerechnung&gt;
  &lt;zentralregulierung&gt;0&lt;/zentralregulierung&gt;
  &lt;gruppe&gt;0&lt;/gruppe&gt;
  &lt;preisgruppe&gt;0&lt;/preisgruppe&gt;
  &lt;verbandsgruppe&gt;0&lt;/verbandsgruppe&gt;
  &lt;rechnung_name/&gt;
  &lt;rechnung_strasse/&gt;
  &lt;rechnung_ort/&gt;
  &lt;rechnung_plz/&gt;
  &lt;rechnung_abteilung/&gt;
  &lt;rechnung_land/&gt;
  &lt;rechnung_email/&gt;
  &lt;rechnung_periode&gt;1&lt;/rechnung_periode&gt;
  &lt;rechnung_anzahlpapier&gt;0&lt;/rechnung_anzahlpapier&gt;
  &lt;rechnung_permail&gt;0&lt;/rechnung_permail&gt;
  &lt;webid/&gt;
  &lt;portofrei_aktiv&gt;0.00&lt;/portofrei_aktiv&gt;
  &lt;projekt&gt;0&lt;/projekt&gt;
  &lt;objektname/&gt;
  &lt;objekttyp/&gt;
  &lt;parameter/&gt;
  &lt;objektname2/&gt;
  &lt;objekttyp2/&gt;
  &lt;parameter2/&gt;
  &lt;objektname3/&gt;
  &lt;objekttyp3/&gt;
  &lt;parameter3/&gt;
  &lt;kategorie&gt;1&lt;/kategorie&gt;
  &lt;/xml&gt;
&lt;/response&gt;


</code></pre>
<h3 id="anlegen-und-bearbeiten-von-preisen-eines-artikels-preiseedit">Anlegen und Bearbeiten von Preisen eines Artikels: PreiseEdit<a class="headerlink" href="#anlegen-und-bearbeiten-von-preisen-eines-artikels-preiseedit" title="Permanent link">&para;</a></h3>
<p>Mit PreiseEdit besteht die M√∂glichkeit neue Einkaufs- und Verkaufspreise anzulegen, sowie bestehende Einkaufs- und Verkaufspreise zu bearbeiten. F√ºr den genauen Aufbau der XML Struktur, ist der Beispielaufruf der Funktion PreiseEdit weiter unten anzusehen.</p>
<p>Grundlegender Aufbau der XML Daten:</p>
<pre><code>  &lt;artikel&gt;
  &lt;id/&gt;
  &lt;nummer/&gt;
  &lt;verkaufspreise&gt;
  &lt;staffelpreis/&gt;
  &lt;/verkaufspreise&gt;
  &lt;einkaufspreise&gt;
  &lt;staffelpreis/&gt;
  &lt;/einkaufspreise&gt;
&lt;/artikel&gt;


</code></pre>
<p>Das Tag <artikel> umschlie√üt alle anderen Tags. Um die Preise zuzuordnen, muss die ID des Artikels angegeben werden. Ab der Version 17.3 kann die Artikelnummer, statt der ID verwendet werden. Anschlie√üend kommt das Tag <verkaufspreise> / <einkaufspreise>, das dann das Tag <staffelpreis> beinhaltet. Innerhalb von <staffelpreis> stehen weitere Parameter wie im n√§chsten Absatz gelistet. F√ºr jeden Preis, muss jeweils ein neues Tag <staffelpreis> innerhalb <verkaufspreise> / <einkaufspreise> ge√∂ffnet werden.</p>
<p>Folgende Parameter stehen zur Verf√ºgung:</p>
<p>Verkaufspreise:</p>
<ul>
<li><kundennummer> falls Preis f√ºr alle gilt und nicht kundenspezifisch, dann <kundennummer> leer lassen</li>
<li><gruppe> ID der Gruppe aus Xentral, falls Preis f√ºr bestimmte Gruppen gilt. Ansonsten <gruppe> leer lassen</li>
<li><ab_menge> Gibt die Menge an, ab der der Preis g√ºltig sein soll. Wenn <ab_menge> leer ist, wird 1 als Menge genommen. Kommazahlen mit Punkt angeben, z.B. 2.50</li>
<li><preis> Verkaufspreis, muss mit Punkt angegeben werden, z.B. 29.99</li>
</ul>
<p>Einkaufspreise:</p>
<ul>
<li><lieferantennummer> muss bef√ºllt sein, sonst wird der Einkaufspreis nicht angelegt / bearbeitet</li>
<li><ab_menge> Gibt die Menge an, ab der der Preis g√ºltig sein soll. Wenn <ab_menge> leer ist, wird 1 als Menge genommen. Kommazahlen mit Punkt angeben, z.B. 2.50</li>
<li><bestellnummer> Bestellnummer des Artikels beim Lieferanten</li>
<li><bezeichnunglieferant> Bezeichnung des Artikels beim Lieferanten</li>
<li><preis> Einkaufspreis, muss mit Punkt angegeben werden, z.B. 29.99</li>
<li><waehrung> W√§hrung des Preises, falls leer ist, wird EUR als W√§hrung genommen</li>
</ul>
<h4 id="beispiel-anfrage-preiseedit-mit-funktionen">Beispiel Anfrage PreiseEdit mit Funktionen<a class="headerlink" href="#beispiel-anfrage-preiseedit-mit-funktionen" title="Permanent link">&para;</a></h4>
<pre><code>  &lt;?php

$hash = generateHash();

$xml = &quot;&lt;artikel&gt; 
  &lt;id&gt;7&lt;/id&gt;
  &lt;verkaufspreise&gt; 
  &lt;staffelpreis&gt;
  &lt;kundennummer&gt;100030&lt;/kundennummer&gt;
  &lt;gruppe/&gt;
  &lt;ab_menge&gt;1&lt;/ab_menge&gt;
  &lt;preis&gt;2.80&lt;/preis&gt;
  &lt;/staffelpreis&gt; 
  &lt;staffelpreis&gt;
  &lt;kundennummer/&gt;
  &lt;gruppe/&gt;
  &lt;ab_menge/&gt;
  &lt;preis&gt;2.40&lt;/preis&gt;
  &lt;/staffelpreis&gt;
  &lt;/verkaufspreise&gt;
  &lt;einkaufspreise&gt;
  &lt;staffelpreis&gt;
  &lt;lieferantennummer&gt;70003&lt;/lieferantennummer&gt;
  &lt;ab_menge/&gt;
  &lt;bestellnummer&gt;123456789&lt;/bestellnummer&gt;
  &lt;bezeichnunglieferant&gt;Artikel 54367B&lt;/bezeichnunglieferant&gt;
  &lt;preis&gt;1.20&lt;/preis&gt;
  &lt;waehrung/&gt;
  &lt;/staffelpreis&gt;
  &lt;/einkaufspreise&gt;
  &lt;/artikel&gt;
  &quot;;

$output_xml = SendRequest(&quot;PreiseEdit&quot;,$xml,$hash); 

function generateHash()
{

  $initKey = 'neijfj38734hujfie';
  $remoteDomain = 'http://192.168.0.28';
  $date = gmdate('dmY');
  $hash = &quot;&quot;;

  for($i = 0; $i &lt;= 200; $i++) 
  $hash = sha1($hash. $initKey. $remoteDomain. $date);

  return $hash;
}

function SendRequest($methodname,$xml,$hash)
{

  $url = 'http://192.168.0.28/wawision/17.4/www/index.php?module=api&amp;action='.$methodname.'&amp;hash='.$hash;

  $xml = '&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
  &lt;request&gt;
  &lt;status&gt;
  &lt;function&gt;'.$methodname.'&lt;/function&gt;
  &lt;/status&gt;
  &lt;xml&gt;'.$xml.'&lt;/xml&gt;
  &lt;/request&gt;';

  $data = array('xml' =&gt; $xml, 'md5sum' =&gt; md5($xml));

  // use key 'http' even if you send the request to https://...
  $options = array(
  'http' =&gt; array(
  'header' =&gt; &quot;Content-type: application/x-www-form-urlencoded\r\n&quot;,
  'method' =&gt; 'POST',
  'content' =&gt; http_build_query($data),
),
);
  $context = stream_context_create($options);
  $result = file_get_contents($url, false, $context);
  return $result;
}

$obj = simplexml_load_string($output_xml);
echo &quot;&lt;pre&gt;&quot;;
print_r($obj);
echo &quot;&lt;/pre&gt;&quot;;

?&gt;


```#### Beispiel Antwort PreiseEdit```
  &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;response&gt;
  &lt;status&gt;
  &lt;action&gt;PreiseEdit&lt;/action&gt;
  &lt;message&gt;OK&lt;/message&gt;
  &lt;messageCode&gt;1&lt;/messageCode&gt;
  &lt;/status&gt;
&lt;/response&gt;


</code></pre>
<h3 id="verwalten-von-weiteren-kontaktinformationen-einer-adresse-adressekontaktcreate-adressekontaktedit-adressekontaktget">Verwalten von weiteren Kontaktinformationen einer Adresse: AdresseKontaktCreate, AdresseKontaktEdit, AdresseKontaktGet<a class="headerlink" href="#verwalten-von-weiteren-kontaktinformationen-einer-adresse-adressekontaktcreate-adressekontaktedit-adressekontaktget" title="Permanent link">&para;</a></h3>
<p>Mit AdresseKontaktCreate k√∂nnen weitere Kontaktinformationen bei einer Adresse hinterlegt werden. Bearbeitet werden diese mit AdresseKontaktEdit. Soll eine Kontaktinformation zur√ºckkommen, geschieht dies mit AdresseKontaktGet.</p>
<p>M√∂gliche Parameter zum Anlegen und Bearbeiten einer Adressinformation:</p>
<ul>
<li><addresse> ID der Adresse f√ºr die Kontaktinformation</li>
<li><bezeichnung> Bezeichnung der Kontaktinformation, z.B. Telefon privat</li>
<li><kontakt> Inhalt der Kontaktinformation, z.B. eine Telefonnummer</li>
</ul>
<h4 id="beispiel-anfrage-adressekontaktcreate-mit-funktionen">Beispiel Anfrage AdresseKontaktCreate mit Funktionen<a class="headerlink" href="#beispiel-anfrage-adressekontaktcreate-mit-funktionen" title="Permanent link">&para;</a></h4>
<pre><code>  &lt;?php
$hash = generateHash();

$xml = &quot;&lt;adresse&gt;13&lt;/adresse&gt;
  &lt;bezeichnung&gt;Telefon privat&lt;/bezeichnung&gt;
  &lt;kontakt&gt;01234567890&lt;/kontakt&gt;&quot;;

$output_xml = SendRequest(&quot;AdresseKontaktCreate&quot;,$xml,$hash); 

function generateHash()
{

  $initKey = 'neijfj38734hujfie';
  $remoteDomain = 'http://192.168.0.28';
  $date = gmdate('dmY');
  $hash = &quot;&quot;;

  for($i = 0; $i &lt;= 200; $i++) 
  $hash = sha1($hash. $initKey. $remoteDomain. $date);

  return $hash;
}

function SendRequest($methodname,$xml,$hash)
{

  $url = 'http://192.168.0.28/wawision/16.3/www/index.php?module=api&amp;action='.$methodname.'&amp;hash='.$hash;

  $xml = '&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
  &lt;request&gt;
  &lt;status&gt;
  &lt;function&gt;'.$methodname.'&lt;/function&gt;
  &lt;/status&gt;
  &lt;xml&gt;'.$xml.'&lt;/xml&gt;
  &lt;/request&gt;';

  $data = array('xml' =&gt; $xml, 'md5sum' =&gt; md5($xml));

  // use key 'http' even if you send the request to https://...
  $options = array(
  'http' =&gt; array(
  'header' =&gt; &quot;Content-type: application/x-www-form-urlencoded\r\n&quot;,
  'method' =&gt; 'POST',
  'content' =&gt; http_build_query($data),
),
);

  $context = stream_context_create($options);
  $result = file_get_contents($url, false, $context);
  return $result;
}

$obj = simplexml_load_string($output_xml);
echo &quot;&lt;pre&gt;&quot;;
print_r($obj);
echo &quot;&lt;/pre&gt;&quot;;

?&gt;


```#### Beispiel Antwort AdresseKontaktCreate```
  &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;response&gt;
  &lt;status&gt;
  &lt;action&gt;AdresseKontaktCreate&lt;/action&gt;
  &lt;message&gt;OK&lt;/message&gt;
  &lt;messageCode&gt;1&lt;/messageCode&gt;
  &lt;/status&gt;
  &lt;xml&gt;
  &lt;id&gt;2&lt;/id&gt;
  &lt;/xml&gt;
&lt;/response&gt;


```#### Beispiel Anfrage AdresseKontaktEdit mit Funktionen```
  &lt;?php
$hash = generateHash();

$xml = &quot;&lt;bezeichnung&gt;Mobil privat&lt;/bezeichnung&gt;
  &lt;kontakt&gt;01232222222&lt;/kontakt&gt;&quot;;

$id = 2;

$output_xml = SendRequest(&quot;AdresseKontaktEdit&quot;,$xml,$hash,$id); 

function generateHash()
{

  $initKey = 'neijfj38734hujfie';
  $remoteDomain = 'http://192.168.0.28';
  $date = gmdate('dmY');
  $hash = &quot;&quot;;

  for($i = 0; $i &lt;= 200; $i++) 
  $hash = sha1($hash. $initKey. $remoteDomain. $date);

  return $hash;
}

function SendRequest($methodname,$xml,$hash,$id)
{

  $url = 'http://192.168.0.28/wawision/16.3/www/index.php?module=api&amp;action='.$methodname.'&amp;hash='.$hash.'&amp;id='.$id;

  $xml = '&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
  &lt;request&gt;
  &lt;status&gt;
  &lt;function&gt;'.$methodname.'&lt;/function&gt;
  &lt;/status&gt;
  &lt;xml&gt;'.$xml.'&lt;/xml&gt;
  &lt;/request&gt;';

  $data = array('xml' =&gt; $xml, 'md5sum' =&gt; md5($xml));

  // use key 'http' even if you send the request to https://...
  $options = array(
  'http' =&gt; array(
  'header' =&gt; &quot;Content-type: application/x-www-form-urlencoded\r\n&quot;,
  'method' =&gt; 'POST',
  'content' =&gt; http_build_query($data),
),
);

  $context = stream_context_create($options);
  $result = file_get_contents($url, false, $context);
  return $result;
}

$obj = simplexml_load_string($output_xml);
echo &quot;&lt;pre&gt;&quot;;
print_r($obj);
echo &quot;&lt;/pre&gt;&quot;;

?&gt;


```#### Beispiel Antwort AdresseKontaktEdit```
  &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;response&gt;
  &lt;status&gt;
  &lt;action&gt;AdresseKontaktEdit&lt;/action&gt;
  &lt;message&gt;OK&lt;/message&gt;
  &lt;messageCode&gt;1&lt;/messageCode&gt;
  &lt;/status&gt; 
&lt;/response&gt;
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
  &lt;response&gt;
  &lt;status&gt;
  &lt;action&gt;AdresseKontaktGet&lt;/action&gt;
  &lt;message&gt;OK&lt;/message&gt;
  &lt;messageCode&gt;1&lt;/messageCode&gt;
  &lt;/status&gt;
  &lt;xml&gt;
  &lt;adresse&gt;41&lt;/adresse&gt;
  &lt;bezeichnung&gt;Skype Account&lt;/bezeichnung&gt;
  &lt;kontakt&gt;123456789&lt;/kontakt&gt;
  &lt;/xml&gt;
  &lt;/response&gt;


</code></pre>
<h3 id="anfragen-von-belegen-angebot-bis-lieferschein-belegelist">Anfragen von Belegen (Angebot bis Lieferschein: BelegeList)<a class="headerlink" href="#anfragen-von-belegen-angebot-bis-lieferschein-belegelist" title="Permanent link">&para;</a></h3>
<p>Um Informationen aus Belegen zu holen, kann die Funktion BelegeList verwendet werden. Tags die f√ºr eine Anfrage innerhalb von <order> verwendet werden k√∂nnen: Nur 1 innerhalb von m√∂glich. Erlaubte Sortierkriterien: anabregs_text, anabregs_text_en, artikelkategorie, belegnr, betrag, bezeichnung, datum, land, letztes_datum, menge, name, name_de, name_en, nummer, ort, plz, preis, status, strasse, telefax, telefon</p>
<p><desc> 1 oder 0 m√∂glich, um die Sortierung aufsteigend oder absteigend zu gestalten</p>
<p>Tags die f√ºr eine Anfrage unterhalb von <order> verwendet werden k√∂nnen, um die Suche nach bestimmten Elementen einzugrenzen:</p>
<ul>
<li><beleg> Folgende Belege sind m√∂glich: auftrag, rechnung, angebot, lieferschein, gutschrift, retoure</li>
<li><addresse> ID der gew√ºnschten Adresse, von der Belege angezeigt werden soll</li>
<li><datum_von> Datum, ab dem die Belege gew√§hlt werden sollen</li>
<li><datum_bis> Datum, bis die Belege gew√§hlt werden sollen</li>
<li><groupbyartikel> 1 oder 0, um nach Artikel zu gruppieren oder nicht</li>
<li><groupbyadresse> 1 oder 0, um nach Adressen zu gruppieren oder nicht</li>
<li><groupbyposition> 1 oder 0, um nach Positionen zu gruppieren oder nicht</li>
<li><kategorie> ID der Artikelkategorie</li>
<li><kategoriename> Name der Artikelkategorie</li>
<li><limit> Zahl angeben, um die Ausgabe der Belege zu limitieren, z.B. <limit>10</limit> zeigt nur die ersten 10 Belege an</li>
<li><offset> Zeigt ab der angegeben Zahl die Belege an, z.B. <offset>10</offset>, zeigt ab dem 10. Beleg die Belege an</li>
<li>Status von gew√ºnschten Belegen angeben, wie z.B. freigegeben oder versendet</li>
</ul>
<h4 id="beispiel-anfrage-mit-funktionen-1">Beispiel Anfrage mit Funktionen 1<a class="headerlink" href="#beispiel-anfrage-mit-funktionen-1" title="Permanent link">&para;</a></h4>
<pre><code>  &lt;?php

$hash = generateHash();
$xml = &quot;&lt;order&gt;
  &lt;field&gt;name_de&lt;/field&gt;
  &lt;desc&gt;1&lt;/desc&gt;
  &lt;/order&gt;
  &lt;beleg&gt;rechnung&lt;/beleg&gt;
  &lt;groupbyartikel&gt;1&lt;/groupbyartikel&gt;
  &lt;limit&gt;10&lt;/limit&gt;
  &lt;offset&gt;0&lt;/offset&gt;&quot;;

$output_xml = SendRequest(&quot;BelegeList&quot;,$xml,$hash); 

function generateHash()
{

  $initKey = 'neijfj38734hujfie';
  $remoteDomain = 'http://192.168.0.28';
  $date = gmdate('dmY');
  $hash = &quot;&quot;;

  for($i = 0; $i &lt;= 200; $i++) 
  $hash = sha1($hash. $initKey. $remoteDomain. $date);

  return $hash;
}

function SendRequest($methodname,$xml,$hash)
{
  $url = 'http://192.168.0.28/wawision/16.3/www/index.php?module=api&amp;action='.$methodname.'&amp;hash='.$hash;

  $xml = '&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
  &lt;request&gt;
  &lt;status&gt;
  &lt;function&gt;'.$methodname.'&lt;/function&gt;
  &lt;/status&gt;
  &lt;xml&gt;'.$xml.'&lt;/xml&gt;
  &lt;/request&gt;';

  $data = array('xml' =&gt; $xml, 'md5sum' =&gt; md5($xml));

  // use key 'http' even if you send the request to https://...
  $options = array(
  'http' =&gt; array(
  'header' =&gt; &quot;Content-type: application/x-www-form-urlencoded\r\n&quot;,
  'method' =&gt; 'POST',
  'content' =&gt; http_build_query($data),
),
);
  $context = stream_context_create($options);
  $result = file_get_contents($url, false, $context);
  return $result;
}

?&gt;


```#### Beispiel Antwort nach Anfrage 1```
  &lt;response&gt;
  &lt;status&gt;
  &lt;action&gt;BelegeList&lt;/action&gt;
  &lt;message&gt;OK&lt;/message&gt;
  &lt;messageCode&gt;1&lt;/messageCode&gt;
  &lt;/status&gt;

  &lt;xml&gt;
  &lt;artikel_list&gt;
  &lt;artikel&gt;
  &lt;id&gt;
  &lt;value&gt;1&lt;/value&gt;
  &lt;/id&gt;
  &lt;nummer&gt;
  &lt;value&gt;700001&lt;/value&gt;
  &lt;/nummer&gt;
  &lt;name_de&gt;
  &lt;value&gt;Apfelmus&lt;/value&gt;
  &lt;/name_de&gt;
  &lt;menge&gt;
  &lt;value&gt;3&lt;/value&gt;
  &lt;/menge&gt;
  &lt;betrag&gt;
  &lt;value&gt;2,50&lt;/value&gt;
  &lt;/betrag&gt;
  &lt;artikelkategorie&gt;
  &lt;value&gt;produkt&lt;/value&gt;
  &lt;/artikelkategorie&gt;
  &lt;letztes_datum&gt;
  &lt;value&gt;2016-10-19&lt;/value&gt;
  &lt;/letztes_datum&gt;
  &lt;artikelkategoriebezeichnung&gt;
  &lt;value /&gt;
  &lt;/artikelkategoriebezeichnung&gt;
  &lt;/artikel&gt;

  &lt;anz_gesamt&gt;1&lt;/anz_gesamt&gt;
  &lt;anz_result&gt;1&lt;/anz_result&gt;
  &lt;/artikel_list&gt;
  &lt;/xml&gt;
  &lt;/response&gt;


```#### Beispiel Belege Anfrage nach Artikel Eingabe 2```
  &lt;order&gt;
  &lt;field&gt;name_de&lt;/field&gt;
  &lt;desc&gt;1&lt;/desc&gt;
&lt;/order&gt;
&lt;beleg&gt;rechnung&lt;/beleg&gt;
&lt;groupbyartikel&gt;1&lt;/groupbyartikel&gt;
&lt;limit&gt;10&lt;/limit&gt;
&lt;offset&gt;0&lt;/offset&gt;

```#### Antwort auf Anfrage 2```
  &lt;response&gt;
  &lt;status&gt;
  &lt;action&gt;BelegeList&lt;/action&gt;
  &lt;message&gt;OK&lt;/message&gt;
  &lt;messageCode&gt;1&lt;/messageCode&gt;
  &lt;/status&gt;
  &lt;xml&gt;
  &lt;artikel_list&gt;
  &lt;artikel&gt;
  &lt;id&gt;
  &lt;value&gt;29549&lt;/value&gt;
  &lt;/id&gt;
  &lt;nummer&gt;
  &lt;value&gt;6450823&lt;/value&gt;
  &lt;/nummer&gt;
  &lt;name_de&gt;
  &lt;value&gt;Testartole√∂&lt;/value&gt;
  &lt;/name_de&gt;
  &lt;menge&gt;
  &lt;value&gt;1&lt;/value&gt;
  &lt;/menge&gt;
  &lt;betrag&gt;
  &lt;value&gt;0&lt;/value&gt;
  &lt;/betrag&gt;
  &lt;artikelkategorie&gt;
  &lt;value&gt;1289_kat&lt;/value&gt;
  &lt;/artikelkategorie&gt;
  &lt;letztes_datum&gt;
  &lt;value&gt;2016-04-26&lt;/value&gt;
  &lt;/letztes_datum&gt;
  &lt;artikelkategoriebezeichnung&gt;
  &lt;value&gt;Testkategorie&lt;/value&gt;
  &lt;/artikelkategoriebezeichnung&gt;
  &lt;/artikel&gt;
  &lt;artikel&gt;
  &lt;id&gt;
  &lt;value&gt;1388&lt;/value&gt;
  &lt;/id&gt;
  &lt;nummer&gt;
  &lt;value&gt;123456&lt;/value&gt;
  &lt;/nummer&gt;
  &lt;name_de&gt;
  &lt;value&gt;Akkuschrauber&lt;/value&gt;
  &lt;/name_de&gt;
  &lt;menge&gt;
  &lt;value&gt;1&lt;/value&gt;
  &lt;/menge&gt;
  &lt;betrag&gt;
  &lt;value&gt;94.0252&lt;/value&gt;
  &lt;/betrag&gt;
  &lt;artikelkategorie&gt;
  &lt;value&gt;produkt&lt;/value&gt;
  &lt;/artikelkategorie&gt;
  &lt;letztes_datum&gt;
  &lt;value&gt;2016-10-25&lt;/value&gt;
  &lt;/letztes_datum&gt;
  &lt;artikelkategoriebezeichnung&gt;
  &lt;value/&gt;
  &lt;/artikelkategoriebezeichnung&gt;
  &lt;/artikel&gt;
  &lt;artikel&gt;
..
  &lt;/artikel&gt;
  &lt;anz_gesamt&gt;365&lt;/anz_gesamt&gt;
  &lt;anz_result&gt;30&lt;/anz_result&gt;
  &lt;/artikel_list&gt;
  &lt;/xml&gt;
&lt;/response&gt;

```#### Beispiel: Positionen f√ºr einen Lieferschein anhand der Belegnr```
  $input_xml = '&lt;beleg&gt;lieferschein&lt;/beleg&gt;
&lt;search&gt;
&lt;field&gt;belegnr&lt;/field&gt;
&lt;suche&gt;'.base64_encode(300080).'&lt;/suche&gt;
&lt;exakt&gt;1&lt;/exakt&gt;
&lt;/search&gt;';
$xml = SendRequest($url,&quot;BelegeList&quot;,$input_xml,$hash,&quot;&quot;, $api_id);

```#### Antwort```
  &lt;response&gt;
  &lt;status&gt;
  &lt;action&gt;BelegeList&lt;/action&gt;
  &lt;message&gt;OK&lt;/message&gt;
  &lt;messageCode&gt;1&lt;/messageCode&gt;
  &lt;/status&gt;
  &lt;xml&gt;
  &lt;beleg_list&gt;
  &lt;lieferschein&gt;
  &lt;belegid&gt;
  &lt;value&gt;125&lt;/value&gt;
  &lt;/belegid&gt;
  &lt;datum&gt;
  &lt;value&gt;2016-10-27&lt;/value&gt;
  &lt;/datum&gt;
  &lt;belegnr&gt;
  &lt;value&gt;300080&lt;/value&gt;
  &lt;/belegnr&gt;
  &lt;status&gt;
  &lt;value&gt;versendet&lt;/value&gt;
  &lt;/status&gt;
  &lt;adresse&gt;
  &lt;value&gt;655&lt;/value&gt;
  &lt;/adresse&gt;
  &lt;name&gt;
  &lt;value&gt;TEST KUNDE&lt;/value&gt;
  &lt;/name&gt;
  &lt;position&gt;
  &lt;beleg&gt;
  &lt;value&gt;lieferschein&lt;/value&gt;
  &lt;/beleg&gt;
  &lt;adresse&gt;
  &lt;value&gt;655&lt;/value&gt;
  &lt;/adresse&gt;
  &lt;name&gt;
  &lt;value&gt;TEST KUNDE&lt;/value&gt;
  &lt;/name&gt;
  &lt;datum&gt;
  &lt;value&gt;2016-10-27&lt;/value&gt;
  &lt;/datum&gt;
  &lt;belegnr&gt;
  &lt;value&gt;300080&lt;/value&gt;
  &lt;/belegnr&gt;
  &lt;belegid&gt;
  &lt;value&gt;125&lt;/value&gt;
  &lt;/belegid&gt;
  &lt;id&gt;
  &lt;value&gt;178&lt;/value&gt;
  &lt;/id&gt;
  &lt;lieferschein&gt;
  &lt;value&gt;125&lt;/value&gt;
  &lt;/lieferschein&gt;
  &lt;artikel&gt;
  &lt;value&gt;36370&lt;/value&gt;
  &lt;/artikel&gt;
  &lt;projekt&gt;
  &lt;value&gt;1&lt;/value&gt;
  &lt;/projekt&gt;
  &lt;bezeichnung&gt;
  &lt;value&gt;Artikelname&lt;/value&gt;
  &lt;/bezeichnung&gt;
  &lt;beschreibung&gt;
  &lt;value&gt;foobar&lt;/value&gt;
  &lt;/beschreibung&gt;
  &lt;internerkommentar&gt;
  &lt;value/&gt;
  &lt;/internerkommentar&gt;
  &lt;nummer&gt;
  &lt;value&gt;A123&lt;/value&gt;
  &lt;/nummer&gt;
  &lt;seriennummer&gt;
  &lt;value&gt;100002&lt;/value&gt;
  &lt;/seriennummer&gt;
  &lt;menge&gt;
  &lt;value&gt;2&lt;/value&gt;
  &lt;/menge&gt;
  &lt;lieferdatum&gt;
  &lt;value&gt;0000-00-00&lt;/value&gt;
  &lt;/lieferdatum&gt;
  &lt;vpe&gt;
  &lt;value&gt;1&lt;/value&gt;
  &lt;/vpe&gt;
  &lt;sort&gt;
  &lt;value&gt;1&lt;/value&gt;
  &lt;/sort&gt;
  &lt;status&gt;
  &lt;value&gt;versendet&lt;/value&gt;
  &lt;/status&gt;
  &lt;bemerkung&gt;
  &lt;value/&gt;
  &lt;/bemerkung&gt;
  &lt;geliefert&gt;
  &lt;value&gt;2&lt;/value&gt;
  &lt;/geliefert&gt;
  &lt;abgerechnet&gt;
  &lt;value&gt;0&lt;/value&gt;
  &lt;/abgerechnet&gt;
  &lt;logdatei&gt;
  &lt;value&gt;2016-10-27 09:23:59&lt;/value&gt;
  &lt;/logdatei&gt;
  &lt;explodiert_parent_artikel&gt;
  &lt;value&gt;0&lt;/value&gt;
  &lt;/explodiert_parent_artikel&gt;
  &lt;einheit&gt;
  &lt;value/&gt;
  &lt;/einheit&gt;
  &lt;zolltarifnummer&gt;
  &lt;value/&gt;
  &lt;/zolltarifnummer&gt;
  &lt;herkunftsland&gt;
  &lt;value&gt;DE&lt;/value&gt;
  &lt;/herkunftsland&gt;
  &lt;artikelnummerkunde&gt;
  &lt;value/&gt;
  &lt;/artikelnummerkunde&gt;
  &lt;lieferdatumkw&gt;
  &lt;value&gt;0&lt;/value&gt;
  &lt;/lieferdatumkw&gt;
  &lt;auftrag_position_id&gt;
  &lt;value&gt;1734&lt;/value&gt;
  &lt;/auftrag_position_id&gt;
  &lt;lagertext&gt;
  &lt;value/&gt;
  &lt;/lagertext&gt;
  &lt;kostenlos&gt;
  &lt;value&gt;0&lt;/value&gt;
  &lt;/kostenlos&gt;
  &lt;teilprojekt&gt;
  &lt;value&gt;0&lt;/value&gt;
  &lt;/teilprojekt&gt;
  &lt;freifeld1&gt;
  &lt;value/&gt;
  &lt;/freifeld1&gt;
  &lt;freifeld2&gt;
  &lt;value/&gt;
  &lt;/freifeld2&gt;
  &lt;freifeld3&gt;
  &lt;value/&gt;
  &lt;/freifeld3&gt;
  &lt;freifeld4&gt;
  &lt;value/&gt;
  &lt;/freifeld4&gt;
  &lt;freifeld5&gt;
  &lt;value/&gt;
  &lt;/freifeld5&gt;
  &lt;freifeld6&gt;
  &lt;value/&gt;
  &lt;/freifeld6&gt;
  &lt;freifeld7&gt;
  &lt;value/&gt;
  &lt;/freifeld7&gt;
  &lt;freifeld8&gt;
  &lt;value/&gt;
  &lt;/freifeld8&gt;
  &lt;freifeld9&gt;
  &lt;value/&gt;
  &lt;/freifeld9&gt;
  &lt;freifeld10&gt;
  &lt;value/&gt;
  &lt;/freifeld10&gt;
  &lt;explodiert_parent&gt;
  &lt;value&gt;0&lt;/value&gt;
  &lt;/explodiert_parent&gt;
  &lt;artikelkategorie&gt;
  &lt;value&gt;1331_kat&lt;/value&gt;
  &lt;/artikelkategorie&gt;
  &lt;preis&gt;
  &lt;value&gt;0&lt;/value&gt;
  &lt;/preis&gt;
  &lt;/position&gt;
  &lt;/lieferschein&gt;
  &lt;anz_gesamt&gt;1&lt;/anz_gesamt&gt;
  &lt;anz_result&gt;1&lt;/anz_result&gt;
  &lt;/beleg_list&gt;
  &lt;/xml&gt;
&lt;/response&gt;

</code></pre>
<h3 id="abfrage-von-umsatzen-adresselisteget">Abfrage von Ums√§tzen: AdresseListeGet<a class="headerlink" href="#abfrage-von-umsatzen-adresselisteget" title="Permanent link">&para;</a></h3>
<p>Mit AdresseListeGet k√∂nnen Kunden ausgegeben werden, die z.B. innerhalb eines bestimmten Zeitraums eine bestimmte Menge Umsatz erzeugt haben.</p>
<p>Die Abfrage der Kunden k√∂nnen mit einigen Parametern eingegrenzt werden:</p>
<ul>
<li><order> beinhaltet das Tag <field>. Dadurch wird Ihr Ergebnis nach dem Feld in <field> sortiert</li>
<li><field> steht innerhalb von <order> und kann verschiedene Filter beinhalten, wie z.B. <field>name</field>. M√∂glich sind: gruppenname, kennziffer, name, plz, ort, telefon, telefax, ansprechpartner, typ, strasse, land, email, kundennummer, lieferantennummer</li>
<li><desc> steht innerhalb von <order>. Wird eine 1 gesetzt, wird Ihr Ergebnis absteigend nach Ihrer Angabe von <field> sortiert. Bei einer 0 das selbe aufsteigend</li>
<li><limit> limitiert das Ergebnis Ihrer Abfrage auf Ihre festgelegte Zahl, z.B. <limit>10</limit> zeigt nur die ersten 10 Belege an</li>
<li><offset> zeigt ab der angegeben Zahl die Belege an, z.B. <offset>10</offset>, zeigt ab dem 10. Beleg die Belege an</li>
<li><kategorie> Hier muss die Kategorien-ID angegeben werden. Wenn ein Beleg einen Artikel aus dieser Artikelkategorie enth√§lt wird der Gesamtumsatz angezeigt</li>
<li><vertrieb> Hier muss die ID des Vertriebsmitarbeiters angegeben werden. Die Ums√§tze dieser Belege mit diesem Vertriebsmitarbeiter werden summiert</li>
<li><summierung> beinhaltet die verschiedenen Tags der Belegarten, deren Ums√§tze summiert werden sollen. M√∂glich sind:</li>
<li><rechnung></li>
<li><gutschrift></li>
<li><bestellung></li>
<li><auftrag></li>
<li><angebot></li>
<li><umsatzvon> gibt den Mindestumsatz an der vorhanden sein muss</li>
<li><status> Hier kann der Status angegeben werden, die die Belege erf√ºllen m√ºssen. Wird kein <status> angegeben, werden stornierte und angelegte Belege nicht mit einbezogen</li>
<li><datumvon> Ab diesem Datum werden die Belege ber√ºcksichtigt</li>
<li><datumbis> Bis zu diesem Datum werden die Belege ber√ºcksichtigt</li>
<li><searchmode> Hier kann AND oder OR angegeben werden, um die einzelnen Bedingungen zu verkn√ºpfen. Wird nichts angegeben, wird AND verwendet</li>
<li><exakt> Hier muss 1 oder 0 angegeben werden, ob die Bedingungen bei LIKE von % umschlossen werden sollen oder nicht. 1 bedeutet mit % (z.B. LIKE %Bedingung%), 0 bedeutet ohne (z.B. LIKE Bedingung)</li>
<li><search> beinhaltet die Tags <suche> und <field>. In <suche> muss mit base64_encode() der Wert √ºbergeben werden, nachdem gesucht werden soll, wie z.B. einem spezifischen Kundennamen (<suche>.base64_encode(&lsquo;Testname&rsquo;).</suche>). Mit <field> wird dann das Datenbankfeld aus der Adresstabelle genannt, in dem der Begriff aus <suche> gesucht werden soll (<field>name</field>)</li>
<li><id> Mit Angabe der Adress-ID kann die Abfrage auf diese Adresse beschr√§nkt werden</li>
</ul>
<h4 id="beispiel-1-anfrage-adresselisteget-mit-funktionen">Beispiel 1 Anfrage AdresseListeGet mit Funktionen<a class="headerlink" href="#beispiel-1-anfrage-adresselisteget-mit-funktionen" title="Permanent link">&para;</a></h4>
<pre><code>  $input_xml = &quot;
&lt;order&gt;
  &lt;field&gt;name&lt;/field&gt;&lt;desc&gt;0&lt;/desc&gt;
&lt;/order&gt;
&lt;limit&gt;10&lt;/limit&gt;
&lt;offset&gt;0&lt;/offset&gt;
&lt;summierung&gt; 
  &lt;beleg&gt;rechnung&lt;/beleg&gt;
  &lt;beleg&gt;gutschrift&lt;/beleg&gt;
&lt;/summierung&gt;
&lt;umsatzvon&gt;100&lt;/umsatzvon&gt;
&lt;datumbis&gt;2016-09-08&lt;/datumbis&gt;
&lt;datumvon&gt;2015-03-08&lt;/datumvon&gt;
&quot;;
$xml = SendRequest($url,&quot;AdresseListeGet&quot;,$input_xml,$hash,&quot;&quot;, $api_id);


```#### Beispiel 1 Antwort AdresseListeGet```
  &lt;response&gt;
  &lt;status&gt;
  &lt;action&gt;AdresseListeGet&lt;/action&gt;
  &lt;message&gt;OK&lt;/message&gt;
  &lt;messageCode&gt;1&lt;/messageCode&gt;
  &lt;/status&gt;
  &lt;xml&gt;
  &lt;adressen&gt;
  &lt;adresse&gt;
  &lt;id&gt;
  &lt;value&gt;1085&lt;/value&gt;
  &lt;/id&gt;
  &lt;typ/&gt;
  &lt;marketingsperre/&gt;
  &lt;trackingsperre&gt;
  &lt;value&gt;0&lt;/value&gt;
  &lt;/trackingsperre&gt;
  &lt;rechnungsadresse&gt;
  &lt;value&gt;0&lt;/value&gt;
  &lt;/rechnungsadresse&gt;
  &lt;sprache/&gt;
  &lt;name&gt;
  &lt;value&gt;Testkunde&lt;/value&gt;
  &lt;/name&gt;
  &lt;abteilung/&gt;
  &lt;unterabteilung/&gt;
  &lt;ansprechpartner/&gt;
  &lt;land&gt;
  &lt;value&gt;DE&lt;/value&gt;
  &lt;/land&gt;
  &lt;strasse&gt;
  &lt;value&gt;Musterstr. 1&lt;/value&gt;
  &lt;/strasse&gt;
  &lt;ort&gt;
  &lt;value&gt;Musterstadt&lt;/value&gt;
  &lt;/ort&gt;
  &lt;plz&gt;
  &lt;value&gt;12345&lt;/value&gt;
  &lt;/plz&gt;
  &lt;telefon/&gt;
  &lt;telefax/&gt;
  &lt;mobil/&gt;
  &lt;email&gt;
  &lt;value&gt;email@example.com&lt;/value&gt;
  &lt;/email&gt;
  &lt;ustid/&gt;
  &lt;ust_befreit&gt;
  &lt;value&gt;0&lt;/value&gt;
  &lt;/ust_befreit&gt;
  &lt;passwort_gesendet&gt;
  &lt;value&gt;0&lt;/value&gt;
  &lt;/passwort_gesendet&gt;
  &lt;sonstiges/&gt;
  &lt;adresszusatz/&gt;
  &lt;kundenfreigabe&gt;
  &lt;value&gt;0&lt;/value&gt;
  &lt;/kundenfreigabe&gt;
  &lt;steuer/&gt;
  &lt;logdatei&gt;
  &lt;value&gt;2016-09-23 12:01:26&lt;/value&gt;
  &lt;/logdatei&gt;
  &lt;kundennummer&gt;
  &lt;value&gt;10476&lt;/value&gt;
  &lt;/kundennummer&gt;
  &lt;lieferantennummer/&gt;
  &lt;mitarbeiternummer/&gt;
  &lt;konto/&gt;
  &lt;blz/&gt;
  &lt;bank/&gt;
  &lt;inhaber/&gt;
  &lt;swift/&gt;
  &lt;iban/&gt;
  &lt;waehrung/&gt;
  &lt;paypal/&gt;
  &lt;paypalinhaber/&gt;
  &lt;paypalwaehrung/&gt;
  &lt;projekt&gt;
  &lt;value&gt;1&lt;/value&gt;
  &lt;/projekt&gt;
  &lt;partner&gt;
  &lt;value&gt;0&lt;/value&gt;
  &lt;/partner&gt;
  &lt;zahlungsweise/&gt;
  &lt;zahlungszieltage/&gt;
  &lt;zahlungszieltageskonto/&gt;
  &lt;zahlungszielskonto/&gt;
  &lt;versandart/&gt;
  &lt;kundennummerlieferant/&gt;
  &lt;zahlungsweiselieferant/&gt;
  &lt;zahlungszieltagelieferant/&gt;
  &lt;zahlungszieltageskontolieferant/&gt;
  &lt;zahlungszielskontolieferant/&gt;
  &lt;versandartlieferant/&gt;
  &lt;geloescht&gt;
  &lt;value&gt;0&lt;/value&gt;
  &lt;/geloescht&gt;
  &lt;firma&gt;
  &lt;value&gt;1&lt;/value&gt;
  &lt;/firma&gt;
  &lt;webid/&gt;
  &lt;vorname/&gt;
  &lt;kennung/&gt;
  &lt;sachkonto/&gt;
  &lt;freifeld1/&gt;
  &lt;freifeld2/&gt;
  &lt;freifeld3/&gt;
  &lt;filiale/&gt;
  &lt;vertrieb/&gt;
  &lt;innendienst/&gt;
  &lt;verbandsnummer/&gt;
  &lt;abweichendeemailab/&gt;
  &lt;portofrei_aktiv/&gt;
  &lt;portofreiab&gt;
  &lt;value&gt;0.00&lt;/value&gt;
  &lt;/portofreiab&gt;
  &lt;infoauftragserfassung/&gt;
  &lt;mandatsreferenz/&gt;
  &lt;mandatsreferenzdatum/&gt;
  &lt;mandatsreferenzaenderung&gt;
  &lt;value&gt;0&lt;/value&gt;
  &lt;/mandatsreferenzaenderung&gt;
  &lt;glaeubigeridentnr/&gt;
  &lt;kreditlimit&gt;
  &lt;value&gt;0.00&lt;/value&gt;
  &lt;/kreditlimit&gt;
  &lt;tour&gt;
  &lt;value&gt;0&lt;/value&gt;
  &lt;/tour&gt;
  &lt;zahlungskonditionen_festschreiben/&gt;
  &lt;rabatte_festschreiben/&gt;
  &lt;mlmaktiv/&gt;
  &lt;mlmvertragsbeginn/&gt;
  &lt;mlmlizenzgebuehrbis/&gt;
  &lt;mlmfestsetzenbis/&gt;
  &lt;mlmfestsetzen&gt;
  &lt;value&gt;0&lt;/value&gt;
  &lt;/mlmfestsetzen&gt;
  &lt;mlmmindestpunkte&gt;
  &lt;value&gt;0&lt;/value&gt;
  &lt;/mlmmindestpunkte&gt;
  &lt;mlmwartekonto&gt;
  &lt;value&gt;0.00&lt;/value&gt;
  &lt;/mlmwartekonto&gt;
  &lt;abweichende_rechnungsadresse&gt;
  &lt;value&gt;0&lt;/value&gt;
  &lt;/abweichende_rechnungsadresse&gt;
  &lt;rechnung_vorname/&gt;
  &lt;rechnung_name/&gt;
  &lt;rechnung_titel/&gt;
  &lt;rechnung_typ/&gt;
  &lt;rechnung_strasse/&gt;
  &lt;rechnung_ort/&gt;
  &lt;rechnung_plz/&gt;
  &lt;rechnung_ansprechpartner/&gt;
  &lt;rechnung_land/&gt;
  &lt;rechnung_abteilung/&gt;
  &lt;rechnung_unterabteilung/&gt;
  &lt;rechnung_adresszusatz/&gt;
  &lt;rechnung_telefon/&gt;
  &lt;rechnung_telefax/&gt;
  &lt;rechnung_anschreiben/&gt;
  &lt;rechnung_email/&gt;
  &lt;geburtstag/&gt;
  &lt;rolledatum/&gt;
  &lt;liefersperre/&gt;
  &lt;liefersperregrund/&gt;
  &lt;mlmpositionierung/&gt;
  &lt;steuernummer/&gt;
  &lt;steuerbefreit/&gt;
  &lt;mlmmitmwst/&gt;
  &lt;mlmabrechnung/&gt;
  &lt;mlmwaehrungauszahlung/&gt;
  &lt;mlmauszahlungprojekt&gt;
  &lt;value&gt;0&lt;/value&gt;
  &lt;/mlmauszahlungprojekt&gt;
  &lt;sponsor/&gt;
  &lt;geworbenvon/&gt;
  &lt;logfile/&gt;
  &lt;kalender_aufgaben/&gt;
  &lt;verrechnungskontoreisekosten&gt;
  &lt;value&gt;0&lt;/value&gt;
  &lt;/verrechnungskontoreisekosten&gt;
  &lt;usereditid/&gt;
  &lt;useredittimestamp&gt;
  &lt;value&gt;0000-00-00 00:00:00&lt;/value&gt;
  &lt;/useredittimestamp&gt;
  &lt;rabatt/&gt;
  &lt;provision/&gt;
  &lt;rabattinformation/&gt;
  &lt;rabatt1/&gt;
  &lt;rabatt2/&gt;
  &lt;rabatt3/&gt;
  &lt;rabatt4/&gt;
  &lt;rabatt5/&gt;
  &lt;internetseite/&gt;
  &lt;bonus1/&gt;
  &lt;bonus1_ab/&gt;
  &lt;bonus2/&gt;
  &lt;bonus2_ab/&gt;
  &lt;bonus3/&gt;
  &lt;bonus3_ab/&gt;
  &lt;bonus4/&gt;
  &lt;bonus4_ab/&gt;
  &lt;bonus5/&gt;
  &lt;bonus5_ab/&gt;
  &lt;bonus6/&gt;
  &lt;bonus6_ab/&gt;
  &lt;bonus7/&gt;
  &lt;bonus7_ab/&gt;
  &lt;bonus8/&gt;
  &lt;bonus8_ab/&gt;
  &lt;bonus9/&gt;
  &lt;bonus9_ab/&gt;
  &lt;bonus10/&gt;
  &lt;bonus10_ab/&gt;
  &lt;rechnung_periode/&gt;
  &lt;rechnung_anzahlpapier/&gt;
  &lt;rechnung_permail/&gt;
  &lt;titel/&gt;
  &lt;anschreiben/&gt;
  &lt;nachname/&gt;
  &lt;arbeitszeitprowoche&gt;
  &lt;value&gt;0.00&lt;/value&gt;
  &lt;/arbeitszeitprowoche&gt;
  &lt;folgebestaetigungsperre&gt;
  &lt;value&gt;0&lt;/value&gt;
  &lt;/folgebestaetigungsperre&gt;
  &lt;verein_mitglied_seit/&gt;
  &lt;verein_mitglied_bis/&gt;
  &lt;verein_mitglied_aktiv/&gt;
  &lt;verein_spendenbescheinigung&gt;
  &lt;value&gt;0&lt;/value&gt;
  &lt;/verein_spendenbescheinigung&gt;
  &lt;freifeld4/&gt;
  &lt;freifeld5/&gt;
  &lt;freifeld6/&gt;
  &lt;freifeld7/&gt;
  &lt;freifeld8/&gt;
  &lt;freifeld9/&gt;
  &lt;freifeld10/&gt;
  &lt;rechnung_papier&gt;
  &lt;value&gt;0&lt;/value&gt;
  &lt;/rechnung_papier&gt;
  &lt;angebot_cc/&gt;
  &lt;auftrag_cc/&gt;
  &lt;rechnung_cc/&gt;
  &lt;gutschrift_cc/&gt;
  &lt;lieferschein_cc/&gt;
  &lt;bestellung_cc/&gt;
  &lt;angebot_fax_cc/&gt;
  &lt;auftrag_fax_cc/&gt;
  &lt;rechnung_fax_cc/&gt;
  &lt;gutschrift_fax_cc/&gt;
  &lt;lieferschein_fax_cc/&gt;
  &lt;bestellung_fax_cc/&gt;
  &lt;abperfax&gt;
  &lt;value&gt;0&lt;/value&gt;
  &lt;/abperfax&gt;
  &lt;abpermail/&gt;
  &lt;kassiereraktiv&gt;
  &lt;value&gt;0&lt;/value&gt;
  &lt;/kassiereraktiv&gt;
  &lt;kassierernummer/&gt;
  &lt;kassiererprojekt&gt;
  &lt;value&gt;0&lt;/value&gt;
  &lt;/kassiererprojekt&gt;
  &lt;portofreilieferant_aktiv&gt;
  &lt;value&gt;0&lt;/value&gt;
  &lt;/portofreilieferant_aktiv&gt;
  &lt;portofreiablieferant&gt;
  &lt;value&gt;0.00&lt;/value&gt;
  &lt;/portofreiablieferant&gt;
  &lt;mandatsreferenzart/&gt;
  &lt;mandatsreferenzwdhart/&gt;
  &lt;serienbrief&gt;
  &lt;value&gt;0&lt;/value&gt;
  &lt;/serienbrief&gt;
  &lt;lieferantennummerbeikunde/&gt;
  &lt;lead&gt;
  &lt;value&gt;0&lt;/value&gt;
  &lt;/lead&gt;
  &lt;geburtstagkalender&gt;
  &lt;value&gt;0&lt;/value&gt;
  &lt;/geburtstagkalender&gt;
  &lt;zahlungsweiseabo/&gt;
  &lt;bundesland/&gt;
  &lt;liefersperredatum/&gt;
  &lt;mandatsreferenzhinweis/&gt;
  &lt;geburtstagskarte&gt;
  &lt;value&gt;0&lt;/value&gt;
  &lt;/geburtstagskarte&gt;
  &lt;kundennummer_buchhaltung/&gt;
  &lt;lieferantennummer_buchhaltung/&gt;
  &lt;mlmintranetgesamtestruktur&gt;
  &lt;value&gt;0&lt;/value&gt;
  &lt;/mlmintranetgesamtestruktur&gt;
  &lt;rechnung_umsatz_netto&gt;
  &lt;value&gt;1219.24&lt;/value&gt;
  &lt;/rechnung_umsatz_netto&gt;
  &lt;gutschrift_umsatz_netto/&gt;
  &lt;/adresse&gt;
  &lt;adresse&gt;
...
  &lt;/adresse&gt;
  &lt;anz_gesamt&gt;6771&lt;/anz_gesamt&gt;
  &lt;anz_result&gt;10&lt;/anz_result&gt;
  &lt;/adressen&gt;
  &lt;/xml&gt;
&lt;/response&gt;


```#### Beispiel 2 Anfrage AdresseListeGet mit Funktionen```
  &lt;?php

$hash = generateHash();

$xml = &quot;&lt;order&gt;
  &lt;field&gt;name&lt;/field&gt;
  &lt;desc&gt;0&lt;/desc&gt;
  &lt;/order&gt;
  &lt;limit&gt;10&lt;/limit&gt;
  &lt;offset&gt;0&lt;/offset&gt;
  &lt;summierung&gt; 
  &lt;beleg&gt;rechnung&lt;/beleg&gt;
  &lt;/summierung&gt;
  &lt;umsatzvon&gt;2800&lt;/umsatzvon&gt;
  &lt;search&gt;
  &lt;suche&gt;&quot;.base64_encode('86150').&quot;&lt;/suche&gt;
  &lt;field&gt;plz&lt;/field&gt;
  &lt;/search&gt; 
  &quot;;

$output_xml = SendRequest(&quot;AdresseListeGet&quot;,$xml,$hash); 

function generateHash()
{

  $initKey = 'neijfj38734hujfie';
  $remoteDomain = 'http://192.168.0.28';
  $date = gmdate('dmY');
  $hash = &quot;&quot;;

  for($i = 0; $i &lt;= 200; $i++) 
  $hash = sha1($hash. $initKey. $remoteDomain. $date);

  return $hash;
}

function SendRequest($methodname,$xml,$hash)
{

  $url = 'http://192.168.0.28/wawision/17.4/www/index.php?module=api&amp;action='.$methodname.'&amp;hash='.$hash;

  $xml = '&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
  &lt;request&gt;
  &lt;status&gt;
  &lt;function&gt;'.$methodname.'&lt;/function&gt;
  &lt;/status&gt;
  &lt;xml&gt;'.$xml.'&lt;/xml&gt;
  &lt;/request&gt;';

  $data = array('xml' =&gt; $xml, 'md5sum' =&gt; md5($xml));

  // use key 'http' even if you send the request to https://...
  $options = array(
  'http' =&gt; array(
  'header' =&gt; &quot;Content-type: application/x-www-form-urlencoded\r\n&quot;,
  'method' =&gt; 'POST',
  'content' =&gt; http_build_query($data),
),
);
  $context = stream_context_create($options);
  $result = file_get_contents($url, false, $context);
  return $result;
}

$obj = simplexml_load_string($output_xml);
echo &quot;&lt;pre&gt;&quot;;
print_r($obj);
echo &quot;&lt;/pre&gt;&quot;;

?&gt;


```#### Beispiel 2 Antwort AdresseListeGet```
  &lt;response&gt;
  &lt;status&gt;
  &lt;action&gt;AdresseListeGet&lt;/action&gt;
  &lt;message&gt;OK&lt;/message&gt;
  &lt;messageCode&gt;1&lt;/messageCode&gt;
  &lt;/status&gt;
  &lt;xml&gt;
  &lt;adressen&gt;
  &lt;adresse&gt;
  &lt;id&gt;
  &lt;value&gt;1085&lt;/value&gt;
  &lt;/id&gt;
  &lt;typ/&gt;
  &lt;marketingsperre/&gt;
  &lt;trackingsperre&gt;
  &lt;value&gt;0&lt;/value&gt;
  &lt;/trackingsperre&gt;
  &lt;rechnungsadresse&gt;
  &lt;value&gt;0&lt;/value&gt;
  &lt;/rechnungsadresse&gt;
  &lt;sprache/&gt;
  &lt;name&gt;
  &lt;value&gt;Testkunde&lt;/value&gt;
  &lt;/name&gt;
  &lt;abteilung/&gt;
  &lt;unterabteilung/&gt;
  &lt;ansprechpartner/&gt;
  &lt;land&gt;
  &lt;value&gt;DE&lt;/value&gt;
  &lt;/land&gt;
  &lt;strasse&gt;
  &lt;value&gt;Musterstr. 1&lt;/value&gt;
  &lt;/strasse&gt;
  &lt;ort&gt;
  &lt;value&gt;Musterstadt&lt;/value&gt;
  &lt;/ort&gt;
  &lt;plz&gt;
  &lt;value&gt;86150&lt;/value&gt;
  &lt;/plz&gt;
  &lt;telefon/&gt;
  &lt;telefax/&gt;
  &lt;mobil/&gt;
  &lt;email&gt;
  &lt;value&gt;email@example.com&lt;/value&gt;
  &lt;/email&gt;
  &lt;ustid/&gt;
  &lt;ust_befreit&gt;
  &lt;value&gt;0&lt;/value&gt;
  &lt;/ust_befreit&gt;
  &lt;passwort_gesendet&gt;
  &lt;value&gt;0&lt;/value&gt;
  &lt;/passwort_gesendet&gt;
  &lt;sonstiges/&gt;
  &lt;adresszusatz/&gt;
  &lt;kundenfreigabe&gt;
  &lt;value&gt;0&lt;/value&gt;
  &lt;/kundenfreigabe&gt;
  &lt;steuer/&gt;
  &lt;logdatei&gt;
  &lt;value&gt;2016-09-23 12:01:26&lt;/value&gt;
  &lt;/logdatei&gt;
  &lt;kundennummer&gt;
  &lt;value&gt;10476&lt;/value&gt;
  &lt;/kundennummer&gt;
  &lt;lieferantennummer/&gt;
  &lt;mitarbeiternummer/&gt;
  &lt;konto/&gt;
  &lt;blz/&gt;
  &lt;bank/&gt;
  &lt;inhaber/&gt;
  &lt;swift/&gt;
  &lt;iban/&gt;
  &lt;waehrung/&gt;
  &lt;paypal/&gt;
  &lt;paypalinhaber/&gt;
  &lt;paypalwaehrung/&gt;
  &lt;projekt&gt;
  &lt;value&gt;1&lt;/value&gt;
  &lt;/projekt&gt;
  &lt;partner&gt;
  &lt;value&gt;0&lt;/value&gt;
  &lt;/partner&gt;
  &lt;zahlungsweise/&gt;
  &lt;zahlungszieltage/&gt;
  &lt;zahlungszieltageskonto/&gt;
  &lt;zahlungszielskonto/&gt;
  &lt;versandart/&gt;
  &lt;kundennummerlieferant/&gt;
  &lt;zahlungsweiselieferant/&gt;
  &lt;zahlungszieltagelieferant/&gt;
  &lt;zahlungszieltageskontolieferant/&gt;
  &lt;zahlungszielskontolieferant/&gt;
  &lt;versandartlieferant/&gt;
  &lt;geloescht&gt;
  &lt;value&gt;0&lt;/value&gt;
  &lt;/geloescht&gt;
  &lt;firma&gt;
  &lt;value&gt;1&lt;/value&gt;
  &lt;/firma&gt;
  &lt;webid/&gt;
  &lt;vorname/&gt;
  &lt;kennung/&gt;
  &lt;sachkonto/&gt;
  &lt;freifeld1/&gt;
  &lt;freifeld2/&gt;
  &lt;freifeld3/&gt;
  &lt;filiale/&gt;
  &lt;vertrieb/&gt;
  &lt;innendienst/&gt;
  &lt;verbandsnummer/&gt;
  &lt;abweichendeemailab/&gt;
  &lt;portofrei_aktiv/&gt;
  &lt;portofreiab&gt;
  &lt;value&gt;0.00&lt;/value&gt;
  &lt;/portofreiab&gt;
  &lt;infoauftragserfassung/&gt;
  &lt;mandatsreferenz/&gt;
  &lt;mandatsreferenzdatum/&gt;
  &lt;mandatsreferenzaenderung&gt;
  &lt;value&gt;0&lt;/value&gt;
  &lt;/mandatsreferenzaenderung&gt;
  &lt;glaeubigeridentnr/&gt;
  &lt;kreditlimit&gt;
  &lt;value&gt;0.00&lt;/value&gt;
  &lt;/kreditlimit&gt;
  &lt;tour&gt;
  &lt;value&gt;0&lt;/value&gt;
  &lt;/tour&gt;
  &lt;zahlungskonditionen_festschreiben/&gt;
  &lt;rabatte_festschreiben/&gt;
  &lt;mlmaktiv/&gt;
  &lt;mlmvertragsbeginn/&gt;
  &lt;mlmlizenzgebuehrbis/&gt;
  &lt;mlmfestsetzenbis/&gt;
  &lt;mlmfestsetzen&gt;
  &lt;value&gt;0&lt;/value&gt;
  &lt;/mlmfestsetzen&gt;
  &lt;mlmmindestpunkte&gt;
  &lt;value&gt;0&lt;/value&gt;
  &lt;/mlmmindestpunkte&gt;
  &lt;mlmwartekonto&gt;
  &lt;value&gt;0.00&lt;/value&gt;
  &lt;/mlmwartekonto&gt;
  &lt;abweichende_rechnungsadresse&gt;
  &lt;value&gt;0&lt;/value&gt;
  &lt;/abweichende_rechnungsadresse&gt;
  &lt;rechnung_vorname/&gt;
  &lt;rechnung_name/&gt;
  &lt;rechnung_titel/&gt;
  &lt;rechnung_typ/&gt;
  &lt;rechnung_strasse/&gt;
  &lt;rechnung_ort/&gt;
  &lt;rechnung_plz/&gt;
  &lt;rechnung_ansprechpartner/&gt;
  &lt;rechnung_land/&gt;
  &lt;rechnung_abteilung/&gt;
  &lt;rechnung_unterabteilung/&gt;
  &lt;rechnung_adresszusatz/&gt;
  &lt;rechnung_telefon/&gt;
  &lt;rechnung_telefax/&gt;
  &lt;rechnung_anschreiben/&gt;
  &lt;rechnung_email/&gt;
  &lt;geburtstag/&gt;
  &lt;rolledatum/&gt;
  &lt;liefersperre/&gt;
  &lt;liefersperregrund/&gt;
  &lt;mlmpositionierung/&gt;
  &lt;steuernummer/&gt;
  &lt;steuerbefreit/&gt;
  &lt;mlmmitmwst/&gt;
  &lt;mlmabrechnung/&gt;
  &lt;mlmwaehrungauszahlung/&gt;
  &lt;mlmauszahlungprojekt&gt;
  &lt;value&gt;0&lt;/value&gt;
  &lt;/mlmauszahlungprojekt&gt;
  &lt;sponsor/&gt;
  &lt;geworbenvon/&gt;
  &lt;logfile/&gt;
  &lt;kalender_aufgaben/&gt;
  &lt;verrechnungskontoreisekosten&gt;
  &lt;value&gt;0&lt;/value&gt;
  &lt;/verrechnungskontoreisekosten&gt;
  &lt;usereditid/&gt;
  &lt;useredittimestamp&gt;
  &lt;value&gt;0000-00-00 00:00:00&lt;/value&gt;
  &lt;/useredittimestamp&gt;
  &lt;rabatt/&gt;
  &lt;provision/&gt;
  &lt;rabattinformation/&gt;
  &lt;rabatt1/&gt;
  &lt;rabatt2/&gt;
  &lt;rabatt3/&gt;
  &lt;rabatt4/&gt;
  &lt;rabatt5/&gt;
  &lt;internetseite/&gt;
  &lt;bonus1/&gt;
  &lt;bonus1_ab/&gt;
  &lt;bonus2/&gt;
  &lt;bonus2_ab/&gt;
  &lt;bonus3/&gt;
  &lt;bonus3_ab/&gt;
  &lt;bonus4/&gt;
  &lt;bonus4_ab/&gt;
  &lt;bonus5/&gt;
  &lt;bonus5_ab/&gt;
  &lt;bonus6/&gt;
  &lt;bonus6_ab/&gt;
  &lt;bonus7/&gt;
  &lt;bonus7_ab/&gt;
  &lt;bonus8/&gt;
  &lt;bonus8_ab/&gt;
  &lt;bonus9/&gt;
  &lt;bonus9_ab/&gt;
  &lt;bonus10/&gt;
  &lt;bonus10_ab/&gt;
  &lt;rechnung_periode/&gt;
  &lt;rechnung_anzahlpapier/&gt;
  &lt;rechnung_permail/&gt;
  &lt;titel/&gt;
  &lt;anschreiben/&gt;
  &lt;nachname/&gt;
  &lt;arbeitszeitprowoche&gt;
  &lt;value&gt;0.00&lt;/value&gt;
  &lt;/arbeitszeitprowoche&gt;
  &lt;folgebestaetigungsperre&gt;
  &lt;value&gt;0&lt;/value&gt;
  &lt;/folgebestaetigungsperre&gt;
  &lt;verein_mitglied_seit/&gt;
  &lt;verein_mitglied_bis/&gt;
  &lt;verein_mitglied_aktiv/&gt;
  &lt;verein_spendenbescheinigung&gt;
  &lt;value&gt;0&lt;/value&gt;
  &lt;/verein_spendenbescheinigung&gt;
  &lt;freifeld4/&gt;
  &lt;freifeld5/&gt;
  &lt;freifeld6/&gt;
  &lt;freifeld7/&gt;
  &lt;freifeld8/&gt;
  &lt;freifeld9/&gt;
  &lt;freifeld10/&gt;
  &lt;rechnung_papier&gt;
  &lt;value&gt;0&lt;/value&gt;
  &lt;/rechnung_papier&gt;
  &lt;angebot_cc/&gt;
  &lt;auftrag_cc/&gt;
  &lt;rechnung_cc/&gt;
  &lt;gutschrift_cc/&gt;
  &lt;lieferschein_cc/&gt;
  &lt;bestellung_cc/&gt;
  &lt;angebot_fax_cc/&gt;
  &lt;auftrag_fax_cc/&gt;
  &lt;rechnung_fax_cc/&gt;
  &lt;gutschrift_fax_cc/&gt;
  &lt;lieferschein_fax_cc/&gt;
  &lt;bestellung_fax_cc/&gt;
  &lt;abperfax&gt;
  &lt;value&gt;0&lt;/value&gt;
  &lt;/abperfax&gt;
  &lt;abpermail/&gt;
  &lt;kassiereraktiv&gt;
  &lt;value&gt;0&lt;/value&gt;
  &lt;/kassiereraktiv&gt;
  &lt;kassierernummer/&gt;
  &lt;kassiererprojekt&gt;
  &lt;value&gt;0&lt;/value&gt;
  &lt;/kassiererprojekt&gt;
  &lt;portofreilieferant_aktiv&gt;
  &lt;value&gt;0&lt;/value&gt;
  &lt;/portofreilieferant_aktiv&gt;
  &lt;portofreiablieferant&gt;
  &lt;value&gt;0.00&lt;/value&gt;
  &lt;/portofreiablieferant&gt;
  &lt;mandatsreferenzart/&gt;
  &lt;mandatsreferenzwdhart/&gt;
  &lt;serienbrief&gt;
  &lt;value&gt;0&lt;/value&gt;
  &lt;/serienbrief&gt;
  &lt;lieferantennummerbeikunde/&gt;
  &lt;lead&gt;
  &lt;value&gt;0&lt;/value&gt;
  &lt;/lead&gt;
  &lt;geburtstagkalender&gt;
  &lt;value&gt;0&lt;/value&gt;
  &lt;/geburtstagkalender&gt;
  &lt;zahlungsweiseabo/&gt;
  &lt;bundesland/&gt;
  &lt;liefersperredatum/&gt;
  &lt;mandatsreferenzhinweis/&gt;
  &lt;geburtstagskarte&gt;
  &lt;value&gt;0&lt;/value&gt;
  &lt;/geburtstagskarte&gt;
  &lt;kundennummer_buchhaltung/&gt;
  &lt;lieferantennummer_buchhaltung/&gt;
  &lt;mlmintranetgesamtestruktur&gt;
  &lt;value&gt;0&lt;/value&gt;
  &lt;/mlmintranetgesamtestruktur&gt;
  &lt;rechnung_umsatz_netto&gt;
  &lt;value&gt;3400.87&lt;/value&gt;
  &lt;/rechnung_umsatz_netto&gt;
  &lt;/adresse&gt;
  &lt;anz_gesamt&gt;1&lt;/anz_gesamt&gt;
  &lt;anz_result&gt;1&lt;/anz_result&gt;
  &lt;/adressen&gt;
  &lt;/xml&gt;
&lt;/response&gt;


</code></pre>
<h3 id="verwalten-von-dateien-dateilist-dateiheader-dateidownload">Verwalten von Dateien: DateiList, DateiHeader, DateiDownload<a class="headerlink" href="#verwalten-von-dateien-dateilist-dateiheader-dateidownload" title="Permanent link">&para;</a></h3>
<p>Mit DateiList k√∂nnen Dateien die sich in xentral befinden angezeigt werden. Zur Auswahl stehen hierbei zwei Parameter:</p>
<ul>
<li><parameter> Entspricht hier der ID des jeweiligen Objekts</li>
<li><objekt> Hier muss angegeben werden, von welchem Objekt die Dateien kommen, wie z.B. adressen, auftrag oder rechnung. Sollen bereits hochgeladene Dateien wieder heruntergeladen werden, kann dies in Kombination von DateiHeader und DateiDownload umgesetzt werden.</li>
</ul>
<h4 id="beispiel-anfrage-dateilist-mit-funktionen">Beispiel Anfrage DateiList mit Funktionen<a class="headerlink" href="#beispiel-anfrage-dateilist-mit-funktionen" title="Permanent link">&para;</a></h4>
<pre><code>  &lt;?php
$hash = generateHash();

$xml = &quot;&lt;parameter&gt;1&lt;/parameter&gt;
  &lt;objekt&gt;Adressen&lt;/objekt&gt;&quot;;

$output_xml = SendRequest(&quot;DateiList&quot;,$xml,$hash);


function generateHash()
{

  $initKey = 'neijfj38734hujfie';
  $remoteDomain = 'http://192.168.0.28';
  $date = gmdate('dmY');
  $hash = &quot;&quot;;

  for($i = 0; $i &lt;= 200; $i++) 
  $hash = sha1($hash. $initKey. $remoteDomain. $date);

  return $hash;
}

function SendRequest($methodname,$xml,$hash)
{

  $url = 'http://192.168.0.28/wawision/16.3/www/index.php?module=api&amp;action='.$methodname.'&amp;hash='.$hash;

  $xml = '&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
  &lt;request&gt;
  &lt;status&gt;
  &lt;function&gt;'.$methodname.'&lt;/function&gt;
  &lt;/status&gt;
  &lt;xml&gt;'.$xml.'&lt;/xml&gt;
  &lt;/request&gt;';

  $data = array('xml' =&gt; $xml, 'md5sum' =&gt; md5($xml));

  // use key 'http' even if you send the request to https://...
  $options = array(
  'http' =&gt; array(
  'header' =&gt; &quot;Content-type: application/x-www-form-urlencoded\r\n&quot;,
  'method' =&gt; 'POST',
  'content' =&gt; http_build_query($data),
),
);

  $context = stream_context_create($options);
  $result = file_get_contents($url, false, $context);
  return $result;
}

$obj = simplexml_load_string($output_xml);
echo &quot;&lt;pre&gt;&quot;;
print_r($obj);
echo &quot;&lt;/pre&gt;&quot;;

?&gt;


```#### Beispiel Antwort DateiList```
  &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;response&gt;
  &lt;status&gt;
  &lt;action&gt;DateiList&lt;/action&gt;
  &lt;message&gt;OK&lt;/message&gt;
  &lt;messageCode&gt;1&lt;/messageCode&gt;
  &lt;/status&gt;
  &lt;xml&gt;
  &lt;Datei&gt;
  &lt;titel&gt;Arbeitsnachweis Testfirma GmbH von 2017-02-23 bis 2017-02-23&lt;/titel&gt;
  &lt;subjekt&gt;anhang&lt;/subjekt&gt;
  &lt;version&gt;1&lt;/version&gt;
  &lt;ersteller&gt;Testfirma GmbH&lt;/ersteller&gt;
  &lt;bemerkung&gt;Initiale Version&lt;/Bemerkung&gt;
  &lt;datum&gt;2017-03-23&lt;/datum&gt;
  &lt;id&gt;16&lt;/id&gt;
  &lt;/Datei&gt;
  &lt;Datei&gt;
  &lt;titel&gt;Arbeitsnachweis Testfirma GmbH von 2017-02-22 bis 2017-02-22&lt;/titel&gt;
  &lt;subjekt&gt;anhang&lt;/subjekt&gt;
  &lt;version&gt;1&lt;/version&gt;
  &lt;ersteller&gt;Testfirma GmbH&lt;/ersteller&gt;
  &lt;bemerkung&gt;Initiale Version&lt;/bemerkung&gt;
  &lt;datum&gt;2017-03-22&lt;/datum&gt;
  &lt;id&gt;17&lt;/id&gt;
  &lt;/Datei&gt; 
  &lt;/xml&gt;
&lt;/response&gt;


```#### Beispiel Anfrage DateiHeader + DateiDownload mit Funktionen```
  &lt;?php
$hash = generateHash();

$xml = &quot;&quot;;

$id = 20;

$headera = explode(&quot;\n&quot;,file_get_contents('http://192.168.0.28/wawision/16.3/www/index.php?module=api&amp;action=DateiHeader&amp;hash='.$hash.'&amp;id='.$id));

foreach($headera as $head){
  header($head);
}
echo file_get_contents('http://192.168.0.28/wawision/16.3/www/index.php?module=api&amp;action=DateiDownload&amp;hash='.$hash.'&amp;id='.$id);

exit;


function generateHash()
{

  $initKey = 'neijfj38734hujfie';
  $remoteDomain = 'http://192.168.0.28';
  $date = gmdate('dmY');
  $hash = &quot;&quot;;

  for($i = 0; $i &lt;= 200; $i++) 
  $hash = sha1($hash. $initKey. $remoteDomain. $date);

  return $hash;
}


</code></pre>
<h4 id="beispiel-antwort-dateiheader-dateidownload">Beispiel Antwort DateiHeader + DateiDownload<a class="headerlink" href="#beispiel-antwort-dateiheader-dateidownload" title="Permanent link">&para;</a></h4>
<p>Das typische Fenster zum √ñffnen oder Speichern von Dateien √∂ffnet sich.</p>
<h3 id="verwalten-von-dateien-belegpdfheader-belegpdf">Verwalten von Dateien: BelegPDFHeader, BelegPDF<a class="headerlink" href="#verwalten-von-dateien-belegpdfheader-belegpdf" title="Permanent link">&para;</a></h3>
<p>Mit DateiList k√∂nnen sich Dateien, die sich in xentral befinden, anzeigen lassen. Zur Auswahl stehen hierbei zwei Parameter:</p>
<ul>
<li><parameter> Entspricht hier der ID des jeweiligen Objekts.</li>
<li><objekt> Hier m√ºssen Sie angeben, von welchem Objekt Sie die Dateien m√∂chten, wie z.B. adressen, auftrag oder rechnung</li>
</ul>
<p>Sollen bereits hochgeladene Dateien wieder heruntergeladen werden, kann dies in Kombination von DateiHeader und DateiDownload umgesetzt werden.</p>
<h4 id="beispiel-anfrage-belegpdfheader-belegpdf-mit-funktionen">Beispiel Anfrage BelegPDFHeader + BelegPDF mit Funktionen<a class="headerlink" href="#beispiel-anfrage-belegpdfheader-belegpdf-mit-funktionen" title="Permanent link">&para;</a></h4>
<pre><code>  &lt;?php
$hash = generateHash();

$xml = &quot;&quot;;

$id = 20;
$beleg='rechnung';

$headera = explode(&quot;\n&quot;,file_get_contents('http://192.168.0.28/wawision/18.3/www/index.php?module=api&amp;action=BelegPDFHeader&amp;hash='.$hash.'&amp;id='.$id.'&amp;beleg='.$beleg));

foreach($headera as $head){
  header($head);
}
echo file_get_contents('http://192.168.0.28/wawision/18.3/www/index.php?module=api&amp;action=BelegPDF&amp;hash='.$hash.'&amp;id='.$id.'&amp;beleg='.$beleg);

exit;


function generateHash()
{

  $initKey = 'neijfj38734hujfie';
  $remoteDomain = 'http://192.168.0.28';
  $date = gmdate('dmY');
  $hash = &quot;&quot;;

  for($i = 0; $i &lt;= 200; $i++) 
  $hash = sha1($hash. $initKey. $remoteDomain. $date);

  return $hash;
}


</code></pre>
<h4 id="beispiel-antwort-belegpdfheader-belegpdf">Beispiel Antwort BelegPDFHeader + BelegPDF<a class="headerlink" href="#beispiel-antwort-belegpdfheader-belegpdf" title="Permanent link">&para;</a></h4>
<p>Das typische Fenster zum √ñffnen oder Speichern von Dateien √∂ffnet sich.</p>
<h3 id="sonderfunktionen-von-spezialmodulen">Sonderfunktionen von Spezialmodulen<a class="headerlink" href="#sonderfunktionen-von-spezialmodulen" title="Permanent link">&para;</a></h3>
<h4 id="xml-artikelkontingente">XML Artikelkontingente<a class="headerlink" href="#xml-artikelkontingente" title="Permanent link">&para;</a></h4>
<p>Zum Abfragen der Kontingente gibt es zwei M√∂glichkeiten: Mit und ohne die Parameter sowie von und bis. Ohne die beiden Parameter erscheint die Artikelkontingent Liste ab dem heutigen Datum. Mit den Parametern erscheint eine Liste mit den gebuchten Artikeln in dem Zeitbereich von Auftr√§gen, die den Status &ldquo;freigegeben&rdquo; haben.</p>
<h5 id="beispiel-anfrage-artikelkontingenteget">Beispiel Anfrage ArtikelkontingenteGet<a class="headerlink" href="#beispiel-anfrage-artikelkontingenteget" title="Permanent link">&para;</a></h5>
<pre><code>  &lt;?php
 include(&quot;../api.php&quot;);
 include(&quot;../config.php&quot;);
 global $remotedomain,$initkey,$url;

 $hash = generateHash($initkey,$remotedomain);

 $nummer = &quot;700245&quot;;

 $von = &quot;2015-07-01&quot;;
 $bis = &quot;2015-07-20&quot;;

 header('Content-Type: application/xml; charset=utf-8');
 echo SendRequest($url,&quot;ArtikelkontingenteGet&quot;,&quot;&quot;,$hash,&quot;&amp;nummer=&quot;.$nummer.&quot;&amp;von=&quot;.$von.&quot;&amp;bis=&quot;.$bis);


```##### Beispiel Antwort ArtikelkontingenteGet```&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;response&gt;&lt;status&gt;&lt;action&gt;ArtikelkontingenteGet&lt;/action&gt;&lt;message&gt;OK&lt;/message&gt;&lt;messageCode&gt;1&lt;/messageCode&gt;&lt;/status&gt;&lt;xml&gt;&lt;artikelkontingente&gt;&lt;kontingent&gt;&lt;gebucht&gt;103&lt;/gebucht&gt;&lt;menge&gt;11.00&lt;/menge&gt;&lt;datum&gt;2015-07-13&lt;/datum&gt;&lt;/kontingent&gt;&lt;kontingent&gt;&lt;gebucht&gt;5&lt;/gebucht&gt;&lt;menge&gt;5.00&lt;/menge&gt;&lt;datum&gt;2015-07-17&lt;/datum&gt;&lt;/kontingent&gt;&lt;/artikelkontingente&gt;&lt;/xml&gt;```

#### Anfrage von Daten aus Export Vorlagen: ExportVorlageGet

Um Daten aus Export Vorlagen abfragen zu k√∂nnen, muss bereits eine Export Vorlage angelegt sein (Anleitung zu Export Vorlagen). Verf√ºgbare Daten die abgefragt werden k√∂nnen:

- Adressen
- Angebote
- Auftr√§ge
- Ansprechpartner
- Artikel
- Gutschriften
- Rechnungen
- Lieferscheine
- Bestellungen
- Angebotspositionen
- Auftragspositionen
- Gutschriftpositionen
- Rechnungspositionen
- Lieferscheinpositionen
- Bestellungspositionen

Damit die Daten √ºber die API abrufbar sind, muss im Bearbeitungsmodus der gew√ºnschten Export Vorlage der Haken API Freigabe aktiviert sein.

Ebenfalls im Bearbeitungsmodus der Export Vorlage muss der Haken CSV Beschriftung aktiviert werden, damit die Spaltennamen als XML Tagnamen verwendet werden, denn sonst funktioniert die Ausgabe als XML nicht.

Zur Abfrage der Daten stehen hierbei verschiedene GET Parameter zur Auswahl:

- id ‚Üí Entspricht hier der ID der jeweiligen Export Vorlage (Pflichtfeld)
- von ‚Üí Datumsangabe (im Format dd.mm.yy), ab wann die gew√ºnschten Daten abgefragt werden sollen (optional). Verf√ºgbar bei Angeboten, Auftr√§gen, Gutschriften, Rechnungen, Lieferscheine, Bestellungen und deren Positionen
- bis ‚Üí Datumsangabe (im Format dd.mm.yy), bis wann die gew√ºnschten Daten abgefragt werden sollen (optional). Verf√ºgbar bei Angeboten, Auftr√§gen, Gutschriften, Rechnungen, Lieferscheine, Bestellungen und deren Positionen
- projekt ‚Üí Gibt nur die Daten zum passenden Projekt zur√ºck (optional). Verf√ºgbar bei Adressen, Angeboten, Auftr√§gen, Artikel, Gutschriften, Rechnungen, Lieferscheine, Bestellungen und deren dazugeh√∂rige Belegpositionen.

Welche Werte der Export Vorlage zur√ºckgeliefert werden, h√§ngt von den festgelegten CSV Feldern in der Export Vorlage ab.

##### Beispiel Anfrage ExportVorlageGet mit Funktionen

</code></pre>
<?php

$hash = generateHash();

$xml = "";

$id = "1";
$projekt = "";
$von = "";
$bis = "";

$output_xml = SendRequest("ExportVorlageGet",$xml,$hash,$id,$projekt,$von,$bis); 

function generateHash()
{

  $initKey = 'neijfj38734hujfie';
  $remoteDomain = 'http://192.168.0.28';
  $date = gmdate('dmY');
  $hash = "";

  for($i = 0; $i <= 200; $i++) 
  $hash = sha1($hash. $initKey. $remoteDomain. $date);

  return $hash;
}

function SendRequest($methodname,$xml,$hash,$id,$projekt,$von,$bis)
{

  $url = 'http://192.168.0.28/wawision/16.3/www/index.php?module=api&action='.$methodname.'&hash='.$hash.'&id='.$id.'&projekt='.$projekt.'&von='.$von.'&bis='.$bis;

  $xml = '<?xml version="1.0" encoding="UTF-8"?>
<p><request>
  <status>
  <function>&lsquo;.$methodname.&rsquo;</function>
  </status>
  <xml>&lsquo;.$xml.&rsquo;</xml>
  </request>&lsquo;;</p>
<p>$data = array(&lsquo;xml&rsquo; =&gt; $xml, &lsquo;md5sum&rsquo; =&gt; md5($xml));</p>
<p>// use key &lsquo;http&rsquo; even if you send the request to https://&hellip;
  $options = array(
  &lsquo;http&rsquo; =&gt; array(
  &lsquo;header&rsquo; =&gt; &ldquo;Content-type: application/x-www-form-urlencoded\r\n&rdquo;,
  &lsquo;method&rsquo; =&gt; &lsquo;POST&rsquo;,
  &lsquo;content&rsquo; =&gt; http_build_query($data),
),
);
  $context = stream_context_create($options);
  $result = file_get_contents($url, false, $context);
  return $result;
}</p>
<p>$obj = simplexml_load_string($output_xml);
echo &ldquo;<pre>&ldquo;;
print_r($obj);
echo &ldquo;</pre>&ldquo;;</p>
<p>?&gt;</p>
<p><code>##### Beispiel Antwort ExportVorlageGet f√ºr Artikel</code>
  <?xml version="1.0" encoding="UTF-8"?></p>
<p><response>
  <status>
  <action>ExportVorlageGet</action>
  <message>OK</message>
  <messageCode>1</messageCode>
  </status>
  <xml>
  <items>
  <item>
  <nummer>1000001</nummer>
  <name_de>Tastatur</name_de>
  <name_en/>
  <beschreibung_de/>
  <beschreibung_en/>
  <kurztext_de/>
  <kurztext_en/>
  <internerkommentar/>
  <hersteller/>
  <herstellernummer/>
  <herstellerlink/>
  <ean/>
  <systemid>1</systemid>
  </item>
  <item>
  <nummer>1000002</nummer>
  <name_de>Tasten</name_de>
  <name_en/>
  <beschreibung_de/>
  <beschreibung_en/>
  <kurztext_de/>
  <kurztext_en/>
  <internerkommentar/>
  <hersteller/>
  <herstellernummer/>
  <herstellerlink/>
  <ean/>
  <systemid>2</systemid>
  </item>
  <item>
  <nummer>1000003</nummer>
  <name_de>USB Maus</name_de>
  <name_en/>
  <beschreibung_de/>
  <beschreibung_en/>
  <kurztext_de/>
  <kurztext_en/>
  <internerkommentar/>
  <hersteller/>
  <herstellernummer/>
  <herstellerlink/>
  <ean/>
  <systemid>3</systemid>
  </item>
  </items>
  </xml>
</response></p>
<pre><code>
### Anfrage von Daten aus Berichten: BerichteGet

BerichteGet liefert das Ergebnis der SQL Abfrage aus dem Strukturfeld eines Berichts zur√ºck.

BerichteGet liefert das Ergebnis der SQL Abfrage aus dem Strukturfeld eines Berichts zur√ºck. Hierzu muss die ID des Berichts als GET Parameter √ºbergeben werden.

#### Beispiel Anfrage BerichteGet mit Funktionen

</code></pre>
<?php

$hash = generateHash();

$xml = "";

$id = "1";

$output_xml = SendRequest("BerichteGet",$xml,$hash,$id); 

function generateHash()
{

  $initKey = 'neijfj38734hujfie';
  $remoteDomain = 'http://192.168.0.28';
  $date = gmdate('dmY');
  $hash = "";

  for($i = 0; $i <= 200; $i++) 
  $hash = sha1($hash. $initKey. $remoteDomain. $date);

  return $hash;
}

function SendRequest($methodname,$xml,$hash,$id)
{

  $url = 'http://192.168.0.28/wawision/17.3/www/index.php?module=api&action='.$methodname.'&hash='.$hash.'&id='.$id;

  $xml = '<?xml version="1.0" encoding="UTF-8"?>
<p><request>
  <status>
  <function>&lsquo;.$methodname.&rsquo;</function>
  </status>
  <xml>&lsquo;.$xml.&rsquo;</xml>
  </request>&lsquo;;</p>
<p>$data = array(&lsquo;xml&rsquo; =&gt; $xml, &lsquo;md5sum&rsquo; =&gt; md5($xml));</p>
<p>// use key &lsquo;http&rsquo; even if you send the request to https://&hellip;
  $options = array(
  &lsquo;http&rsquo; =&gt; array(
  &lsquo;header&rsquo; =&gt; &ldquo;Content-type: application/x-www-form-urlencoded\r\n&rdquo;,
  &lsquo;method&rsquo; =&gt; &lsquo;POST&rsquo;,
  &lsquo;content&rsquo; =&gt; http_build_query($data),
),
);
  $context = stream_context_create($options);
  $result = file_get_contents($url, false, $context);
  return $result;
}</p>
<p>$obj = simplexml_load_string($output_xml);
echo &ldquo;<pre>&ldquo;;
print_r($obj);
echo &ldquo;</pre>&ldquo;;</p>
<p>?&gt;</p>
<p><code>#### Beispiel Antwort BerichteGet</code>
  <?xml version="1.0" encoding="UTF-8"?></p>
<p><response>
  <status>
  <action>BerichteGet</action>
  <message>OK</message>
  <messageCode>1</messageCode>
  </status>
  <xml>
  <items>
  <item>
  <name>Kunde 1</name>
  <kundennummer>10000</kundennummer>
  </item>
  <item>
  <name>Kunde 2</name>
  <kundennummer>10001</kundennummer>
  </item>
  </items>
  </xml>
</response></p>
<pre><code>
### Anfrage von Daten aus Artikeln mit Hilfe von Filtern: ArtikelList

ArtikelList liefert als Ergebnis alle Artikelinformationen zu den Artikeln, die auf Ihre Suchkriterien zutreffen.

Folgende Parameter stehen Ihnen zur Verf√ºgung:

- Innerhalb des &lt;order&gt; Tags k√∂nnen Sie das Tag &lt;field&gt; angeben. Innerhalb von &lt;field&gt; steht die Spaltenbezeichnung aus der Artikeltabelle der Datenbank, mit der das Ergebnis sortiert werden kann
- Hierzu kann ebenfalls innerhalb des Tags &lt;order&gt; das Tag &lt;desc&gt; angegeben werden. Bei 1 wird absteigend sortiert, bei 0 aufsteigend. Wird &lt;desc&gt; nicht angegeben, wird standardm√§√üig aufsteigend nach dem Feld sortiert, dass in &lt;field&gt; angegeben wurde
- Mit dem Tag &lt;limit&gt; kann die Auflistung der Ergebnisse auf eine bestimmte Anzahl beschr√§nkt werden
- Das Tag &lt;offset&gt; kann nur in Kombination mit &lt;limit&gt; verwendet werden, um Ihre Auflistung der Ergebnisse auf eine bestimmte Anzahl zu beschr√§nken. Z.B. zeigt &lt;limit&gt;10&lt;/limit&gt; und &lt;offset&gt;0&lt;/offset&gt; alle Eintr√§ge von 0 bis 10.
- Neben den oben genannten Tags kann als Tag jede Spaltenbezeichnung aus der Artikeltabelle der Datenbank verwenden werden, um die Suche weiter einzuschr√§nken, z.B. sucht &lt;name_de&gt;Schraube&lt;/name_de&gt; nach den Artikeln, die im Namen Schraube beinhalten.

#### Beispiel Anfrage ArtikelList mit Funktionen

</code></pre>
<?php

$hash = generateHash();

$xml = "<order> 
  <field>name_de</field>
  <desc>1</desc> 
  </order> 
  <limit>10</limit> 
  <offset>0</offset>
  <name_de>Apfel</name_de>
  ";

$id = "";

$output_xml = SendRequest("ArtikelList",$xml,$hash); 

function generateHash()
{

  $initKey = 'neijfj38734hujfie';
  $remoteDomain = 'http://192.168.0.28';
  $date = gmdate('dmY');
  $hash = "";

  for($i = 0; $i <= 200; $i++) 
  $hash = sha1($hash. $initKey. $remoteDomain. $date);

  return $hash;
}

function SendRequest($methodname,$xml,$hash)
{

  $url = 'http://192.168.0.28/wawision/17.4/www/index.php?module=api&action='.$methodname.'&hash='.$hash;

  $xml = '<?xml version="1.0" encoding="UTF-8"?>
<p><request>
  <status>
  <function>&lsquo;.$methodname.&rsquo;</function>
  </status>
  <xml>&lsquo;.$xml.&rsquo;</xml>
  </request>&lsquo;;</p>
<p>$data = array(&lsquo;xml&rsquo; =&gt; $xml, &lsquo;md5sum&rsquo; =&gt; md5($xml));</p>
<p>// use key &lsquo;http&rsquo; even if you send the request to https://&hellip;
  $options = array(
  &lsquo;http&rsquo; =&gt; array(
  &lsquo;header&rsquo; =&gt; &ldquo;Content-type: application/x-www-form-urlencoded\r\n&rdquo;,
  &lsquo;method&rsquo; =&gt; &lsquo;POST&rsquo;,
  &lsquo;content&rsquo; =&gt; http_build_query($data),
),
);
  $context = stream_context_create($options);
  $result = file_get_contents($url, false, $context);
  return $result;
}</p>
<p>$obj = simplexml_load_string($output_xml);
echo &ldquo;<pre>&ldquo;;
print_r($obj);
echo &ldquo;</pre>&ldquo;;</p>
<p>?&gt;</p>
<p><code>#### Beispiel Antwort ArtikelList</code>
  <?xml version="1.0" encoding="UTF-8"?></p>
<p><response>
  <status>
  <action>ArtikelList</action>
  <message>OK</message>
  <messageCode>1</messageCode>
  </status>
  <xml>
  <items>
  <item>
  <id>7</id>
  <typ>produkt</typ>
  <nummer>1000006</nummer>
  <checksum/>
  <projekt>1</projekt>
  <inaktiv/>
  <ausverkauft>0</ausverkauft>
  <warengruppe/>
  <name_de>Apfelkuchen</name_de>
  <name_en/>
  <kurztext_de/>
  <kurztext_en/>
  <beschreibung_de/>
  <beschreibung_en/>
  <uebersicht_de/>
  <uebersicht_en/>
  <links_de/>
  <links_en/>
  <startseite_de/>
  <startseite_en/>
  <standardbild/>
  <herstellerlink/>
  <hersteller/>
  <teilbar/>
  <nteile/>
  <seriennummern>keine</seriennummern>
  <lager_platz>1</lager_platz>
  <lieferzeit/>
  <lieferzeitmanuell/>
  <sonstiges/>
  <gewicht/>
  <endmontage/>
  <funktionstest/>
  <artikelcheckliste/>
  <stueckliste>1</stueckliste>
  <juststueckliste>0</stueckliste>
  <barcode/>
  <hinzugefuegt/>
  <pcbdecal/>
  <lagerartikel>1</lagerartikel>
  <porto>0</porto>
  <chargenverwaltung>0</chargenverwaltung>
  <provisionsartikel>0</provisionsartikel>
  <gesperrt>0</gesperrt>
  <sperrgrund/>
  <geloescht>0</geloescht>
  <gueltigbis>0000-00-00</gueltigbis>
  <umsatzsteuer>normal</normal>
  <klasse/>
  <adresse>0</adresse>
  <shopartikel>0</shopartikel>
  <unishopartikel>0</unishopartikel>
  <journalshopartikel>0</journalshopartikel>
  <shop>0</shop>
  <katalog>0</katalog>
  <katalogtext_de/>
  <katalogtext_en/>
  <katalogbezeichnung_de/>
  <katalogbezeichnung_en/>
  <neu>0</neu>
  <topseller>0</topseller>
  <startseite>0</startseite>
  <wichtig>0</wichtig>
  <mindestlager>0</mindestlager>
  <mindestbestellung>0</mindestbestellung>
  <partnerprogramm_sperre>0</partnerprogramm_sperre>
  <internerkommentar/>
  <intern_gesperrt>0</intern_gesperrt>
  <intern_gesperrtuser>0</intern_gesperrtuser>
  <intern_gesperrtgrund/>
  <inbearbeitung>0</inbearbeitung>
  <inbearbeitunguser>0</inbearbeitunguser>
  <cache_lagerplatzinhaltmenge>0</cache_lagerplatzinhaltmenge>
  <internkommentar/>
  <firma>1</firma>
  <logdatei>2017-10-18 08:27:17</logdatei>
  <anabregs_text>Ein Apfelkuchen</anabregs_text>
  <autobestellung>0</autobestellung>
  <produktion>0</produktion>
  <herstellernummer>A232</herstellernummer>
  <restmenge>0</restmenge>
  <mlmdirektpraemie>0.00</mlmdirektpraemie>
  <keineeinzelartikelanzeigen>0</keineeinzelartikelanzeigen>
  <mindesthaltbarkeitsdatum>0</mindesthaltbarkeitsdatum>
  <letzteseriennummer/>
  <individualartikel>0</individualartikel>
  <keinrabatterlaubt>0</keinrabatterlaubt>
  <rabatt>0</rabatt>
  <rabatt_prozent>0.00</rabatt_prozent>
  <geraet>0</geraet>
  <serviceartikel>0</serviceartikel>
  <autoabgleicherlaubt>0</autoabgleicherlaubt>
  <pseudopreis>0.00</pseudopreis>
  <freigabenotwendig>0</freigabenotwendig>
  <freigaberegel/>
  <nachbestellt>0</nachbestellt>
  <ean/>
  <mlmpunkte>0.00</mlmpunkte>
  <mlmbonuspunkte>0.00</mlmbonuspunkte>
  <mlmkeinepunkteeigenkauf>0</mlmkeinepunkteeigenkauf>
  <shop2>0</shop2>
  <shop3>0</shop3>
  <usereditid>1</usereditid>
  <useredittimestamp>2017-10-18 08:27:17</useredittimestamp>
  <freifeld1/>
  <freifeld2/>
  <freifeld3/>
  <freifeld4/>
  <freifeld5/>
  <freifeld6/>
  <einheit/>
  <webid/>
  <lieferzeitmanuell_en/>
  <variante>0</variante>
  <variante_von>0</variante_von>
  <produktioninfo/>
  <sonderaktion/>
  <sonderaktion_en>
  <autolagerlampe>0</autolagerlampe>
  <leerfeld/>
  <zolltarifnummer/>
  <herkunftsland/>
  <laenge>0.00</laenge>
  <breite>0.00</breite>
  <hoehe>0.00</hoehe>
  <gebuehr>0</gebuehr>
  <pseudolager/>
  <downloadartikel>0</downloadartikel>
  <matrixprodukt>0</matrixprodukt>
  <steuer_erloese_inland_normal/>
  <steuer_aufwendung_inland_normal/>
  <steuer_erloese_inland_ermaessigt/>
  <steuer_aufwendung_inland_ermaessigt/>
  <steuer_erloese_inland_steuerfrei/>
  <steuer_aufwendung_inland_steuerfrei/>
  <steuer_erloese_inland_innergemeinschaftlich/>
  <steuer_aufwendung_inland_innergemeinschaftlich/>
  <steuer_erloese_inland_eunormal/>
  <steuer_erloese_inland_nichtsteuerbar/>
  <steuer_erloese_inland_euermaessigt/>
  <steuer_aufwendung_inland_nichtsteuerbar/>
  <steuer_aufwendung_inland_eunormal/>
  <steuer_aufwendung_inland_euermaessigt/>
  <steuer_erloese_inland_export/>
  <steuer_aufwendung_inland_import/>
  <steuer_art_produkt>0</steuer_art_produkt>
  <steuer_art_produkt_download>0</steuer_art_produkt_download>
  <metadescription_de/>
  <metadescription_en/>
  <metakeywords_de/>
  <metakeywords_en/>
  <anabregs_text_en/>
  <externeproduktion>0</externeproduktion>
  <bildvorschau/>
  <inventursperre>0</inventursperre>
  <variante_kopie>0</variante_kopie>
  <unikat>0</unikat>
  <generierenummerbeioption>0</generierenummerbeioption>
  <allelieferanten>0</allelieferanten>
  <tagespreise>0</tagespreise>
  <rohstoffe>0</rohstoffe>
  <provisionssperre>0</provisionssperre>
  <dienstleistung>0</dienstleistung>
  <inventurekaktiv>0</inventurekaktiv>
  <inventurek>0.00000000</inventurek>
  <hinweis_einfuegen/>
  <steuertext_innergemeinschaftlich/> 
  <steuertext_export/> 
  <formelmenge/> 
  <formelpreis/> 
  <freifeld7/> 
  <freifeld8/> 
  <freifeld9/> 
  <freifeld10/> 
  <freifeld11/> 
  <freifeld12/> 
  <freifeld13/> 
  <freifeld14/>
  <freifeld15/> 
  <freifeld16/>
  <freifeld17/>
  <freifeld18/> 
  <freifeld19/>
  <freifeld20/>
  <ursprungsregion/>
  <bestandalternativartikel>0</bestandalternativartikel>
  <metatitle_de/>
  <metatitle_en/>
  <vkmeldungunterdruecken>0</vkmeldungunterdruecken>
  <altersfreigabe/>
  <unikatbeikopie>0</unikatbeikopie>
  <steuergruppe>0</steuergruppe>
  <keinskonto>0</keinskonto>
  <berechneterek>0.0000</berechneterek>
  <verwendeberechneterek>0</verwendeberechneterek>
  <berechneterekwaehrung/>
  </item>
  </items>
  </xml>
</response></p>
<pre><code>
### Verwalten von Accounts: AccountCreate (ab Version 18.3), AccountEdit (ab Version 18.3), AdresseAccountsGet

Mit AccountCreate kann ein neuer Account innerhalb einer Adresse angelegt werden, welcher mit AccountEdit auch bearbeitet werden kann.

Als Parameter stehen alle Datenbankfelder aus der Tabelle adresse_accounts zur Verf√ºgung:

- &lt;aktiv&gt; gibt an, ob ein Account momentan aktiv (1) oder inaktiv (0) ist
- &lt;adresse&gt; ist die Adress-ID der Adresse, zu der dieser Account geh√∂rt
- &lt;bezeichnung&gt; ist die Bezeichnung f√ºr diesen Account, z.B. Login Account
- &lt;art&gt; ist die Art eines Accounts, z.B. Datenbank, SSH
- &lt;url&gt; ist die URL zum jeweiligen Account, falls vorhanden
- &lt;benutzername&gt; ist der Benutzername f√ºr diesen Account
- &lt;passwort&gt; ist das Passwort f√ºr diesen Account
- &lt;gueltig_ab&gt; gibt an, ab wann dieser Account g√ºltig ist
- &lt;gueltig_bis&gt; gibt an, bis wann dieser Account g√ºltig ist
- &lt;email&gt; hier kann die passende E-Mail Adresse eingetragen werden
- &lt;notiz&gt; hier k√∂nnen Notizen eingetragen werden

Pflichtfelder, um einen Account mit AccountCreate anzulegen sind &lt;adresse&gt; und &lt;bezeichnung&gt;.

Um AccountEdit zu verwenden, muss als Get-Parameter die ID des Accounts angegeben werden.

AdresseAccountsGet liefert alle aktiven Accounts einer bestimmten Adresse zur√ºck. Hierf√ºr muss die Adress-ID und optional die Art des Accounts als Get-Parameter √ºbergeben werden.

#### Beispiel Anfrage AccountCreate mit Funktionen

</code></pre>
<?php
$hash = generateHash();

$xml = "<adresse>3</adresse>
  <bezeichnung>Datenbank Login</bezeichnung>
  <aktiv>1</aktiv>
  <art>db</art>
  <url>http://192.168.0.28/meinedatenbank</url>
  <benutzername>mustermannmax</benutzername>
  <passwort>123456</passwort>
  <gueltig_ab>20.08.2018</gueltig_ab>
  <gueltig_bis>20.08.2019</gueltig_bis>
  <email>maxmustermann@maxmustermann.de</email>
  <notiz>Datenbank Login zu Testsystem</notiz>";

$output_xml = SendRequest("AccountCreate",$xml,$hash); 

function generateHash()
{

  $initKey = 'neijfj38734hujfie';
  $remoteDomain = 'http://192.168.0.28';
  $date = gmdate('dmY');
  $hash = "";

  for($i = 0; $i <= 200; $i++) 
  $hash = sha1($hash. $initKey. $remoteDomain. $date);

  return $hash;
}

function SendRequest($methodname,$xml,$hash)
{

  $url = 'http://192.168.0.28/wawision/18.3/www/index.php?module=api&action='.$methodname.'&hash='.$hash;

  $xml = '<?xml version="1.0" encoding="UTF-8"?>
<p><request>
  <status>
  <function>&lsquo;.$methodname.&rsquo;</function>
  </status>
  <xml>&lsquo;.$xml.&rsquo;</xml>
  </request>&lsquo;;</p>
<p>$data = array(&lsquo;xml&rsquo; =&gt; $xml, &lsquo;md5sum&rsquo; =&gt; md5($xml));</p>
<p>// use key &lsquo;http&rsquo; even if you send the request to https://&hellip;
  $options = array(
  &lsquo;http&rsquo; =&gt; array(
  &lsquo;header&rsquo; =&gt; &ldquo;Content-type: application/x-www-form-urlencoded\r\n&rdquo;,
  &lsquo;method&rsquo; =&gt; &lsquo;POST&rsquo;,
  &lsquo;content&rsquo; =&gt; http_build_query($data),
),
);</p>
<p>$context = stream_context_create($options);
  $result = file_get_contents($url, false, $context);
  return $result;
}</p>
<p>$obj = simplexml_load_string($output_xml);
echo &ldquo;<pre>&ldquo;;
print_r($obj);
echo &ldquo;</pre>&ldquo;;</p>
<p>?&gt;</p>
<p><code>#### Beispiel Antwort AccountCreate</code>
  <?xml version="1.0" encoding="UTF-8"?></p>
<p><response>
  <status>
  <action>AccountCreate</action>
  <message>OK</message>
  <messageCode>1</messageCode>
  </status>
  <xml>
  <id>2</id>
  </xml>
</response></p>
<p><code>#### Beispiel Anfrage AccountEdit mit Funktionen</code>
  <?php
$hash = generateHash();

$xml = "<bezeichnung>Datenbank Login MySQL</bezeichnung>
  <aktiv>0</aktiv>
  <art>db mysql</art>
  <url>http://192.168.0.28/meinedatenbank</url>
  <benutzername>mustermannmaxsql</benutzername>
  <passwort>123456sql</passwort>
  <gueltig_ab>26.09.2018</gueltig_ab>
  <gueltig_bis>31.12.2019</gueltig_bis>
  <email>maxmustermann@maxmustermann.de</email>
  <notiz>Datenbank Login zu MySQL DB</notiz>";

$id = "2";

$output_xml = SendRequest("AccountEdit",$xml,$hash,$id); 

function generateHash()
{

  $initKey = 'neijfj38734hujfie';
  $remoteDomain = 'http://192.168.0.28';
  $date = gmdate('dmY');
  $hash = "";

  for($i = 0; $i <= 200; $i++) 
  $hash = sha1($hash. $initKey. $remoteDomain. $date);

  return $hash;
}

function SendRequest($methodname,$xml,$hash,$id)
{

  $url = 'http://192.168.0.28/wawision/18.3/www/index.php?module=api&action='.$methodname.'&hash='.$hash.'&id='.$id;

  $xml = '<?xml version="1.0" encoding="UTF-8"?></p>
<p><request>
  <status>
  <function>&lsquo;.$methodname.&rsquo;</function>
  </status>
  <xml>&lsquo;.$xml.&rsquo;</xml>
  </request>&lsquo;;</p>
<p>$data = array(&lsquo;xml&rsquo; =&gt; $xml, &lsquo;md5sum&rsquo; =&gt; md5($xml));</p>
<p>// use key &lsquo;http&rsquo; even if you send the request to https://&hellip;
  $options = array(
  &lsquo;http&rsquo; =&gt; array(
  &lsquo;header&rsquo; =&gt; &ldquo;Content-type: application/x-www-form-urlencoded\r\n&rdquo;,
  &lsquo;method&rsquo; =&gt; &lsquo;POST&rsquo;,
  &lsquo;content&rsquo; =&gt; http_build_query($data),
),
);</p>
<p>$context = stream_context_create($options);
  $result = file_get_contents($url, false, $context);
  return $result;
}</p>
<p>$obj = simplexml_load_string($output_xml);
echo &ldquo;<pre>&ldquo;;
print_r($obj);
echo &ldquo;</pre>&ldquo;;</p>
<p>?&gt;</p>
<p><code>#### Beispiel Antwort AccountEdit</code>
  <?xml version="1.0" encoding="UTF-8"?></p>
<p><response>
  <status>
  <action>AccountEdit</action>
  <message>OK</message>
  <messageCode>1</messageCode>
  </status> 
</response></p>
<p><code>#### Beispiel Anfrage AdresseAccountsGet mit Funktionen</code>
  <?php
$hash = generateHash();

$xml = "";

$id = 3; 

$output_xml = SendRequest("AdresseAccountsGet",$xml,$hash,$id); 

function generateHash()
{

  $initKey = 'neijfj38734hujfie';
  $remoteDomain = 'http://192.168.0.28';
  $date = gmdate('dmY');
  $hash = "";

  for($i = 0; $i <= 200; $i++) 
  $hash = sha1($hash. $initKey. $remoteDomain. $date);

  return $hash;
}

function SendRequest($methodname,$xml,$hash,$id)
{

  $url = 'http://192.168.0.28/wawision/18.3/www/index.php?module=api&action='.$methodname.'&hash='.$hash.'&id='.$id;

  $xml = '<?xml version="1.0" encoding="UTF-8"?></p>
<p><request>
  <status>
  <function>&lsquo;.$methodname.&rsquo;</function>
  </status>
  <xml>&lsquo;.$xml.&rsquo;</xml>
  </request>&lsquo;;</p>
<p>$data = array(&lsquo;xml&rsquo; =&gt; $xml, &lsquo;md5sum&rsquo; =&gt; md5($xml));</p>
<p>// use key &lsquo;http&rsquo; even if you send the request to https://&hellip;
  $options = array(
  &lsquo;http&rsquo; =&gt; array(
  &lsquo;header&rsquo; =&gt; &ldquo;Content-type: application/x-www-form-urlencoded\r\n&rdquo;,
  &lsquo;method&rsquo; =&gt; &lsquo;POST&rsquo;,
  &lsquo;content&rsquo; =&gt; http_build_query($data),
),
);</p>
<p>$context = stream_context_create($options);
  $result = file_get_contents($url, false, $context);
  return $result;
}</p>
<p>$obj = simplexml_load_string($output_xml);
echo &ldquo;<pre>&ldquo;;
print_r($obj);
echo &ldquo;</pre>&ldquo;;</p>
<p>?&gt;</p>
<p><code>#### Beispiel Antwort AdresseAccountsGet</code>
  <?xml version="1.0" encoding="UTF-8"?></p>
<p><response>
  <status>
  <action>AdresseAccountsGet</action>
  <message>OK</message>
  <messageCode>1</messageCode>
  </status>
  <xml>
  <adresse_accounts>
  <account>
  <id>2</id>
  <aktiv>1</aktiv>
  <adresse>3</adresse>
  <bezeichnung>Datenbank Login</bezeichnung>
  <art>db</art>
  <url>http://192.168.0.28/meinedatenbank</url>
  <benutzername>mustermannmax</benutzername>
  <passwort>123456</passwort>
  <webid>0</webid>
  <gueltig_ab>2018-08-20</gueltig_ab>
  <gueltig_bis>2019-08-20</gueltig_bis>
  <email>maxmustermann@maxmustermann.de</email>
  <notiz>Datenbank Login zu Testsystem</notiz>
  </account>
  </adresse_accounts>
  </xml>
</response></p>
<pre><code>
### Weitere M√∂glichkeiten zur Nutzung der API

#### Zeiterfassung einem Mitarbeiter zuordnen

Ab Version 19.2 gibt es die M√∂glichkeit, √ºber die API eine Zeiterfassung zu erstellen:

adresse

Wenn die ID der Adresse bekannt ist, f√ºr die die Zeiterfassung erstellt werden soll, kann diese im Feld adresse_abrechnung √ºbergeben werden

##### Beispiel Anfrage ZeiterfassungCreate mit Adresse

</code></pre>
<?php
$hash = generateHash();

$xml = "<adresse>1</adresse>
<adresse_abrechnung>1</adresse_abrechnung>
<von>2017-01-01 12:00:00</von>
<bis>2017-01-01 14:15:00</bis>
<aufgabe>Hallo</aufgabe>";

$id = "2";

$output_xml = SendRequest("ZeiterfassungCreate",$xml,$hash,$id); 

function generateHash()
{

  $initKey = 'neijfj38734hujfie';
  $remoteDomain = 'http://192.168.0.28';
  $date = gmdate('dmY');
  $hash = "";

  for($i = 0; $i <= 200; $i++) 
  $hash = sha1($hash. $initKey. $remoteDomain. $date);

  return $hash;
}

function SendRequest($methodname,$xml,$hash,$id)
{

  $url = 'http://192.168.0.28/wawision/18.3/www/index.php?module=api&action='.$methodname.'&hash='.$hash.'&id='.$id;

  $xml = '<?xml version="1.0" encoding="UTF-8"?>
<p><request>
  <status>
  <function>&lsquo;.$methodname.&rsquo;</function>
  </status>
  <xml>&lsquo;.$xml.&rsquo;</xml>
  </request>&lsquo;;</p>
<p>$data = array(&lsquo;xml&rsquo; =&gt; $xml, &lsquo;md5sum&rsquo; =&gt; md5($xml));</p>
<p>// use key &lsquo;http&rsquo; even if you send the request to https://&hellip;
  $options = array(
  &lsquo;http&rsquo; =&gt; array(
  &lsquo;header&rsquo; =&gt; &ldquo;Content-type: application/x-www-form-urlencoded\r\n&rdquo;,
  &lsquo;method&rsquo; =&gt; &lsquo;POST&rsquo;,
  &lsquo;content&rsquo; =&gt; http_build_query($data),
),
);</p>
<p>$context = stream_context_create($options);
  $result = file_get_contents($url, false, $context);
  return $result;
}</p>
<p>$obj = simplexml_load_string($output_xml);
echo &ldquo;<pre>&ldquo;;
print_r($obj);
echo &ldquo;</pre>&ldquo;;</p>
<p>?&gt;</p>
<p><code>##### Beispiel Antwort ZeiterfassungCreate mit Adresse</code>
  <?xml version="1.0" encoding="UTF-8"?></p>
<p><response>
  <status>
  <action>ZeiterfassungCreate</action>
  <message>OK</message>
  <messageCode>1</messageCode>
  </status>
</response></p>
<pre><code>
mitarbeiternummer

Ab Version 19.3 gibt es M√∂glichkeiten, √ºber die API eine Zeiterfassung f√ºr eine bestimmte Mitarbeiternummer zu erstellen.

##### Beispiel Anfrage ZeiterfassungCreate mit Mitarbeiternummer

</code></pre>
<?php
$hash = generateHash();

$xml = "<mitarbeiternummer>90002</mitarbeiternummer>
<von>2017-01-01 12:00:00</von>
<bis>2017-01-01 14:15:00</bis>
<aufgabe>Hallo</aufgabe>";

$id = "2";

$output_xml = SendRequest("ZeiterfassungCreate",$xml,$hash,$id); 

function generateHash()
{

  $initKey = 'neijfj38734hujfie';
  $remoteDomain = 'http://192.168.0.28';
  $date = gmdate('dmY');
  $hash = "";

  for($i = 0; $i <= 200; $i++) 
  $hash = sha1($hash. $initKey. $remoteDomain. $date);

  return $hash;
}

function SendRequest($methodname,$xml,$hash,$id)
{

  $url = 'http://192.168.0.28/wawision/18.3/www/index.php?module=api&action='.$methodname.'&hash='.$hash.'&id='.$id;

  $xml = '<?xml version="1.0" encoding="UTF-8"?>
<p><request>
  <status>
  <function>&lsquo;.$methodname.&rsquo;</function>
  </status>
  <xml>&lsquo;.$xml.&rsquo;</xml>
  </request>&lsquo;;</p>
<p>$data = array(&lsquo;xml&rsquo; =&gt; $xml, &lsquo;md5sum&rsquo; =&gt; md5($xml));</p>
<p>// use key &lsquo;http&rsquo; even if you send the request to https://&hellip;
  $options = array(
  &lsquo;http&rsquo; =&gt; array(
  &lsquo;header&rsquo; =&gt; &ldquo;Content-type: application/x-www-form-urlencoded\r\n&rdquo;,
  &lsquo;method&rsquo; =&gt; &lsquo;POST&rsquo;,
  &lsquo;content&rsquo; =&gt; http_build_query($data),
),
);</p>
<p>$context = stream_context_create($options);
  $result = file_get_contents($url, false, $context);
  return $result;
}</p>
<p>$obj = simplexml_load_string($output_xml);
echo &ldquo;<pre>&ldquo;;
print_r($obj);
echo &ldquo;</pre>&ldquo;;</p>
<p>?&gt;</p>
<p><code>##### Beispiel Antwort ZeiterfassungCreate mit Mitarbeiternummer</code>
  <?xml version="1.0" encoding="UTF-8"?></p>
<p><response>
  <status>
  <action>ZeiterfassungCreate</action>
  <message>OK</message>
  <messageCode>1</messageCode>
  </status>
</response></p>
<pre><code>
#### Rechnung als bezahlt markieren

Ab Version 20.1 gibt es die M√∂glichkeit, √ºber die API Rechnungen als bezahlt zu markieren.

##### Beispiel Anfrage RechnungAlsBezahltMarkieren

</code></pre>
<?php

$xml = '<id>6</id>';

$output_xml = SendRequest('RechnungAlsBezahltMarkieren', $xml);

echo "<pre>";
var_dump($output_xml);
echo "</pre>";

function SendRequest($methodname,$xml)
{
  $url = 'http://localhost/xentral/20.1/www/api/'.$methodname;

  $ch = curl_init($url);
  curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
  curl_setopt($ch, CURLOPT_HTTPAUTH, CURLAUTH_DIGEST);
  curl_setopt($ch, CURLOPT_USERPWD, "apitest:password1234");
  curl_setopt($ch, CURLOPT_POST, true);
  curl_setopt($ch, CURLOPT_POSTFIELDS, '<xml>'.$xml.'</xml>');
  curl_setopt($ch, CURLOPT_HTTPHEADER, ['content-type: application/xml']);
  $response = curl_exec($ch);
  curl_close($ch);

  return $response;
}

?>

<p><code>##### Beispiel Antwort RechnungAlsBezahltMarkieren</code>
  <?xml version="1.0" encoding="UTF-8"?></p>
<p><response>
  <status>
  <action></action>
  <message>OK</message>
  <messageCode>1</messageCode>
  </status>
  <xml>
  <id>6</id>
  </xml>
</response></p>
<pre><code>
#### Auftrag abschlie√üen

Ab Version 20.1 kann ein Auftrag √ºber die API abgeschlossen werden.

##### Beispiel Anfrage AuftragAbschliessen

</code></pre>
<?php

$xml = '<id>2</id>';

$output_xml = SendRequest('AuftragAbschliessen', $xml);

echo "<pre>";
var_dump($output_xml);
echo "</pre>";

function SendRequest($methodname,$xml)
{
  $url = 'http://localhost/xentral/20.1/www/api/'.$methodname;

  $ch = curl_init($url);
  curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
  curl_setopt($ch, CURLOPT_HTTPAUTH, CURLAUTH_DIGEST);
  curl_setopt($ch, CURLOPT_USERPWD, "apitest:password1234");
  curl_setopt($ch, CURLOPT_POST, true);
  curl_setopt($ch, CURLOPT_POSTFIELDS, '<xml>'.$xml.'</xml>');
  curl_setopt($ch, CURLOPT_HTTPHEADER, ['content-type: application/xml']);
  $response = curl_exec($ch);
  curl_close($ch);

  return $response;
}

?>

<p><code>##### Beispiel Antwort AuftragAbschliessen</code>
  <?xml version="1.0" encoding="UTF-8"?></p>
<p><response>
  <status>
  <action></action>
  <message>OK</message>
  <messageCode>1</messageCode>
  </status>
  <xml>
  <id>2</id>
  </xml>
</response></p>
<pre><code>
#### Belege freigeben

Ab Version 20.1 gibt es die M√∂glichkeit, Belege √ºber die API freizugeben. Das gilt f√ºr die Belegarten Angebot, Auftrag, Rechnung, Lieferschein, Bestellung und Gutschrift. Der Aufruf ist f√ºr alle Belegarten gleich, es √§ndert sich nur der Funktionsname.

##### Beispiel anhand eines Auftrags

</code></pre>
<?php

$xml = '<id>2</id>';

$output_xml = SendRequest('AuftragFreigabe', $xml);

echo "<pre>";
var_dump($output_xml);
echo "</pre>";

function SendRequest($methodname,$xml)
{
  $url = 'http://localhost/xentral/20.1/www/api/'.$methodname;

  $ch = curl_init($url);
  curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
  curl_setopt($ch, CURLOPT_HTTPAUTH, CURLAUTH_DIGEST);
  curl_setopt($ch, CURLOPT_USERPWD, "apitest:password1234");
  curl_setopt($ch, CURLOPT_POST, true);
  curl_setopt($ch, CURLOPT_POSTFIELDS, '<xml>'.$xml.'</xml>');
  curl_setopt($ch, CURLOPT_HTTPHEADER, ['content-type: application/xml']);
  $response = curl_exec($ch);
  curl_close($ch);

  return $response;
}

?>

<p><code>##### Beispiel Antwort AuftragAbschliessen</code>
  <?xml version="1.0" encoding="UTF-8"?></p>
<p><response>
  <status>
  <action></action>
  <message>OK</message>
  <messageCode>1</messageCode>
  </status>
  <xml>
  <id>8</id>
  <belegnr>200007</belegnr>
  </xml>
</response></p>
<pre><code>
#### Belege Abschicken

Ab Version 20.1 gibt es die M√∂glichkeit, Belege √ºber die API zu versenden. Das gilt f√ºr Angebot, Auftragsbest√§tigung, Rechnung, Lieferschein und Gutschrift. Der Aufruf ist f√ºr alle Belegarten gleich, es √§ndert sich nur der Funktionsname.

##### Beispiel Anfrage AuftragVersenden

</code></pre>
<?php

$xml = '<id>8</id>
  <versandart>email</versandart>
  <drucker>1</drucker>';

$output_xml = SendRequest('AuftragVersenden', $xml);

echo "<pre>";
var_dump($output_xml);
echo "</pre>";

function SendRequest($methodname,$xml)
{
  $url = 'http://localhost/xentral/20.1/www/api/'.$methodname;

  $ch = curl_init($url);
  curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
  curl_setopt($ch, CURLOPT_HTTPAUTH, CURLAUTH_DIGEST);
  curl_setopt($ch, CURLOPT_USERPWD, "apitest:password1234");
  curl_setopt($ch, CURLOPT_POST, true);
  curl_setopt($ch, CURLOPT_POSTFIELDS, '<xml>'.$xml.'</xml>');
  curl_setopt($ch, CURLOPT_HTTPHEADER, ['content-type: application/xml']);
  $response = curl_exec($ch);
  curl_close($ch);

  return $response;
}

?>

<p><code>##### Beispiel Antwort AuftragVersenden</code>
  <?xml version="1.0" encoding="UTF-8"?></p>
<p><response>
  <status>
  <action></action>
  <message>OK</message>
  <messageCode>1</messageCode>
  </status>
  <xml>
  <id>8</id>
  </xml>
</response></p>
<pre><code>
#### Auftrag als Rechnung weiterf√ºhren

Ab Version 20.1 gibt es die M√∂glichkeit, Auftr√§ge √ºber die API als Rechnung weiterzuf√ºhren.

##### Beispiel Anfrage WeiterfuehrenAuftragZuRechnung

</code></pre>
<?php

$xml = '<id>10</id>';

$output_xml = SendRequest('WeiterfuehrenAuftragZuRechnung', $xml);

echo "<pre>";
var_dump($output_xml);
echo "</pre>";

function SendRequest($methodname,$xml)
{
  $url = 'http://localhost/xentral/20.1/www/api/'.$methodname;

  $ch = curl_init($url);
  curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
  curl_setopt($ch, CURLOPT_HTTPAUTH, CURLAUTH_DIGEST);
  curl_setopt($ch, CURLOPT_USERPWD, "apitest:password1234");
  curl_setopt($ch, CURLOPT_POST, true);
  curl_setopt($ch, CURLOPT_POSTFIELDS, '<xml>'.$xml.'</xml>');
  curl_setopt($ch, CURLOPT_HTTPHEADER, ['content-type: application/xml']);
  $response = curl_exec($ch);
  curl_close($ch);

  return $response;
}

?>

<p><code>##### Beispiel Antwort WeiterfuehrenAuftragZuRechnung</code>
  <?xml version="1.0" encoding="UTF-8"?></p>
<p><response>
  <status>
  <action></action>
  <message>OK</message>
  <messageCode>1</messageCode>
  </status>
  <xml>
  <id>18</id>
  </xml>
</response></p>
<pre><code>
#### Rechnung als Gutschrift weiterf√ºhren

Ab Version 20.1 gibt es die M√∂glichkeit, Rechnungen √ºber die API als Gutschrift weiterzuf√ºhren.

##### Beispiel Anfrage WeiterfuehrenRechnungZuGutschrift

</code></pre>
<?php

$xml = '<id>1</id>';

$output_xml = SendRequest('WeiterfuehrenRechnungZuGutschrift', $xml);

echo "<pre>";
var_dump($output_xml);
echo "</pre>";

function SendRequest($methodname,$xml)
{
  $url = 'http://localhost/xentral/20.1/www/api/'.$methodname;

  $ch = curl_init($url);
  curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
  curl_setopt($ch, CURLOPT_HTTPAUTH, CURLAUTH_DIGEST);
  curl_setopt($ch, CURLOPT_USERPWD, "apitest:password1234");
  curl_setopt($ch, CURLOPT_POST, true);
  curl_setopt($ch, CURLOPT_POSTFIELDS, '<xml>'.$xml.'</xml>');
  curl_setopt($ch, CURLOPT_HTTPHEADER, ['content-type: application/xml']);
  $response = curl_exec($ch);
  curl_close($ch);

  return $response;
}

?>

<p><code>##### Beispiel Antwort WeiterfuehrenRechnungZuGutschrift</code>
  <?xml version="1.0" encoding="UTF-8"?></p>
<p><response>
  <status>
  <action></action>
  <message>OK</message>
  <messageCode>1</messageCode>
  </status>
  <xml>
  <id>4</id>
  </xml>
</response></p>
<pre><code>
#### Stechuhrstatus abfragen

Der aktuelle Status eines Mitarbeiters an der Stechuhr kann mit der ID der Stechuhr und der AdressID des Mitarbeiters abgerufen werden.

##### Beispiel Anfrage StechuhrStatusGet

</code></pre>
<?php

$xml = '<id>1</id>
  <adresse>6</adresse>';

$output_xml = SendRequest('StechuhrstatusGet', $xml);

echo "<pre>";
var_dump($output_xml);
echo "</pre>";

function SendRequest($methodname,$xml)
{
  $url = 'http://localhost/xentral/20.1/www/api/'.$methodname;

  $ch = curl_init($url);
  curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
  curl_setopt($ch, CURLOPT_HTTPAUTH, CURLAUTH_DIGEST);
  curl_setopt($ch, CURLOPT_USERPWD, "apitest:password1234");
  curl_setopt($ch, CURLOPT_POST, true);
  curl_setopt($ch, CURLOPT_POSTFIELDS, '<xml>'.$xml.'</xml>');
  curl_setopt($ch, CURLOPT_HTTPHEADER, ['content-type: application/xml']);
  $response = curl_exec($ch);
  curl_close($ch);

  return $response;
}

?>

<p><code>##### Beispiel Antwort StechuhrStatusGet</code>
  <?xml version="1.0" encoding="UTF-8"?></p>
<p><response>
  <status>
  <action>StechuhrStatusGet</action>
  <message>OK</message>
  <messageCode>1</messageCode>
  </status>
  <xml>
  <status>pausestart</status>
  <seit>0.08</seit>
<br />
<dd>0</dd></p>
<p><kommen>0</kommen>
  </xml>
</response></p>
<pre><code>
#### Stechuhrstatus √§ndern

Der aktuelle Status eines Mitarbeiters an der Stechuhr kann mit dem neuen Status und der ID des Benutzers oder der Adresse des Mitarbeiters gesetzt werden. Welcher Status gesetzt werden kann, ist vom aktuellen Status abh√§ngig:

- Wenn aktueller Status = 'gehen': Nur Status 'kommen' kann gesetzt werden
- Wenn aktueller Status = 'kommen': Nur Status 'gehen' oder 'pausestart' kann gesetzt werden
- Wenn aktueller Status = 'pausestart': Nur Status 'pausestop' kann gesetzt werden

##### Beispiel Anfrage StechuhrStatusSet

</code></pre>
<?php

$xml = '<cmd>pausestop</cmd>
  <adresse>6</adresse>';

$output_xml = SendRequest('StechuhrstatusSet', $xml);

echo "<pre>";
var_dump($output_xml);
echo "</pre>";

function SendRequest($methodname,$xml)
{
  $url = 'http://localhost/xentral/20.1/www/api/'.$methodname;

  $ch = curl_init($url);
  curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
  curl_setopt($ch, CURLOPT_HTTPAUTH, CURLAUTH_DIGEST);
  curl_setopt($ch, CURLOPT_USERPWD, "apitest:password1234");
  curl_setopt($ch, CURLOPT_POST, true);
  curl_setopt($ch, CURLOPT_POSTFIELDS, '<xml>'.$xml.'</xml>');
  curl_setopt($ch, CURLOPT_HTTPHEADER, ['content-type: application/xml']);
  $response = curl_exec($ch);
  curl_close($ch);

  return $response;
}

?>

<p><code>##### Beispiel Antwort StechuhrStatusSet</code>
  <?xml version="1.0" encoding="UTF-8"?></p>
<p><response>
  <status>
  <action>StechuhrStatusSet</action>
  <message>OK</message>
  <messageCode>1</messageCode>
  </status>
</response></p>
<p><code>##### Beispiel Anfrage StechuhrSummary</code>
  <?php

$xml = '<adresse>6</adresse>';

$output_xml = SendRequest('StechuhrSummary', $xml);

echo "<pre>";
var_dump($output_xml);
echo "</pre>";

function SendRequest($methodname,$xml)
{
  $url = 'http://localhost/xentral/20.1/www/api/'.$methodname;

  $ch = curl_init($url);
  curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
  curl_setopt($ch, CURLOPT_HTTPAUTH, CURLAUTH_DIGEST);
  curl_setopt($ch, CURLOPT_USERPWD, "apitest:password1234");
  curl_setopt($ch, CURLOPT_POST, true);
  curl_setopt($ch, CURLOPT_POSTFIELDS, '<xml>'.$xml.'</xml>');
  curl_setopt($ch, CURLOPT_HTTPHEADER, ['content-type: application/xml']);
  $response = curl_exec($ch);
  curl_close($ch);

  return $response;
}

?>
</p>
<p><code>##### Beispiel Antwort StechuhrSummary</code>
  <?xml version="1.0" encoding="UTF-8"?></p>
<p><response>
  <status>
  <action>StechuhrStatusSet</action>
  <message>OK</message>
  <messageCode>1</messageCode>
  </status>
  <xml>
  <mitarbeiter_adresse type="documentary">6</mitarbeiter_adresse>
  <ZeitRequest>2019-11-25T10:17:01+01:00</ZeitRequest>
  <UrlaubSoll>0</UrlaubSoll>
  <UrlaubIst>0</UrlaubIst>
  <UeberstundenMonat>0.00</UeberstundenMonat>
  <UeberstundenGesamt>0.00</UeberstundenGesamt>
  <KW>1</KW>
  <Einzelauflistung>
  <Kalenderwoche>
  <KW>48</KW>
  <Arbeitstag>
  <Datum>25.11.2019</Datum>
  <ArbeitszeitSoll>0</ArbeitszeitSoll>
  <ArbeitszeitIst>0.25</ArbeitszeitIst>
  <ArbeitsEvents>
  <Event>
  <typ>kommen</typ>
  <zeit>08:00</zeit>
  </Event>
  <Event>
  <typ>pausestart</typ>
  <zeit>12:30</zeit>
  </Event>
  <Event>
  <typ>pausestop</typ>
  <zeit>13:30</zeit>
  </Event>
  <Event>
  <typ>gehen</typ>
  <zeit>17:00</zeit>
  </Event>
  </ArbeitsEvents>
  </Arbeitstag>
  <Arbeitstag>
  <Datum>26.11.2019</Datum>
  <ArbeitszeitSoll>0</ArbeitszeitSoll>
  <ArbeitszeitIst>0</ArbeitszeitIst>
  <ArbeitsEvents/>
  </Arbeitstag>
  [&hellip;]
  </Kalenderwoche>
  </Einzelauflistung>
  </xml>
</response></p>
<p>```</p>
<h3 id="aktueller-hinweis-neue-api-accounts-ab-version-203">Aktueller Hinweis: Neue API Accounts ab Version 20.3<a class="headerlink" href="#aktueller-hinweis-neue-api-accounts-ab-version-203" title="Permanent link">&para;</a></h3>
<p>Ab Version 20.3 muss <strong>jeder </strong> API Account auch mit Permissions versehen sein. Diese m√ºssen <strong>immer</strong> eingestellt werden. Beim Update von Version 20.2 auf Version 20.3 ist der API Account aus den Grundeinstellungen in die API Accounts App √ºbernommen worden.</p>
<p>Die API Accounts aus den Grundeinstellungen in das Modul API Accounts migriert. Hier ben√∂tigen Sie keine weiteren Anpassungen des Aufrufs.</p>
<p>Sollten Sie bereits einen API Account aus dem Modul API Account nutzen und den Aufruf ohne den Parameter der API-ID verwenden, nehmen Sie bitte folgende Anpassung vor:</p>
<p>F√ºr diesen Aufruf (/www/index.php?module=api&amp;action=AdresseGet&amp;hash={hash}&amp;id={address-id}) wird noch zus√§tzlich der Parameter &amp;api_id={api_id} ben√∂tigt. Dabei ist &ldquo;id&rdquo; mit der ID der zu verwendenden API zu ersetzen, also z.B. &ldquo;api_id=1&rdquo; oder &ldquo;api_id=2&rdquo;.</p>
<h4 id="umstellung-des-api-aufrufs-via-hash">Umstellung des API-Aufrufs via Hash<a class="headerlink" href="#umstellung-des-api-aufrufs-via-hash" title="Permanent link">&para;</a></h4>
<h5 id="hintergrund">Hintergrund<a class="headerlink" href="#hintergrund" title="Permanent link">&para;</a></h5>
<p>Es gibt verschiedene M√∂glichkeiten, die xentral-API anzusprechen. In der ersten Variante wurde folgender Aufruf verwendet:</p>
<p>URL.de/index.php?module=api&amp;action=BenutzerList&amp;hash=</p>
<p>Diese war auf den API-Account aus den Grundeinstellungen zugeschnitten, der nicht weiter √ºber IDs oder √Ñhnliches unterschieden werden konnte.</p>
<p>Mit der Version 20.1 wurde dann das eigene Modul f√ºr API-Accounts implementiert und zus√§tzlich auch ein neuer Parameter ‚Äúapi_id‚Äù hinzugef√ºgt, welcher in Kombination mit dem Hash sicherstellt, dass die Anfragen auch √ºber den korrekten API-Account aufgerufen/abgehandelt werden. Wie der Parametername schon vermuten l√§sst, handelt es sich hier dann um die ID des API-Accounts.</p>
<p>Dieser Parameter wird seit der Version 20.3 als Pflichtangabe ben√∂tigt.¬†Ohne diesen werden die Aufrufe mit der Fehlermeldung &ldquo;wrong hash&rdquo; begleitet.</p>
<h4 id="wie-verwende-ich-diesen-parameter-korrekt">Wie verwende ich diesen Parameter korrekt?<a class="headerlink" href="#wie-verwende-ich-diesen-parameter-korrekt" title="Permanent link">&para;</a></h4>
<p>Hier ist die ID API-Account des Accounts mit zu √ºbergeben. Derzeit kann die ID des Parameters nicht in der Oberfl√§che herausgelesen werden. Eine √Ñnderung wird derzeit durch die Entwicklung vorbereitet.</p>
<h4 id="wie-kann-die-id-des-api-accounts-abgefragt-werden">Wie kann die ID des API-Accounts abgefragt werden?<a class="headerlink" href="#wie-kann-die-id-des-api-accounts-abgefragt-werden" title="Permanent link">&para;</a></h4>
<h5 id="datenbank-ansicht">Datenbank Ansicht<a class="headerlink" href="#datenbank-ansicht" title="Permanent link">&para;</a></h5>
<p>Modul &ldquo;Datenbank Ansicht&rdquo; √∂ffnen via Supersearch oder √ºber den Appstore. Tabelle &ldquo;api_account&rdquo; anw√§hlen. In der Spalte ‚ÄúBezeichnung‚Äù nach dem Namen/Bezeichnung des API-Accounts suchen. Links davon befindet sich die ID.</p>
<blockquote>
<p><strong>Anmerkung</strong></p>
<p>Bei mehreren Eintr√§gen kann es sein, dass die Ansicht nicht nur langsam oder nicht ge√∂ffnet wird. Hier dann auf Variante 2 umsteigen.</p>
</blockquote>
<h5 id="bericht">Bericht<a class="headerlink" href="#bericht" title="Permanent link">&para;</a></h5>
<p>√ñffne Controlling ‚Üí Berichte.</p>
<ol>
<li>Neuen Bericht erstellen</li>
<li>
<p>Folgendes SQL angeben
  select id, bezeichnung from api_account where bezeichnung like &lsquo;%Migration%&rsquo; // Der Name h√§ngt hier nat√ºrlich von der verwendeten Bezeichnung ab. Spalten erzeugen lassen</p>
</li>
<li>
<p>Unter &ldquo;Ansicht&rdquo; sich die entsprechende ID anzeigen lassen <strong>Neues Beispiel anhand des Parameters:</strong></p>
</li>
</ol>
<p>IhreURL/20.3/www/index.php?module=api&amp;action=BenutzerListhash=b7a41dfcc80257710d799a7576f685f12f096624&amp;api_id=26</p>
<p>Die Reihenfolge der Parameter spielt keine Rolle.</p>
<h4 id="alternative-zum-hash-aufruf">Alternative zum Hash-Aufruf<a class="headerlink" href="#alternative-zum-hash-aufruf" title="Permanent link">&para;</a></h4>
<p>Nachdem der Hash-Aufruf auch nur f√ºr die API-Funktionen der Standard-API verwendet werden kann, besteht auch die Option √ºber den Wrapper der REST-API zu gehen.</p>
<p>Die Umleitung wird hier beschrieben:<a href="https://update.xentral.biz/apidoc/docs203.html#standard_api_aufrufe">https://update.xentral.biz/apidoc/docs203.html#standard_api_aufrufe</a></p>
<p>Zus√§tzlich √§ndert sich dadurch aber auch die Methode zur Authentifizierung.<a href="https://update.xentral.biz/apidoc/docs203.html#authentifizierung">https://update.xentral.biz/apidoc/docs203.html#authentifizierung</a></p>
    </div>
    
    <div class="footer">
        <p>Generiert am: 16.11.2025 19:17 | 
        Quelle: Markdown zu HTML Konvertierung</p>
    </div>
</body>
</html>